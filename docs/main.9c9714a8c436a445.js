"use strict";(self.webpackChunkSocialMediaApp=self.webpackChunkSocialMediaApp||[]).push([[179],{787:($u,Ni,$t)=>{function me(i){return"function"==typeof i}function S(i){const t=i(o=>{Error.call(o),o.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Ze=S(i=>function(t){i(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((o,s)=>`${s+1}) ${o.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function dt(i,e){if(i){const t=i.indexOf(e);0<=t&&i.splice(t,1)}}class At{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const u of t)u.remove(this);else t.remove(this);const{initialTeardown:o}=this;if(me(o))try{o()}catch(u){e=u instanceof Ze?u.errors:[u]}const{_teardowns:s}=this;if(s){this._teardowns=null;for(const u of s)try{Xi(u)}catch(d){e=null!=e?e:[],d instanceof Ze?e=[...e,...d.errors]:e.push(d)}}if(e)throw new Ze(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Xi(e);else{if(e instanceof At){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._teardowns=null!==(t=this._teardowns)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&dt(t,e)}remove(e){const{_teardowns:t}=this;t&&dt(t,e),e instanceof At&&e._removeParent(this)}}At.EMPTY=(()=>{const i=new At;return i.closed=!0,i})();const Fo=At.EMPTY;function Xr(i){return i instanceof At||i&&"closed"in i&&me(i.remove)&&me(i.add)&&me(i.unsubscribe)}function Xi(i){me(i)?i():i.unsubscribe()}const se={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},G={setTimeout(...i){const{delegate:e}=G;return((null==e?void 0:e.setTimeout)||setTimeout)(...i)},clearTimeout(i){const{delegate:e}=G;return((null==e?void 0:e.clearTimeout)||clearTimeout)(i)},delegate:void 0};function we(i){G.setTimeout(()=>{const{onUnhandledError:e}=se;if(!e)throw i;e(i)})}function Me(){}const ke=Gt("C",void 0,void 0);function Gt(i,e,t){return{kind:i,value:e,error:t}}let Lt=null;function Ct(i){if(se.useDeprecatedSynchronousErrorHandling){const e=!Lt;if(e&&(Lt={errorThrown:!1,error:null}),i(),e){const{errorThrown:t,error:o}=Lt;if(Lt=null,t)throw o}}else i()}class Xt extends At{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Xr(e)&&e.add(this)):this.destination=dn}static create(e,t,o){return new Ci(e,t,o)}next(e){this.isStopped?at(function Ut(i){return Gt("N",i,void 0)}(e),this):this._next(e)}error(e){this.isStopped?at(function He(i){return Gt("E",void 0,i)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?at(ke,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Ci extends Xt{constructor(e,t,o){let s;if(super(),me(e))s=e;else if(e){let u;({next:s,error:t,complete:o}=e),this&&se.useDeprecatedNextContext?(u=Object.create(e),u.unsubscribe=()=>this.unsubscribe()):u=e,s=null==s?void 0:s.bind(u),t=null==t?void 0:t.bind(u),o=null==o?void 0:o.bind(u)}this.destination={next:s?Dt(s):Me,error:Dt(null!=t?t:or),complete:o?Dt(o):Me}}}function Dt(i,e){return(...t)=>{try{i(...t)}catch(o){se.useDeprecatedSynchronousErrorHandling?function Lr(i){se.useDeprecatedSynchronousErrorHandling&&Lt&&(Lt.errorThrown=!0,Lt.error=i)}(o):we(o)}}}function or(i){throw i}function at(i,e){const{onStoppedNotification:t}=se;t&&G.setTimeout(()=>t(i,e))}const dn={closed:!0,next:Me,error:or,complete:Me},Ji="function"==typeof Symbol&&Symbol.observable||"@@observable";function te(i){return i}let de=(()=>{class i{constructor(t){t&&(this._subscribe=t)}lift(t){const o=new i;return o.source=this,o.operator=t,o}subscribe(t,o,s){const u=function nt(i){return i&&i instanceof Xt||function Oe(i){return i&&me(i.next)&&me(i.error)&&me(i.complete)}(i)&&Xr(i)}(t)?t:new Ci(t,o,s);return Ct(()=>{const{operator:d,source:m}=this;u.add(d?d.call(u,m):m?this._subscribe(u):this._trySubscribe(u))}),u}_trySubscribe(t){try{return this._subscribe(t)}catch(o){t.error(o)}}forEach(t,o){return new(o=Pe(o))((s,u)=>{let d;d=this.subscribe(m=>{try{t(m)}catch(y){u(y),null==d||d.unsubscribe()}},u,s)})}_subscribe(t){var o;return null===(o=this.source)||void 0===o?void 0:o.subscribe(t)}[Ji](){return this}pipe(...t){return function V(i){return 0===i.length?te:1===i.length?i[0]:function(t){return i.reduce((o,s)=>s(o),t)}}(t)(this)}toPromise(t){return new(t=Pe(t))((o,s)=>{let u;this.subscribe(d=>u=d,d=>s(d),()=>o(u))})}}return i.create=e=>new i(e),i})();function Pe(i){var e;return null!==(e=null!=i?i:se.Promise)&&void 0!==e?e:Promise}const Qt=S(i=>function(){i(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let et=(()=>{class i extends de{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const o=new wt(this,this);return o.operator=t,o}_throwIfClosed(){if(this.closed)throw new Qt}next(t){Ct(()=>{if(this._throwIfClosed(),!this.isStopped){const o=this.observers.slice();for(const s of o)s.next(t)}})}error(t){Ct(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:o}=this;for(;o.length;)o.shift().error(t)}})}complete(){Ct(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:o,isStopped:s,observers:u}=this;return o||s?Fo:(u.push(t),new At(()=>dt(u,t)))}_checkFinalizedStatuses(t){const{hasError:o,thrownError:s,isStopped:u}=this;o?t.error(s):u&&t.complete()}asObservable(){const t=new de;return t.source=this,t}}return i.create=(e,t)=>new wt(e,t),i})();class wt extends et{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,o;null===(o=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===o||o.call(t,e)}error(e){var t,o;null===(o=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===o||o.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,o;return null!==(o=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==o?o:Fo}}function un(i){return me(null==i?void 0:i.lift)}function Ge(i){return e=>{if(un(e))return e.lift(function(t){try{return i(t,this)}catch(o){this.error(o)}});throw new TypeError("Unable to lift unknown Observable type")}}class Ie extends Xt{constructor(e,t,o,s,u){super(e),this.onFinalize=u,this._next=t?function(d){try{t(d)}catch(m){e.error(m)}}:super._next,this._error=s?function(d){try{s(d)}catch(m){e.error(m)}finally{this.unsubscribe()}}:super._error,this._complete=o?function(){try{o()}catch(d){e.error(d)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}function je(i,e){return Ge((t,o)=>{let s=0;t.subscribe(new Ie(o,u=>{o.next(i.call(e,u,s++))}))})}function yn(i){return this instanceof yn?(this.v=i,this):new yn(i)}function Ra(i,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s,o=t.apply(i,e||[]),u=[];return s={},d("next"),d("throw"),d("return"),s[Symbol.asyncIterator]=function(){return this},s;function d(M){o[M]&&(s[M]=function(O){return new Promise(function(L,q){u.push([M,O,L,q])>1||m(M,O)})})}function m(M,O){try{!function y(M){M.value instanceof yn?Promise.resolve(M.value.v).then(b,C):I(u[0][2],M)}(o[M](O))}catch(L){I(u[0][3],L)}}function b(M){m("next",M)}function C(M){m("throw",M)}function I(M,O){M(O),u.shift(),u.length&&m(u[0][0],u[0][1])}}function Zh(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=i[Symbol.asyncIterator];return e?e.call(i):(i=function Pi(i){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&i[e],o=0;if(t)return t.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(i),t={},o("next"),o("throw"),o("return"),t[Symbol.asyncIterator]=function(){return this},t);function o(u){t[u]=i[u]&&function(d){return new Promise(function(m,y){!function s(u,d,m,y){Promise.resolve(y).then(function(b){u({value:b,done:m})},d)}(m,y,(d=i[u](d)).done,d.value)})}}}const Rs=i=>i&&"number"==typeof i.length&&"function"!=typeof i;function Lo(i){return me(null==i?void 0:i.then)}function Wu(i){return me(i[Ji])}function Qu(i){return Symbol.asyncIterator&&me(null==i?void 0:i[Symbol.asyncIterator])}function $n(i){return new TypeError(`You provided ${null!==i&&"object"==typeof i?"an invalid object":`'${i}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const K=function Oa(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function $(i){return me(null==i?void 0:i[K])}function J(i){return Ra(this,arguments,function*(){const t=i.getReader();try{for(;;){const{value:o,done:s}=yield yn(t.read());if(s)return yield yn(void 0);yield yield yn(o)}}finally{t.releaseLock()}})}function re(i){return me(null==i?void 0:i.getReader)}function W(i){if(i instanceof de)return i;if(null!=i){if(Wu(i))return function Re(i){return new de(e=>{const t=i[Ji]();if(me(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(i);if(Rs(i))return function gt(i){return new de(e=>{for(let t=0;t<i.length&&!e.closed;t++)e.next(i[t]);e.complete()})}(i);if(Lo(i))return function Jt(i){return new de(e=>{i.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,we)})}(i);if(Qu(i))return sn(i);if($(i))return function fn(i){return new de(e=>{for(const t of i)if(e.next(t),e.closed)return;e.complete()})}(i);if(re(i))return function Zr(i){return sn(J(i))}(i)}throw $n(i)}function sn(i){return new de(e=>{(function Zt(i,e){var t,o,s,u;return function Jr(i,e,t,o){return new(t||(t=Promise))(function(u,d){function m(C){try{b(o.next(C))}catch(I){d(I)}}function y(C){try{b(o.throw(C))}catch(I){d(I)}}function b(C){C.done?u(C.value):function s(u){return u instanceof t?u:new t(function(d){d(u)})}(C.value).then(m,y)}b((o=o.apply(i,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=Zh(i);!(o=yield t.next()).done;)if(e.next(o.value),e.closed)return}catch(d){s={error:d}}finally{try{o&&!o.done&&(u=t.return)&&(yield u.call(t))}finally{if(s)throw s.error}}e.complete()})})(i,e).catch(t=>e.error(t))})}function Ht(i,e,t,o=0,s=!1){const u=e.schedule(function(){t(),s?i.add(this.schedule(null,o)):this.unsubscribe()},o);if(i.add(u),!s)return u}function nr(i,e,t=1/0){return me(e)?nr((o,s)=>je((u,d)=>e(o,u,s,d))(W(i(o,s))),t):("number"==typeof e&&(t=e),Ge((o,s)=>function Bo(i,e,t,o,s,u,d,m){const y=[];let b=0,C=0,I=!1;const M=()=>{I&&!y.length&&!b&&e.complete()},O=q=>b<o?L(q):y.push(q),L=q=>{u&&e.next(q),b++;let X=!1;W(t(q,C++)).subscribe(new Ie(e,ae=>{null==s||s(ae),u?O(ae):e.next(ae)},()=>{X=!0},void 0,()=>{if(X)try{for(b--;y.length&&b<o;){const ae=y.shift();d?Ht(e,d,()=>L(ae)):L(ae)}M()}catch(ae){e.error(ae)}}))};return i.subscribe(new Ie(e,O,()=>{I=!0,M()})),()=>{null==m||m()}}(o,s,i,t)))}function Wc(i=1/0){return nr(te,i)}const Os=new de(i=>i.complete());function Na(i){return i&&me(i.schedule)}function Qc(i){return i[i.length-1]}function zl(i){return me(Qc(i))?i.pop():void 0}function as(i){return Na(Qc(i))?i.pop():void 0}function Yc(i,e=0){return Ge((t,o)=>{t.subscribe(new Ie(o,s=>Ht(o,i,()=>o.next(s),e),()=>Ht(o,i,()=>o.complete(),e),s=>Ht(o,i,()=>o.error(s),e)))})}function Yu(i,e=0){return Ge((t,o)=>{o.add(i.schedule(()=>t.subscribe(o),e))})}function nd(i,e){if(!i)throw new Error("Iterable cannot be null");return new de(t=>{Ht(t,e,()=>{const o=i[Symbol.asyncIterator]();Ht(t,e,()=>{o.next().then(s=>{s.done?t.complete():t.next(s.value)})},0,!0)})})}function wr(i,e){return e?function Ju(i,e){if(null!=i){if(Wu(i))return function Xc(i,e){return W(i).pipe(Yu(e),Yc(e))}(i,e);if(Rs(i))return function ed(i,e){return new de(t=>{let o=0;return e.schedule(function(){o===i.length?t.complete():(t.next(i[o++]),t.closed||this.schedule())})})}(i,e);if(Lo(i))return function Pa(i,e){return W(i).pipe(Yu(e),Yc(e))}(i,e);if(Qu(i))return nd(i,e);if($(i))return function td(i,e){return new de(t=>{let o;return Ht(t,e,()=>{o=i[K](),Ht(t,e,()=>{let s,u;try{({value:s,done:u}=o.next())}catch(d){return void t.error(d)}u?t.complete():t.next(s)},0,!0)}),()=>me(null==o?void 0:o.return)&&o.return()})}(i,e);if(re(i))return function Xu(i,e){return nd(J(i),e)}(i,e)}throw $n(i)}(i,e):W(i)}function Fa(...i){const e=as(i),t=function cu(i,e){return"number"==typeof Qc(i)?i.pop():e}(i,1/0),o=i;return o.length?1===o.length?W(o[0]):Wc(t)(wr(o,e)):Os}function ei(i){return i<=0?()=>Os:Ge((e,t)=>{let o=0;e.subscribe(new Ie(t,s=>{++o<=i&&(t.next(s),i<=o&&t.complete())}))})}function rd(i={}){const{connector:e=(()=>new et),resetOnError:t=!0,resetOnComplete:o=!0,resetOnRefCountZero:s=!0}=i;return u=>{let d=null,m=null,y=null,b=0,C=!1,I=!1;const M=()=>{null==m||m.unsubscribe(),m=null},O=()=>{M(),d=y=null,C=I=!1},L=()=>{const q=d;O(),null==q||q.unsubscribe()};return Ge((q,X)=>{b++,!I&&!C&&M();const ae=y=null!=y?y:e();X.add(()=>{b--,0===b&&!I&&!C&&(m=yo(L,s))}),ae.subscribe(X),d||(d=new Ci({next:Y=>ae.next(Y),error:Y=>{I=!0,M(),m=yo(O,t,Y),ae.error(Y)},complete:()=>{C=!0,M(),m=yo(O,o),ae.complete()}}),wr(q).subscribe(d))})(u)}}function yo(i,e,...t){return!0===e?(i(),null):!1===e?null:e(...t).pipe(ei(1)).subscribe(()=>i())}function cn(i){for(let e in i)if(i[e]===cn)return e;throw Error("Could not find renamed property on target object.")}function La(i,e){for(const t in e)e.hasOwnProperty(t)&&!i.hasOwnProperty(t)&&(i[t]=e[t])}function vn(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(vn).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const e=i.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Vo(i,e){return null==i||""===i?null===e?"":e:null==e||""===e?i:i+" "+e}const id=cn({__forward_ref__:cn});function sa(i){return i.__forward_ref__=sa,i.toString=function(){return vn(this())},i}function xt(i){return aa(i)?i():i}function aa(i){return"function"==typeof i&&i.hasOwnProperty(id)&&i.__forward_ref__===sa}class Mt extends Error{constructor(e,t){super(function Jc(i,e){return`NG0${Math.abs(i)}${e?": "+e:""}`}(e,t)),this.code=e}}function yt(i){return"string"==typeof i?i:null==i?"":String(i)}function Or(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():yt(i)}function ec(i,e){const t=e?` in ${e}`:"";throw new Mt(-201,`No provider for ${Or(i)} found${t}`)}function ft(i,e){null==i&&function pn(i,e,t,o){throw new Error(`ASSERTION ERROR: ${i}`+(null==o?"":` [Expected=> ${t} ${o} ${e} <=Actual]`))}(e,i,null,"!=")}function Xe(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Be(i){return{providers:i.providers||[],imports:i.imports||[]}}function Kn(i){return nl(i,H)||nl(i,ne)}function nl(i,e){return i.hasOwnProperty(e)?i[e]:null}function B(i){return i&&(i.hasOwnProperty(Q)||i.hasOwnProperty(be))?i[Q]:null}const H=cn({\u0275prov:cn}),Q=cn({\u0275inj:cn}),ne=cn({ngInjectableDef:cn}),be=cn({ngInjectorDef:cn});var fe=(()=>((fe=fe||{})[fe.Default=0]="Default",fe[fe.Host=1]="Host",fe[fe.Self=2]="Self",fe[fe.SkipSelf=4]="SkipSelf",fe[fe.Optional=8]="Optional",fe))();let Fe;function lt(i){const e=Fe;return Fe=i,e}function _t(i,e,t){const o=Kn(i);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:t&fe.Optional?null:void 0!==e?e:void ec(vn(i),"Injector")}function ar(i){return{toString:i}.toString()}var Vt=(()=>((Vt=Vt||{})[Vt.OnPush=0]="OnPush",Vt[Vt.Default=1]="Default",Vt))(),jr=(()=>{return(i=jr||(jr={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",jr;var i})();const Fi="undefined"!=typeof globalThis&&globalThis,jo="undefined"!=typeof window&&window,Ns="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,ln=Fi||"undefined"!=typeof global&&global||jo||Ns,li={},En=[],ud=cn({\u0275cmp:cn}),rc=cn({\u0275dir:cn}),Kl=cn({\u0275pipe:cn}),cd=cn({\u0275mod:cn}),Ps=cn({\u0275fac:cn}),il=cn({__NG_ELEMENT_ID__:cn});let Kf=0;function Ar(i){return ar(()=>{const t={},o={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===Vt.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||En,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||jr.Emulated,id:"c",styles:i.styles||En,_:null,setInput:null,schemas:i.schemas||null,tView:null},s=i.directives,u=i.features,d=i.pipes;return o.id+=Kf++,o.inputs=Ym(i.inputs,t),o.outputs=Ym(i.outputs),u&&u.forEach(m=>m(o)),o.directiveDefs=s?()=>("function"==typeof s?s():s).map(bo):null,o.pipeDefs=d?()=>("function"==typeof d?d():d).map(Wf):null,o})}function bo(i){return Hr(i)||function ca(i){return i[rc]||null}(i)}function Wf(i){return function Fs(i){return i[Kl]||null}(i)}const Qm={};function kn(i){return ar(()=>{const e={type:i.type,bootstrap:i.bootstrap||En,declarations:i.declarations||En,imports:i.imports||En,exports:i.exports||En,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(Qm[i.id]=i.type),e})}function Ym(i,e){if(null==i)return li;const t={};for(const o in i)if(i.hasOwnProperty(o)){let s=i[o],u=s;Array.isArray(s)&&(u=s[1],s=s[0]),t[s]=o,e&&(e[s]=u)}return t}const Bn=Ar;function Ii(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function Hr(i){return i[ud]||null}function wo(i,e){const t=i[cd]||null;if(!t&&!0===e)throw new Error(`Type ${vn(i)} does not have '\u0275mod' property.`);return t}function Vs(i){return Array.isArray(i)&&"object"==typeof i[1]}function fi(i){return Array.isArray(i)&&!0===i[1]}function ha(i){return 0!=(8&i.flags)}function ic(i){return 2==(2&i.flags)}function Uo(i){return 1==(1&i.flags)}function Ho(i){return null!==i.template}function oc(i){return 0!=(512&i[2])}function ge(i,e){return i.hasOwnProperty(Ps)?i[Ps]:null}class ds{constructor(e,t,o){this.previousValue=e,this.currentValue=t,this.firstChange=o}isFirstChange(){return this.firstChange}}function Se(i){return i.type.prototype.ngOnChanges&&(i.setInput=fd),zr}function zr(){const i=ot(this),e=null==i?void 0:i.current;if(e){const t=i.previous;if(t===li)i.previous=e;else for(let o in e)t[o]=e[o];i.current=null,this.ngOnChanges(e)}}function fd(i,e,t,o){const s=ot(i)||function mt(i,e){return i[Jl]=e}(i,{previous:li,current:null}),u=s.current||(s.current={}),d=s.previous,m=this.declaredInputs[t],y=d[m];u[m]=new ds(y&&y.currentValue,e,d===li),i[o]=e}const Jl="__ngSimpleChanges__";function ot(i){return i[Jl]||null}const st="http://www.w3.org/2000/svg";let Ua;function Cn(i){return!!i.listen}const Yf={createRenderer:(i,e)=>function Ot(){return void 0!==Ua?Ua:"undefined"!=typeof document?document:void 0}()};function ht(i){for(;Array.isArray(i);)i=i[0];return i}function to(i,e){return ht(e[i])}function Wn(i,e){return ht(e[i.index])}function zo(i,e){return i.data[e]}function cr(i,e){return i[e]}function Si(i,e){const t=e[i];return Vs(t)?t:t[0]}function Xf(i){return 4==(4&i[2])}function md(i){return 128==(128&i[2])}function no(i,e){return null==e?null:i[e]}function cl(i){i[18]=0}function Je(i,e){i[5]+=e;let t=i,o=i[3];for(;null!==o&&(1===e&&1===t[5]||-1===e&&0===t[5]);)o[5]+=e,t=o,o=o[3]}const pe={lFrame:Us(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function yd(){return pe.bindingsEnabled}function ye(){return pe.lFrame.lView}function Yt(){return pe.lFrame.tView}function Bi(i){return pe.lFrame.contextLView=i,i[8]}function Er(){let i=tg();for(;null!==i&&64===i.type;)i=i.parent;return i}function tg(){return pe.lFrame.currentTNode}function Vi(i,e){const t=pe.lFrame;t.currentTNode=i,t.isParent=e}function mi(){return pe.lFrame.isParent}function Zf(){pe.lFrame.isParent=!1}function _d(){return pe.isInCheckNoChangesMode}function du(i){pe.isInCheckNoChangesMode=i}function gi(){const i=pe.lFrame;let e=i.bindingRootIndex;return-1===e&&(e=i.bindingRootIndex=i.tView.bindingStartIndex),e}function eh(){return pe.lFrame.bindingIndex++}function hv(i,e){const t=pe.lFrame;t.bindingIndex=t.bindingRootIndex=i,rg(e)}function rg(i){pe.lFrame.currentDirectiveIndex=i}function tp(i){const e=pe.lFrame.currentDirectiveIndex;return-1===e?null:i[e]}function th(){return pe.lFrame.currentQueryIndex}function nh(i){pe.lFrame.currentQueryIndex=i}function ll(i){const e=i[1];return 2===e.type?e.declTNode:1===e.type?i[6]:null}function bd(i,e,t){if(t&fe.SkipSelf){let s=e,u=i;for(;!(s=s.parent,null!==s||t&fe.Host||(s=ll(u),null===s||(u=u[15],10&s.type))););if(null===s)return!1;e=s,i=u}const o=pe.lFrame=np();return o.currentTNode=e,o.lView=i,!0}function rh(i){const e=np(),t=i[1];pe.lFrame=e,e.currentTNode=t.firstChild,e.lView=i,e.tView=t,e.contextLView=i,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function np(){const i=pe.lFrame,e=null===i?null:i.child;return null===e?Us(i):e}function Us(i){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=e),e}function rp(){const i=pe.lFrame;return pe.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const hl=rp;function ac(){const i=rp();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Ai(){return pe.lFrame.selectedIndex}function fs(i){pe.lFrame.selectedIndex=i}function rr(){const i=pe.lFrame;return zo(i.tView,i.selectedIndex)}function oh(i,e){for(let t=e.directiveStart,o=e.directiveEnd;t<o;t++){const u=i.data[t].type.prototype,{ngAfterContentInit:d,ngAfterContentChecked:m,ngAfterViewInit:y,ngAfterViewChecked:b,ngOnDestroy:C}=u;d&&(i.contentHooks||(i.contentHooks=[])).push(-t,d),m&&((i.contentHooks||(i.contentHooks=[])).push(t,m),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(t,m)),y&&(i.viewHooks||(i.viewHooks=[])).push(-t,y),b&&((i.viewHooks||(i.viewHooks=[])).push(t,b),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(t,b)),null!=C&&(i.destroyHooks||(i.destroyHooks=[])).push(t,C)}}function Cd(i,e,t){Dd(i,e,3,t)}function cc(i,e,t,o){(3&i[2])===t&&Dd(i,e,t,o)}function sh(i,e){let t=i[2];(3&t)===e&&(t&=2047,t+=1,i[2]=t)}function Dd(i,e,t,o){const u=null!=o?o:-1,d=e.length-1;let m=0;for(let y=void 0!==o?65535&i[18]:0;y<d;y++)if("number"==typeof e[y+1]){if(m=e[y],null!=o&&m>=o)break}else e[y]<0&&(i[18]+=65536),(m<u||-1==u)&&(Id(i,t,e,y),i[18]=(4294901760&i[18])+y+2),y++}function Id(i,e,t,o){const s=t[o]<0,u=t[o+1],m=i[s?-t[o]:t[o]];if(s){if(i[2]>>11<i[18]>>16&&(3&i[2])===e){i[2]+=2048;try{u.call(m)}finally{}}}else try{u.call(m)}finally{}}class ah{constructor(e,t,o){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=o}}function pu(i,e,t){const o=Cn(i);let s=0;for(;s<t.length;){const u=t[s];if("number"==typeof u){if(0!==u)break;s++;const d=t[s++],m=t[s++],y=t[s++];o?i.setAttribute(e,m,y,d):e.setAttributeNS(d,m,y)}else{const d=u,m=t[++s];hc(d)?o&&i.setProperty(e,d,m):o?i.setAttribute(e,d,m):e.setAttribute(d,m),s++}}return s}function mu(i){return 3===i||4===i||6===i}function hc(i){return 64===i.charCodeAt(0)}function Cr(i,e){if(null!==e&&0!==e.length)if(null===i||0===i.length)i=e.slice();else{let t=-1;for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?t=s:0===t||fa(i,t,s,null,-1===t||2===t?e[++o]:null)}}return i}function fa(i,e,t,o,s){let u=0,d=i.length;if(-1===e)d=-1;else for(;u<i.length;){const m=i[u++];if("number"==typeof m){if(m===e){d=-1;break}if(m>e){d=u-1;break}}}for(;u<i.length;){const m=i[u];if("number"==typeof m)break;if(m===t){if(null===o)return void(null!==s&&(i[u+1]=s));if(o===i[u+1])return void(i[u+2]=s)}u++,null!==o&&u++,null!==s&&u++}-1!==d&&(i.splice(d,0,e),u=d+1),i.splice(u++,0,t),null!==o&&i.splice(u++,0,o),null!==s&&i.splice(u++,0,s)}function dl(i){return-1!==i}function ch(i){return 32767&i}function dc(i,e){let t=function pa(i){return i>>16}(i),o=e;for(;t>0;)o=o[15],t--;return o}let ap=!0;function ma(i){const e=ap;return ap=i,e}let og=0;function _r(i,e){const t=pc(i,e);if(-1!==t)return t;const o=e[1];o.firstCreatePass&&(i.injectorIndex=e.length,jt(o.data,i),jt(e,null),jt(o.blueprint,null));const s=ga(i,e),u=i.injectorIndex;if(dl(s)){const d=ch(s),m=dc(s,e),y=m[1].data;for(let b=0;b<8;b++)e[u+b]=m[d+b]|y[d+b]}return e[u+8]=s,u}function jt(i,e){i.push(0,0,0,0,0,0,0,0,e)}function pc(i,e){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===e[i.injectorIndex+8]?-1:i.injectorIndex}function ga(i,e){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let t=0,o=null,s=e;for(;null!==s;){const u=s[1],d=u.type;if(o=2===d?u.declTNode:1===d?s[6]:null,null===o)return-1;if(t++,s=s[15],-1!==o.injectorIndex)return o.injectorIndex|t<<16}return-1}function Ad(i,e,t){!function fc(i,e,t){let o;"string"==typeof t?o=t.charCodeAt(0)||0:t.hasOwnProperty(il)&&(o=t[il]),null==o&&(o=t[il]=og++);const s=255&o;e.data[i+(s>>5)]|=1<<s}(i,e,t)}function sg(i,e,t){if(t&fe.Optional)return i;ec(e,"NodeInjector")}function Qn(i,e,t,o){if(t&fe.Optional&&void 0===o&&(o=null),0==(t&(fe.Self|fe.Host))){const s=i[9],u=lt(void 0);try{return s?s.get(e,o,t&fe.Optional):_t(e,o,t&fe.Optional)}finally{lt(u)}}return sg(o,e,t)}function lh(i,e,t,o=fe.Default,s){if(null!==i){const u=function mv(i){if("string"==typeof i)return i.charCodeAt(0)||0;const e=i.hasOwnProperty(il)?i[il]:void 0;return"number"==typeof e?e>=0?255&e:lr:e}(t);if("function"==typeof u){if(!bd(e,i,o))return o&fe.Host?sg(s,t,o):Qn(e,t,o,s);try{const d=u(o);if(null!=d||o&fe.Optional)return d;ec(t)}finally{hl()}}else if("number"==typeof u){let d=null,m=pc(i,e),y=-1,b=o&fe.Host?e[16][6]:null;for((-1===m||o&fe.SkipSelf)&&(y=-1===m?ga(i,e):e[m+8],-1!==y&&up(o,!1)?(d=e[1],m=ch(y),e=dc(y,e)):m=-1);-1!==m;){const C=e[1];if(hh(u,m,C.data)){const I=pv(m,e,t,d,o,b);if(I!==ya)return I}y=e[m+8],-1!==y&&up(o,e[1].data[m+8]===b)&&hh(u,m,e)?(d=C,m=ch(y),e=dc(y,e)):m=-1}}}return Qn(e,t,o,s)}const ya={};function lr(){return new Ui(Er(),ye())}function pv(i,e,t,o,s,u){const d=e[1],m=d.data[i+8],C=mc(m,d,t,null==o?ic(m)&&ap:o!=d&&0!=(3&m.type),s&fe.Host&&u===m);return null!==C?Dr(e,d,C,m):ya}function mc(i,e,t,o,s){const u=i.providerIndexes,d=e.data,m=1048575&u,y=i.directiveStart,C=u>>20,M=s?m+C:i.directiveEnd;for(let O=o?m:m+C;O<M;O++){const L=d[O];if(O<y&&t===L||O>=y&&L.type===t)return O}if(s){const O=d[y];if(O&&Ho(O)&&O.type===t)return y}return null}function Dr(i,e,t,o){let s=i[t];const u=e.data;if(function op(i){return i instanceof ah}(s)){const d=s;d.resolving&&function us(i,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${i}`:"";throw new Mt(-200,`Circular dependency in DI detected for ${i}${t}`)}(Or(u[t]));const m=ma(d.canSeeViewProviders);d.resolving=!0;const y=d.injectImpl?lt(d.injectImpl):null;bd(i,o,fe.Default);try{s=i[t]=d.factory(void 0,u,i,o),e.firstCreatePass&&t>=o.directiveStart&&function uc(i,e,t){const{ngOnChanges:o,ngOnInit:s,ngDoCheck:u}=e.type.prototype;if(o){const d=Se(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(i,d),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(i,d)}s&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-i,s),u&&((t.preOrderHooks||(t.preOrderHooks=[])).push(i,u),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(i,u))}(t,u[t],e)}finally{null!==y&&lt(y),ma(m),d.resolving=!1,hl()}}return s}function hh(i,e,t){return!!(t[e+(i>>5)]&1<<i)}function up(i,e){return!(i&fe.Self||i&fe.Host&&e)}class Ui{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,o){return lh(this._tNode,this._lView,e,o,t)}}function cp(i){return ar(()=>{const e=i.prototype.constructor,t=e[Ps]||Sn(e),o=Object.prototype;let s=Object.getPrototypeOf(i.prototype).constructor;for(;s&&s!==o;){const u=s[Ps]||Sn(s);if(u&&u!==t)return u;s=Object.getPrototypeOf(s)}return u=>new u})}function Sn(i){return aa(i)?()=>{const e=Sn(xt(i));return e&&e()}:ge(i)}function gc(i){return function yu(i,e){if("class"===e)return i.classes;if("style"===e)return i.styles;const t=i.attrs;if(t){const o=t.length;let s=0;for(;s<o;){const u=t[s];if(mu(u))break;if(0===u)s+=2;else if("number"==typeof u)for(s++;s<o&&"string"==typeof t[s];)s++;else{if(u===e)return t[s+1];s+=2}}}return null}(Er(),i)}const Ga="__parameters__";function _c(i,e,t){return ar(()=>{const o=function vc(i){return function(...t){if(i){const o=i(...t);for(const s in o)this[s]=o[s]}}}(e);function s(...u){if(this instanceof s)return o.apply(this,u),this;const d=new s(...u);return m.annotation=d,m;function m(y,b,C){const I=y.hasOwnProperty(Ga)?y[Ga]:Object.defineProperty(y,Ga,{value:[]})[Ga];for(;I.length<=C;)I.push(null);return(I[C]=I[C]||[]).push(d),y}}return t&&(s.prototype=Object.create(t.prototype)),s.prototype.ngMetadataName=i,s.annotationCls=s,s})}class Qe{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=Xe({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const xd=new Qe("AnalyzeForEntryComponents");function xi(i,e){void 0===e&&(e=i);for(let t=0;t<i.length;t++){let o=i[t];Array.isArray(o)?(e===i&&(e=i.slice(0,t)),xi(o,e)):e!==i&&e.push(o)}return e}function Nr(i,e){i.forEach(t=>Array.isArray(t)?Nr(t,e):e(t))}function dh(i,e,t){e>=i.length?i.push(t):i.splice(e,0,t)}function bc(i,e){return e>=i.length-1?i.pop():i.splice(e,1)[0]}function $a(i,e){const t=[];for(let o=0;o<i;o++)t.push(e);return t}function Go(i,e,t){let o=mh(i,e);return o>=0?i[1|o]=t:(o=~o,function ph(i,e,t,o){let s=i.length;if(s==e)i.push(t,o);else if(1===s)i.push(o,i[0]),i[0]=t;else{for(s--,i.push(i[s-1],i[s]);s>e;)i[s]=i[s-2],s--;i[e]=t,i[e+1]=o}}(i,o,e,t)),o}function lg(i,e){const t=mh(i,e);if(t>=0)return i[1|t]}function mh(i,e){return function wc(i,e,t){let o=0,s=i.length>>t;for(;s!==o;){const u=o+(s-o>>1),d=i[u<<t];if(e===d)return u<<t;d>e?s=u:o=u+1}return~(s<<t)}(i,e,1)}const $r={},ps="__NG_DI_FLAG__",Yn="ngTempTokenPath",wv=/\n/gm,hr="__source",$o=cn({provide:String,useValue:cn});let yi;function Kr(i){const e=yi;return yi=i,e}function xo(i,e=fe.Default){if(void 0===yi)throw new Mt(203,"");return null===yi?_t(i,void 0,e):yi.get(i,e&fe.Optional?null:void 0,e)}function ce(i,e=fe.Default){return(function it(){return Fe}()||xo)(xt(i),e)}const va=ce;function Ec(i){const e=[];for(let t=0;t<i.length;t++){const o=xt(i[t]);if(Array.isArray(o)){if(0===o.length)throw new Mt(900,"");let s,u=fe.Default;for(let d=0;d<o.length;d++){const m=o[d],y=vp(m);"number"==typeof y?-1===y?s=m.token:u|=y:s=m}e.push(ce(s,u))}else e.push(ce(o))}return e}function Nd(i,e){return i[ps]=e,i.prototype[ps]=e,i}function vp(i){return i[ps]}const Ee=Nd(_c("Inject",i=>({token:i})),-1),Ir=Nd(_c("Optional"),8),ml=Nd(_c("SkipSelf"),4);let _a;function Wa(i){var e;return(null===(e=function Ic(){if(void 0===_a&&(_a=null,ln.trustedTypes))try{_a=ln.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return _a}())||void 0===e?void 0:e.createHTML(i))||i}class Qa{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Ip extends Qa{getTypeName(){return"HTML"}}class zs extends Qa{getTypeName(){return"Style"}}class Tv extends Qa{getTypeName(){return"Script"}}class Tp extends Qa{getTypeName(){return"URL"}}class Vb extends Qa{getTypeName(){return"ResourceURL"}}function Ko(i){return i instanceof Qa?i.changingThisBreaksApplicationSecurity:i}function Hi(i,e){const t=gl(i);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}function gl(i){return i instanceof Qa&&i.getTypeName()||null}class yl{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Wa(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class xv{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const o=this.inertDocument.createElement("body");t.appendChild(o)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=Wa(e),t;const o=this.inertDocument.createElement("body");return o.innerHTML=Wa(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(o),o}stripCustomNsAttrs(e){const t=e.attributes;for(let s=t.length-1;0<s;s--){const d=t.item(s).name;("xmlns:ns1"===d||0===d.indexOf("ns1:"))&&e.removeAttribute(d)}let o=e.firstChild;for(;o;)o.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(o),o=o.nextSibling}}const Hb=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,qb=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Tc(i){return(i=String(i)).match(Hb)||i.match(qb)?i:"unsafe:"+i}function Sc(i){return(i=String(i)).split(",").map(e=>Tc(e.trim())).join(", ")}function Gs(i){const e={};for(const t of i.split(","))e[t]=!0;return e}function jd(...i){const e={};for(const t of i)for(const o in t)t.hasOwnProperty(o)&&(e[o]=!0);return e}const Mv=Gs("area,br,col,hr,img,wbr"),mg=Gs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),wu=Gs("rp,rt"),_h=jd(Mv,jd(mg,Gs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),jd(wu,Gs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),jd(wu,mg)),yg=Gs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),vl=Gs("srcset"),en=jd(yg,vl,Gs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Gs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),_g=Gs("script,style,template");class bg{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,o=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?o=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,o&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let s=this.checkClobberedElement(t,t.nextSibling);if(s){t=s;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!_h.hasOwnProperty(t))return this.sanitizedSomething=!0,!_g.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const o=e.attributes;for(let s=0;s<o.length;s++){const u=o.item(s),d=u.name,m=d.toLowerCase();if(!en.hasOwnProperty(m)){this.sanitizedSomething=!0;continue}let y=u.value;yg[m]&&(y=Tc(y)),vl[m]&&(y=Sc(y)),this.buf.push(" ",d,'="',wg(y),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();_h.hasOwnProperty(t)&&!Mv.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(wg(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const Rv=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Gb=/([^\#-~ |!])/g;function wg(i){return i.replace(/&/g,"&amp;").replace(Rv,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(Gb,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ud;function Ov(i,e){let t=null;try{Ud=Ud||function bu(i){const e=new xv(i);return function Ub(){try{return!!(new window.DOMParser).parseFromString(Wa(""),"text/html")}catch(i){return!1}}()?new yl(e):e}(i);let o=e?String(e):"";t=Ud.getInertBodyElement(o);let s=5,u=o;do{if(0===s)throw new Error("Failed to sanitize html because the input is unstable");s--,o=u,u=t.innerHTML,t=Ud.getInertBodyElement(o)}while(o!==u);return Wa((new bg).sanitizeChildren(Ap(t)||t))}finally{if(t){const o=Ap(t)||t;for(;o.firstChild;)o.removeChild(o.firstChild)}}}function Ap(i){return"content"in i&&function $b(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var hn=(()=>((hn=hn||{})[hn.NONE=0]="NONE",hn[hn.HTML=1]="HTML",hn[hn.STYLE=2]="STYLE",hn[hn.SCRIPT=3]="SCRIPT",hn[hn.URL=4]="URL",hn[hn.RESOURCE_URL=5]="RESOURCE_URL",hn))();function ba(i){const e=function Mr(){const i=ye();return i&&i[12]}();return e?e.sanitize(hn.URL,i)||"":Hi(i,"URL")?Ko(i):Tc(yt(i))}const Dg="__ngContext__";function qi(i,e){i[Dg]=e}function Mp(i){const e=function bh(i){return i[Dg]||null}(i);return e?Array.isArray(e)?e:e.lView:null}function Gd(i){return i.ngOriginalError}function Vv(i,...e){i.error(...e)}class Ya{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),o=function Wb(i){return i&&i.ngErrorLogger||Vv}(e);o(this._console,"ERROR",e),t&&o(this._console,"ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Gd(e);for(;t&&Gd(t);)t=Gd(t);return t||null}}const Dh=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(ln))();function wa(i){return i instanceof Function?i():i}var ki=(()=>((ki=ki||{})[ki.Important=1]="Important",ki[ki.DashCase=2]="DashCase",ki))();function Ac(i,e){return undefined(i,e)}function Xa(i){const e=i[3];return fi(e)?e[3]:e}function Og(i){return Qd(i[13])}function Ng(i){return Qd(i[4])}function Qd(i){for(;null!==i&&!fi(i);)i=i[4];return i}function Cu(i,e,t,o,s){if(null!=o){let u,d=!1;fi(o)?u=o:Vs(o)&&(d=!0,o=o[0]);const m=ht(o);0===i&&null!==t?null==s?Zd(e,t,m):Mc(e,t,m,s||null,!0):1===i&&null!==t?Mc(e,t,m,s||null,!0):2===i?function Hg(i,e,t){const o=Hp(i,e);o&&function Up(i,e,t,o){Cn(i)?i.removeChild(e,t,o):e.removeChild(t)}(i,o,e,t)}(e,m,d):3===i&&e.destroyNode(m),null!=u&&function sf(i,e,t,o,s){const u=t[7];u!==ht(t)&&Cu(e,i,o,u,s);for(let m=10;m<t.length;m++){const y=t[m];Iu(y[1],y,i,e,o,u)}}(e,i,u,t,s)}}function Du(i,e,t){return Cn(i)?i.createElement(e,t):null===t?i.createElement(e):i.createElementNS(t,e)}function Il(i,e){const t=i[9],o=t.indexOf(e),s=e[3];1024&e[2]&&(e[2]&=-1025,Je(s,-1)),t.splice(o,1)}function Lg(i,e){if(i.length<=10)return;const t=10+e,o=i[t];if(o){const s=o[17];null!==s&&s!==i&&Il(s,o),e>0&&(i[t-1][4]=o[4]);const u=bc(i,10+e);!function Lp(i,e){Iu(i,e,e[11],2,null,null),e[0]=null,e[6]=null}(o[1],o);const d=u[19];null!==d&&d.detachView(u[1]),o[3]=null,o[4]=null,o[2]&=-129}return o}function Hv(i,e){if(!(256&e[2])){const t=e[11];Cn(t)&&t.destroyNode&&Iu(i,e,t,3,null,null),function Uv(i){let e=i[13];if(!e)return Xd(i[1],i);for(;e;){let t=null;if(Vs(e))t=e[13];else{const o=e[10];o&&(t=o)}if(!t){for(;e&&!e[4]&&e!==i;)Vs(e)&&Xd(e[1],e),e=e[3];null===e&&(e=i),Vs(e)&&Xd(e[1],e),t=e&&e[4]}e=t}}(e)}}function Xd(i,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function qv(i,e){let t;if(null!=i&&null!=(t=i.destroyHooks))for(let o=0;o<t.length;o+=2){const s=e[t[o]];if(!(s instanceof ah)){const u=t[o+1];if(Array.isArray(u))for(let d=0;d<u.length;d+=2){const m=s[u[d]],y=u[d+1];try{y.call(m)}finally{}}else try{u.call(s)}finally{}}}}(i,e),function jp(i,e){const t=i.cleanup,o=e[7];let s=-1;if(null!==t)for(let u=0;u<t.length-1;u+=2)if("string"==typeof t[u]){const d=t[u+1],m="function"==typeof d?d(e):ht(e[d]),y=o[s=t[u+2]],b=t[u+3];"boolean"==typeof b?m.removeEventListener(t[u],y,b):b>=0?o[s=b]():o[s=-b].unsubscribe(),u+=2}else{const d=o[s=t[u+1]];t[u].call(d)}if(null!==o){for(let u=s+1;u<o.length;u++)o[u]();e[7]=null}}(i,e),1===e[1].type&&Cn(e[11])&&e[11].destroy();const t=e[17];if(null!==t&&fi(e[3])){t!==e[3]&&Il(t,e);const o=e[19];null!==o&&o.detachView(i)}}}function Jd(i,e,t){return function zv(i,e,t){let o=e;for(;null!==o&&40&o.type;)o=(e=o).parent;if(null===o)return t[0];if(2&o.flags){const s=i.data[o.directiveStart].encapsulation;if(s===jr.None||s===jr.Emulated)return null}return Wn(o,t)}(i,e.parent,t)}function Mc(i,e,t,o,s){Cn(i)?i.insertBefore(e,t,o,s):e.insertBefore(t,o,s)}function Zd(i,e,t){Cn(i)?i.appendChild(e,t):e.appendChild(t)}function Bg(i,e,t,o,s){null!==o?Mc(i,e,t,o,s):Zd(i,e,t)}function Hp(i,e){return Cn(i)?i.parentNode(e):e.parentNode}function Vg(i,e,t){return ef(i,e,t)}let ef=function jg(i,e,t){return 40&i.type?Wn(i,t):null};function tf(i,e,t,o){const s=Jd(i,o,e),u=e[11],m=Vg(o.parent||e[6],o,e);if(null!=s)if(Array.isArray(t))for(let y=0;y<t.length;y++)Bg(u,s,t[y],m,!1);else Bg(u,s,t,m,!1)}function nf(i,e){if(null!==e){const t=e.type;if(3&t)return Wn(e,i);if(4&t)return rf(-1,i[e.index]);if(8&t){const o=e.child;if(null!==o)return nf(i,o);{const s=i[e.index];return fi(s)?rf(-1,s):ht(s)}}if(32&t)return Ac(e,i)()||ht(i[e.index]);{const o=Ug(i,e);return null!==o?Array.isArray(o)?o[0]:nf(Xa(i[16]),o):nf(i,e.next)}}return null}function Ug(i,e){return null!==e?i[16][6].projection[e.projection]:null}function rf(i,e){const t=10+i+1;if(t<e.length){const o=e[t],s=o[1].firstChild;if(null!==s)return nf(o,s)}return e[7]}function Gp(i,e,t,o,s,u,d){for(;null!=t;){const m=o[t.index],y=t.type;if(d&&0===e&&(m&&qi(ht(m),o),t.flags|=4),64!=(64&t.flags))if(8&y)Gp(i,e,t.child,o,s,u,!1),Cu(e,i,s,m,u);else if(32&y){const b=Ac(t,o);let C;for(;C=b();)Cu(e,i,s,C,u);Cu(e,i,s,m,u)}else 16&y?Tu(i,e,o,t,s,u):Cu(e,i,s,m,u);t=d?t.projectionNext:t.next}}function Iu(i,e,t,o,s,u){Gp(t,o,i.firstChild,e,s,u,!1)}function Tu(i,e,t,o,s,u){const d=t[16],y=d[6].projection[o.projection];if(Array.isArray(y))for(let b=0;b<y.length;b++)Cu(e,i,s,y[b],u);else Gp(i,e,y,d[3],s,u,!0)}function af(i,e,t){Cn(i)?i.setAttribute(e,"style",t):e.style.cssText=t}function uf(i,e,t){Cn(i)?""===t?i.removeAttribute(e,"class"):i.setAttribute(e,"class",t):e.className=t}function Za(i,e,t){let o=i.length;for(;;){const s=i.indexOf(e,t);if(-1===s)return s;if(0===s||i.charCodeAt(s-1)<=32){const u=e.length;if(s+u===o||i.charCodeAt(s+u)<=32)return s}t=s+1}}const kc="ng-template";function Zb(i,e,t){let o=0;for(;o<i.length;){let s=i[o++];if(t&&"class"===s){if(s=i[o],-1!==Za(s.toLowerCase(),e,0))return!0}else if(1===s){for(;o<i.length&&"string"==typeof(s=i[o++]);)if(s.toLowerCase()===e)return!0;return!1}}return!1}function qg(i){return 4===i.type&&i.value!==kc}function e0(i,e,t){return e===(4!==i.type||t?i.value:kc)}function Gv(i,e,t){let o=4;const s=i.attrs||[],u=function Kv(i){for(let e=0;e<i.length;e++)if(mu(i[e]))return e;return i.length}(s);let d=!1;for(let m=0;m<e.length;m++){const y=e[m];if("number"!=typeof y){if(!d)if(4&o){if(o=2|1&o,""!==y&&!e0(i,y,t)||""===y&&1===e.length){if(Wo(o))return!1;d=!0}}else{const b=8&o?y:e[++m];if(8&o&&null!==i.attrs){if(!Zb(i.attrs,b,t)){if(Wo(o))return!1;d=!0}continue}const I=Wp(8&o?"class":y,s,qg(i),t);if(-1===I){if(Wo(o))return!1;d=!0;continue}if(""!==b){let M;M=I>u?"":s[I+1].toLowerCase();const O=8&o?M:null;if(O&&-1!==Za(O,b,0)||2&o&&b!==M){if(Wo(o))return!1;d=!0}}}}else{if(!d&&!Wo(o)&&!Wo(y))return!1;if(d&&Wo(y))continue;d=!1,o=y|1&o}}return Wo(o)||d}function Wo(i){return 0==(1&i)}function Wp(i,e,t,o){if(null===e)return-1;let s=0;if(o||!t){let u=!1;for(;s<e.length;){const d=e[s];if(d===i)return s;if(3===d||6===d)u=!0;else{if(1===d||2===d){let m=e[++s];for(;"string"==typeof m;)m=e[++s];continue}if(4===d)break;if(0===d){s+=4;continue}}s+=u?1:2}return-1}return function Qp(i,e){let t=i.indexOf(4);if(t>-1)for(t++;t<i.length;){const o=i[t];if("number"==typeof o)return-1;if(o===e)return t;t++}return-1}(e,i)}function $v(i,e,t=!1){for(let o=0;o<e.length;o++)if(Gv(i,e[o],t))return!0;return!1}function cf(i,e){e:for(let t=0;t<e.length;t++){const o=e[t];if(i.length===o.length){for(let s=0;s<i.length;s++)if(i[s]!==o[s])continue e;return!0}}return!1}function Gg(i,e){return i?":not("+e.trim()+")":e}function $g(i){let e=i[0],t=1,o=2,s="",u=!1;for(;t<i.length;){let d=i[t];if("string"==typeof d)if(2&o){const m=i[++t];s+="["+d+(m.length>0?'="'+m+'"':"")+"]"}else 8&o?s+="."+d:4&o&&(s+=" "+d);else""!==s&&!Wo(d)&&(e+=Gg(u,s),s=""),o=d,u=u||!Wo(o);t++}return""!==s&&(e+=Gg(u,s)),e}const Tt={};function Xn(i){eu(Yt(),ye(),Ai()+i,_d())}function eu(i,e,t,o){if(!o)if(3==(3&e[2])){const u=i.preOrderCheckHooks;null!==u&&Cd(e,u,t)}else{const u=i.preOrderHooks;null!==u&&cc(e,u,0,t)}fs(t)}function Xp(i,e){return i<<17|e<<2}function Qo(i){return i>>17&32767}function Sh(i){return 2|i}function vs(i){return(131068&i)>>2}function Tl(i,e){return-131069&i|e<<2}function lf(i){return 1|i}function Jv(i,e){const t=i.contentQueries;if(null!==t)for(let o=0;o<t.length;o+=2){const s=t[o],u=t[o+1];if(-1!==u){const d=i.data[u];nh(s),d.contentQueries(2,e[u],u)}}}function xh(i,e,t,o,s,u,d,m,y,b){const C=e.blueprint.slice();return C[0]=s,C[2]=140|o,cl(C),C[3]=C[15]=i,C[8]=t,C[10]=d||i&&i[10],C[11]=m||i&&i[11],C[12]=y||i&&i[12]||null,C[9]=b||i&&i[9]||null,C[6]=u,C[16]=2==e.type?i[16]:C,C}function Mu(i,e,t,o,s){let u=i.data[e];if(null===u)u=function Ks(i,e,t,o,s){const u=tg(),d=mi(),y=i.data[e]=function Oc(i,e,t,o,s,u){return{type:t,index:o,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:s,attrs:u,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,d?u:u&&u.parent,t,e,o,s);return null===i.firstChild&&(i.firstChild=y),null!==u&&(d?null==u.child&&null!==y.parent&&(u.child=y):null===u.next&&(u.next=y)),y}(i,e,t,o,s),function ng(){return pe.lFrame.inI18n}()&&(u.flags|=64);else if(64&u.type){u.type=t,u.value=o,u.attrs=s;const d=function qa(){const i=pe.lFrame,e=i.currentTNode;return i.isParent?e:e.parent}();u.injectorIndex=null===d?-1:d.injectorIndex}return Vi(u,!0),u}function Ws(i,e,t,o){if(0===t)return-1;const s=e.length;for(let u=0;u<t;u++)e.push(o),i.blueprint.push(o),i.data.push(null);return s}function ku(i,e,t){rh(e);try{const o=i.viewQuery;null!==o&&Ia(1,o,t);const s=i.template;null!==s&&kl(i,e,s,1,t),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&Jv(i,e),i.staticViewQueries&&Ia(2,i.viewQuery,t);const u=i.components;null!==u&&function sm(i,e){for(let t=0;t<e.length;t++)Ph(i,e[t])}(e,u)}catch(o){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),o}finally{e[2]&=-5,ac()}}function Ru(i,e,t,o){const s=e[2];if(256==(256&s))return;rh(e);const u=_d();try{cl(e),function Io(i){return pe.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==t&&kl(i,e,t,2,o);const d=3==(3&s);if(!u)if(d){const b=i.preOrderCheckHooks;null!==b&&Cd(e,b,null)}else{const b=i.preOrderHooks;null!==b&&cc(e,b,0,null),sh(e,0)}if(function ym(i){for(let e=Og(i);null!==e;e=Ng(e)){if(!e[2])continue;const t=e[9];for(let o=0;o<t.length;o++){const s=t[o],u=s[3];0==(1024&s[2])&&Je(u,1),s[2]|=1024}}}(e),function Rl(i){for(let e=Og(i);null!==e;e=Ng(e))for(let t=10;t<e.length;t++){const o=e[t],s=o[1];md(o)&&Ru(s,o,s.template,o[8])}}(e),null!==i.contentQueries&&Jv(i,e),!u)if(d){const b=i.contentCheckHooks;null!==b&&Cd(e,b)}else{const b=i.contentHooks;null!==b&&cc(e,b,1),sh(e,1)}!function yf(i,e){const t=i.hostBindingOpCodes;if(null!==t)try{for(let o=0;o<t.length;o++){const s=t[o];if(s<0)fs(~s);else{const u=s,d=t[++o],m=t[++o];hv(d,u),m(2,e[u])}}}finally{fs(-1)}}(i,e);const m=i.components;null!==m&&function ey(i,e){for(let t=0;t<e.length;t++)Ef(i,e[t])}(e,m);const y=i.viewQuery;if(null!==y&&Ia(2,y,o),!u)if(d){const b=i.viewCheckHooks;null!==b&&Cd(e,b)}else{const b=i.viewHooks;null!==b&&cc(e,b,2),sh(e,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),u||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Je(e[3],-1))}finally{ac()}}function ty(i,e,t,o){const s=e[10],u=!_d(),d=Xf(e);try{u&&!d&&s.begin&&s.begin(),d&&ku(i,e,o),Ru(i,e,t,o)}finally{u&&!d&&s.end&&s.end()}}function kl(i,e,t,o,s){const u=Ai(),d=2&o;try{fs(-1),d&&e.length>20&&eu(i,e,20,_d()),t(o,s)}finally{fs(u)}}function am(i,e,t){!yd()||(function Rh(i,e,t,o){const s=t.directiveStart,u=t.directiveEnd;i.firstCreatePass||_r(t,e),qi(o,e);const d=t.initialInputs;for(let m=s;m<u;m++){const y=i.data[m],b=Ho(y);b&&gm(e,t,y);const C=Dr(e,i,m,t);qi(C,e),null!==d&&wf(0,m-s,C,y,0,d),b&&(Si(t.index,e)[8]=C)}}(i,e,t,Wn(t,e)),128==(128&t.flags)&&function Da(i,e,t){const o=t.directiveStart,s=t.directiveEnd,d=t.index,m=function Fb(){return pe.lFrame.currentDirectiveIndex}();try{fs(d);for(let y=o;y<s;y++){const b=i.data[y],C=e[y];rg(y),(null!==b.hostBindings||0!==b.hostVars||null!==b.hostAttrs)&&fm(b,C)}}finally{fs(-1),rg(m)}}(i,e,t))}function um(i,e,t=Wn){const o=e.localNames;if(null!==o){let s=e.index+1;for(let u=0;u<o.length;u+=2){const d=o[u+1],m=-1===d?t(e,i):i[d];i[s++]=m}}}function vf(i){const e=i.tView;return null===e||e.incompleteFirstPass?i.tView=Mh(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):e}function Mh(i,e,t,o,s,u,d,m,y,b){const C=20+o,I=C+s,M=function Zv(i,e){const t=[];for(let o=0;o<e;o++)t.push(o<i?null:Tt);return t}(C,I),O="function"==typeof b?b():b;return M[1]={type:i,blueprint:M,template:t,queries:null,viewQuery:m,declTNode:e,data:M.slice().fill(null,C),bindingStartIndex:C,expandoStartIndex:I,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof u?u():u,pipeRegistry:"function"==typeof d?d():d,firstChild:null,schemas:y,consts:O,incompleteFirstPass:!1}}function lm(i,e,t,o){const s=su(e);null===t?s.push(o):(s.push(t),i.firstCreatePass&&Gi(i).push(o,s.length-1))}function e_(i,e,t){for(let o in i)if(i.hasOwnProperty(o)){const s=i[o];(t=null===t?{}:t).hasOwnProperty(o)?t[o].push(e,s):t[o]=[e,s]}return t}function oi(i,e,t,o,s,u,d,m){const y=Wn(e,t);let C,b=e.inputs;!m&&null!=b&&(C=b[o])?(Jn(i,t,C,o,s),ic(e)&&function Dn(i,e){const t=Si(e,i);16&t[2]||(t[2]|=64)}(t,e.index)):3&e.type&&(o=function hm(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(o),s=null!=d?d(s,e.value||"",o):s,Cn(u)?u.setProperty(y,o,s):hc(o)||(y.setProperty?y.setProperty(o,s):y[o]=s))}function Nc(i,e,t,o){let s=!1;if(yd()){const u=function ry(i,e,t){const o=i.directiveRegistry;let s=null;if(o)for(let u=0;u<o.length;u++){const d=o[u];$v(t,d.selectors,!1)&&(s||(s=[]),Ad(_r(t,e),i,d.type),Ho(d)?(bf(i,t),s.unshift(d)):s.push(d))}return s}(i,e,t),d=null===o?null:{"":-1};if(null!==u){s=!0,iy(t,i.data.length,u.length);for(let C=0;C<u.length;C++){const I=u[C];I.providersResolver&&I.providersResolver(I)}let m=!1,y=!1,b=Ws(i,e,u.length,null);for(let C=0;C<u.length;C++){const I=u[C];t.mergedAttrs=Cr(t.mergedAttrs,I.hostAttrs),oy(i,t,e,b,I),mm(b,I,d),null!==I.contentQueries&&(t.flags|=8),(null!==I.hostBindings||null!==I.hostAttrs||0!==I.hostVars)&&(t.flags|=128);const M=I.type.prototype;!m&&(M.ngOnChanges||M.ngOnInit||M.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(t.index),m=!0),!y&&(M.ngOnChanges||M.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(t.index),y=!0),b++}!function ny(i,e){const o=e.directiveEnd,s=i.data,u=e.attrs,d=[];let m=null,y=null;for(let b=e.directiveStart;b<o;b++){const C=s[b],I=C.inputs,M=null===u||qg(e)?null:t_(I,u);d.push(M),m=e_(I,b,m),y=e_(C.outputs,b,y)}null!==m&&(m.hasOwnProperty("class")&&(e.flags|=16),m.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=d,e.inputs=m,e.outputs=y}(i,t)}d&&function pm(i,e,t){if(e){const o=i.localNames=[];for(let s=0;s<e.length;s+=2){const u=t[e[s+1]];if(null==u)throw new Mt(-301,`Export of name '${e[s+1]}' not found!`);o.push(e[s],u)}}}(t,o,d)}return t.mergedAttrs=Cr(t.mergedAttrs,t.attrs),s}function _f(i,e,t,o,s,u){const d=u.hostBindings;if(d){let m=i.hostBindingOpCodes;null===m&&(m=i.hostBindingOpCodes=[]);const y=~e.index;(function dm(i){let e=i.length;for(;e>0;){const t=i[--e];if("number"==typeof t&&t<0)return t}return 0})(m)!=y&&m.push(y),m.push(o,s,d)}}function fm(i,e){null!==i.hostBindings&&i.hostBindings(1,e)}function bf(i,e){e.flags|=2,(i.components||(i.components=[])).push(e.index)}function mm(i,e,t){if(t){if(e.exportAs)for(let o=0;o<e.exportAs.length;o++)t[e.exportAs[o]]=i;Ho(e)&&(t[""]=i)}}function iy(i,e,t){i.flags|=1,i.directiveStart=e,i.directiveEnd=e+t,i.providerIndexes=e}function oy(i,e,t,o,s){i.data[o]=s;const u=s.factory||(s.factory=ge(s.type)),d=new ah(u,Ho(s),null);i.blueprint[o]=d,t[o]=d,_f(i,e,0,o,Ws(i,t,s.hostVars,Tt),s)}function gm(i,e,t){const o=Wn(e,i),s=vf(t),u=i[10],d=Ye(i,xh(i,s,null,t.onPush?64:16,o,e,u,u.createRenderer(o,t),null,null));i[e.index]=d}function _s(i,e,t,o,s,u){const d=Wn(i,e);!function Oh(i,e,t,o,s,u,d){if(null==u)Cn(i)?i.removeAttribute(e,s,t):e.removeAttribute(s);else{const m=null==d?yt(u):d(u,o||"",s);Cn(i)?i.setAttribute(e,s,m,t):t?e.setAttributeNS(t,s,m):e.setAttribute(s,m)}}(e[11],d,u,i.value,t,o,s)}function wf(i,e,t,o,s,u){const d=u[e];if(null!==d){const m=o.setInput;for(let y=0;y<d.length;){const b=d[y++],C=d[y++],I=d[y++];null!==m?o.setInput(t,I,b,C):t[C]=I}}}function t_(i,e){let t=null,o=0;for(;o<e.length;){const s=e[o];if(0!==s)if(5!==s){if("number"==typeof s)break;i.hasOwnProperty(s)&&(null===t&&(t=[]),t.push(s,i[s],e[o+1])),o+=2}else o+=2;else o+=4}return t}function ou(i,e,t,o){return new Array(i,!0,!1,e,null,0,o,t,null,null)}function Ef(i,e){const t=Si(e,i);if(md(t)){const o=t[1];80&t[2]?Ru(o,t,o.template,t[8]):t[5]>0&&Nh(t)}}function Nh(i){for(let o=Og(i);null!==o;o=Ng(o))for(let s=10;s<o.length;s++){const u=o[s];if(1024&u[2]){const d=u[1];Ru(d,u,d.template,u[8])}else u[5]>0&&Nh(u)}const t=i[1].components;if(null!==t)for(let o=0;o<t.length;o++){const s=Si(t[o],i);md(s)&&s[5]>0&&Nh(s)}}function Ph(i,e){const t=Si(e,i),o=t[1];(function vm(i,e){for(let t=e.length;t<i.blueprint.length;t++)e.push(i.blueprint[t])})(o,t),ku(o,t,t[8])}function Ye(i,e){return i[13]?i[14][4]=e:i[13]=e,i[14]=e,e}function Fh(i){for(;i;){i[2]|=64;const e=Xa(i);if(oc(i)&&!e)return i;i=e}return null}function Xs(i,e,t){const o=e[10];o.begin&&o.begin();try{Ru(i,e,i.template,t)}catch(s){throw kr(e,s),s}finally{o.end&&o.end()}}function sy(i){!function Ou(i){for(let e=0;e<i.components.length;e++){const t=i.components[e],o=Mp(t),s=o[1];ty(s,o,s.template,t)}}(i[8])}function Ia(i,e,t){nh(0),e(i,t)}const Nu=(()=>Promise.resolve(null))();function su(i){return i[7]||(i[7]=[])}function Gi(i){return i.cleanup||(i.cleanup=[])}function Lh(i,e,t){return(null===i||Ho(i))&&(t=function lv(i){for(;Array.isArray(i);){if("object"==typeof i[1])return i;i=i[0]}return null}(t[e.index])),t[11]}function kr(i,e){const t=i[9],o=t?t.get(Ya,null):null;o&&o.handleError(e)}function Jn(i,e,t,o,s){for(let u=0;u<t.length;){const d=t[u++],m=t[u++],y=e[d],b=i.data[d];null!==b.setInput?b.setInput(y,s,o,m):y[m]=s}}function Yo(i,e,t){const o=to(e,i);!function Ja(i,e,t){Cn(i)?i.setValue(e,t):e.textContent=t}(i[11],o,t)}function Zn(i,e,t){let o=t?i.styles:null,s=t?i.classes:null,u=0;if(null!==e)for(let d=0;d<e.length;d++){const m=e[d];"number"==typeof m?u=m:1==u?s=Vo(s,m):2==u&&(o=Vo(o,m+": "+e[++d]+";"))}t?i.styles=o:i.stylesWithoutHost=o,t?i.classes=s:i.classesWithoutHost=s}const p=new Qe("INJECTOR",-1);class v{get(e,t=$r){if(t===$r){const o=new Error(`NullInjectorError: No provider for ${vn(e)}!`);throw o.name="NullInjectorError",o}return t}}const E=new Qe("Set Injector scope."),T={},R={};let P;function U(){return void 0===P&&(P=new v),P}function le(i,e=null,t=null,o){const s=c(i,e,t,o);return s._resolveInjectorDefTypes(),s}function c(i,e=null,t=null,o){return new a(i,t,e||U(),o)}class a{constructor(e,t,o,s=null){this.parent=o,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const u=[];t&&Nr(t,m=>this.processProvider(m,e,t)),Nr([e],m=>this.processInjectorType(m,[],u)),this.records.set(p,w(void 0,this));const d=this.records.get(E);this.scope=null!=d?d.value:null,this.source=s||("object"==typeof e?null:vn(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=$r,o=fe.Default){this.assertNotDestroyed();const s=Kr(this),u=lt(void 0);try{if(!(o&fe.SkipSelf)){let m=this.records.get(e);if(void 0===m){const y=function Z(i){return"function"==typeof i||"object"==typeof i&&i instanceof Qe}(e)&&Kn(e);m=y&&this.injectableDefInScope(y)?w(h(e),T):null,this.records.set(e,m)}if(null!=m)return this.hydrate(e,m)}return(o&fe.Self?U():this.parent).get(e,t=o&fe.Optional&&t===$r?null:t)}catch(d){if("NullInjectorError"===d.name){if((d[Yn]=d[Yn]||[]).unshift(vn(e)),s)throw d;return function Pd(i,e,t,o){const s=i[Yn];throw e[hr]&&s.unshift(e[hr]),i.message=function dr(i,e,t,o=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let s=vn(e);if(Array.isArray(e))s=e.map(vn).join(" -> ");else if("object"==typeof e){let u=[];for(let d in e)if(e.hasOwnProperty(d)){let m=e[d];u.push(d+":"+("string"==typeof m?JSON.stringify(m):vn(m)))}s=`{${u.join(", ")}}`}return`${t}${o?"("+o+")":""}[${s}]: ${i.replace(wv,"\n  ")}`}("\n"+i.message,s,t,o),i.ngTokenPath=s,i[Yn]=null,i}(d,e,"R3InjectorError",this.source)}throw d}finally{lt(u),Kr(s)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((o,s)=>e.push(vn(s))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Mt(205,"")}processInjectorType(e,t,o){if(!(e=xt(e)))return!1;let s=B(e);const u=null==s&&e.ngModule||void 0,d=void 0===u?e:u,m=-1!==o.indexOf(d);if(void 0!==u&&(s=B(u)),null==s)return!1;if(null!=s.imports&&!m){let C;o.push(d);try{Nr(s.imports,I=>{this.processInjectorType(I,t,o)&&(void 0===C&&(C=[]),C.push(I))})}finally{}if(void 0!==C)for(let I=0;I<C.length;I++){const{ngModule:M,providers:O}=C[I];Nr(O,L=>this.processProvider(L,M,O||En))}}this.injectorDefTypes.add(d);const y=ge(d)||(()=>new d);this.records.set(d,w(y,T));const b=s.providers;if(null!=b&&!m){const C=e;Nr(b,I=>this.processProvider(I,C,b))}return void 0!==u&&void 0!==e.providers}processProvider(e,t,o){let s=F(e=xt(e))?e:xt(e&&e.provide);const u=function g(i,e,t){return D(i)?w(void 0,i.useValue):w(_(i),T)}(e);if(F(e)||!0!==e.multi)this.records.get(s);else{let d=this.records.get(s);d||(d=w(void 0,T,!0),d.factory=()=>Ec(d.multi),this.records.set(s,d)),s=e,d.multi.push(e)}this.records.set(s,u)}hydrate(e,t){return t.value===T&&(t.value=R,t.value=t.factory()),"object"==typeof t.value&&t.value&&function ee(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(t.value)&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=xt(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function h(i){const e=Kn(i),t=null!==e?e.factory:ge(i);if(null!==t)return t;if(i instanceof Qe)throw new Mt(204,"");if(i instanceof Function)return function f(i){const e=i.length;if(e>0)throw $a(e,"?"),new Mt(204,"");const t=function k(i){const e=i&&(i[H]||i[ne]);if(e){const t=function x(i){if(i.hasOwnProperty("name"))return i.name;const e=(""+i).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(i);return null!==t?()=>t.factory(i):()=>new i}(i);throw new Mt(204,"")}function _(i,e,t){let o;if(F(i)){const s=xt(i);return ge(s)||h(s)}if(D(i))o=()=>xt(i.useValue);else if(function N(i){return!(!i||!i.useFactory)}(i))o=()=>i.useFactory(...Ec(i.deps||[]));else if(function A(i){return!(!i||!i.useExisting)}(i))o=()=>ce(xt(i.useExisting));else{const s=xt(i&&(i.useClass||i.provide));if(!function z(i){return!!i.deps}(i))return ge(s)||h(s);o=()=>new s(...Ec(i.deps))}return o}function w(i,e,t=!1){return{factory:i,value:e,multi:t?[]:void 0}}function D(i){return null!==i&&"object"==typeof i&&$o in i}function F(i){return"function"==typeof i}let ie=(()=>{class i{static create(t,o){var s;if(Array.isArray(t))return le({name:""},o,t,"");{const u=null!==(s=t.name)&&void 0!==s?s:"";return le({name:u},t.parent,t.providers,u)}}}return i.THROW_IF_NOT_FOUND=$r,i.NULL=new v,i.\u0275prov=Xe({token:i,providedIn:"any",factory:()=>ce(p)}),i.__NG_ELEMENT_ID__=-1,i})();function rU(i,e){oh(Mp(i)[1],Er())}function Bh(i){let e=function C1(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),t=!0;const o=[i];for(;e;){let s;if(Ho(i))s=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Mt(903,"");s=e.\u0275dir}if(s){if(t){o.push(s);const d=i;d.inputs=hI(i.inputs),d.declaredInputs=hI(i.declaredInputs),d.outputs=hI(i.outputs);const m=s.hostBindings;m&&aU(i,m);const y=s.viewQuery,b=s.contentQueries;if(y&&oU(i,y),b&&sU(i,b),La(i.inputs,s.inputs),La(i.declaredInputs,s.declaredInputs),La(i.outputs,s.outputs),Ho(s)&&s.data.animation){const C=i.data;C.animation=(C.animation||[]).concat(s.data.animation)}}const u=s.features;if(u)for(let d=0;d<u.length;d++){const m=u[d];m&&m.ngInherit&&m(i),m===Bh&&(t=!1)}}e=Object.getPrototypeOf(e)}!function iU(i){let e=0,t=null;for(let o=i.length-1;o>=0;o--){const s=i[o];s.hostVars=e+=s.hostVars,s.hostAttrs=Cr(s.hostAttrs,t=Cr(t,s.hostAttrs))}}(o)}function hI(i){return i===li?{}:i===En?[]:i}function oU(i,e){const t=i.viewQuery;i.viewQuery=t?(o,s)=>{e(o,s),t(o,s)}:e}function sU(i,e){const t=i.contentQueries;i.contentQueries=t?(o,s,u)=>{e(o,s,u),t(o,s,u)}:e}function aU(i,e){const t=i.hostBindings;i.hostBindings=t?(o,s)=>{e(o,s),t(o,s)}:e}let cE=null;function i_(){if(!cE){const i=ln.Symbol;if(i&&i.iterator)cE=i.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const o=e[t];"entries"!==o&&"size"!==o&&Map.prototype[o]===Map.prototype.entries&&(cE=o)}}}return cE}function l0(i){return!!dI(i)&&(Array.isArray(i)||!(i instanceof Map)&&i_()in i)}function dI(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Vh(i,e,t){return i[e]=t}function Js(i,e,t){return!Object.is(i[e],t)&&(i[e]=t,!0)}function jh(i,e,t,o){const s=ye();return Js(s,eh(),e)&&(Yt(),_s(rr(),s,i,e,t,o)),jh}function s_(i,e,t,o){return Js(i,eh(),t)?e+yt(t)+o:Tt}function Fc(i,e,t,o,s,u,d,m){const y=ye(),b=Yt(),C=i+20,I=b.firstCreatePass?function pU(i,e,t,o,s,u,d,m,y){const b=e.consts,C=Mu(e,i,4,d||null,no(b,m));Nc(e,t,C,no(b,y)),oh(e,C);const I=C.tViews=Mh(2,C,o,s,u,e.directiveRegistry,e.pipeRegistry,null,e.schemas,b);return null!==e.queries&&(e.queries.template(e,C),I.queries=e.queries.embeddedTView(C)),C}(C,b,y,e,t,o,s,u,d):b.data[C];Vi(I,!1);const M=y[11].createComment("");tf(b,y,M,I),qi(M,y),Ye(y,y[C]=ou(M,y,M,I)),Uo(I)&&am(b,y,I),null!=d&&um(y,I,m)}function Pu(i){return cr(function Pb(){return pe.lFrame.contextLView}(),20+i)}function ve(i,e=fe.Default){const t=ye();return null===t?ce(i,e):lh(Er(),t,xt(i),e)}function dE(){throw new Error("invalid")}function so(i,e,t){const o=ye();return Js(o,eh(),e)&&oi(Yt(),rr(),o,i,e,o[11],t,!1),so}function yI(i,e,t,o,s){const d=s?"class":"style";Jn(i,t,e.inputs[d],d,o)}function Ce(i,e,t,o){const s=ye(),u=Yt(),d=20+i,m=s[11],y=s[d]=Du(m,e,function ih(){return pe.lFrame.currentNamespace}()),b=u.firstCreatePass?function PU(i,e,t,o,s,u,d){const m=e.consts,b=Mu(e,i,2,s,no(m,u));return Nc(e,t,b,no(m,d)),null!==b.attrs&&Zn(b,b.attrs,!1),null!==b.mergedAttrs&&Zn(b,b.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,b),b}(d,u,s,0,e,t,o):u.data[d];Vi(b,!0);const C=b.mergedAttrs;null!==C&&pu(m,y,C);const I=b.classes;null!==I&&uf(m,y,I);const M=b.styles;null!==M&&af(m,y,M),64!=(64&b.flags)&&tf(u,s,y,b),0===function Ha(){return pe.lFrame.elementDepthCount}()&&qi(y,s),function gd(){pe.lFrame.elementDepthCount++}(),Uo(b)&&(am(u,s,b),function Qs(i,e,t){if(ha(e)){const s=e.directiveEnd;for(let u=e.directiveStart;u<s;u++){const d=i.data[u];d.contentQueries&&d.contentQueries(1,t[u],u)}}}(u,b,s)),null!==o&&um(s,b)}function De(){let i=Er();mi()?Zf():(i=i.parent,Vi(i,!1));const e=i;!function sc(){pe.lFrame.elementDepthCount--}();const t=Yt();t.firstCreatePass&&(oh(t,i),ha(i)&&t.queries.elementEnd(i)),null!=e.classesWithoutHost&&function lc(i){return 0!=(16&i.flags)}(e)&&yI(t,e,ye(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function ig(i){return 0!=(32&i.flags)}(e)&&yI(t,e,ye(),e.stylesWithoutHost,!1)}function Hn(i,e,t,o){Ce(i,e,t,o),De()}function Cf(){return ye()}function fE(i){return!!i&&"function"==typeof i.then}const $1=function G1(i){return!!i&&"function"==typeof i.subscribe};function Pr(i,e,t,o){const s=ye(),u=Yt(),d=Er();return K1(u,s,s[11],d,i,e,!!t,o),Pr}function vI(i,e){const t=Er(),o=ye(),s=Yt();return K1(s,o,Lh(tp(s.data),t,o),t,i,e,!1),vI}function K1(i,e,t,o,s,u,d,m){const y=Uo(o),C=i.firstCreatePass&&Gi(i),I=e[8],M=su(e);let O=!0;if(3&o.type||m){const X=Wn(o,e),ae=m?m(X):X,Y=M.length,Te=m?Le=>m(ht(Le[o.index])):o.index;if(Cn(t)){let Le=null;if(!m&&y&&(Le=function BU(i,e,t,o){const s=i.cleanup;if(null!=s)for(let u=0;u<s.length-1;u+=2){const d=s[u];if(d===t&&s[u+1]===o){const m=e[7],y=s[u+2];return m.length>y?m[y]:null}"string"==typeof d&&(u+=2)}return null}(i,e,s,o.index)),null!==Le)(Le.__ngLastListenerFn__||Le).__ngNextListenerFn__=u,Le.__ngLastListenerFn__=u,O=!1;else{u=_I(o,e,I,u,!1);const ut=t.listen(ae,s,u);M.push(u,ut),C&&C.push(s,Te,Y,Y+1)}}else u=_I(o,e,I,u,!0),ae.addEventListener(s,u,d),M.push(u),C&&C.push(s,Te,Y,d)}else u=_I(o,e,I,u,!1);const L=o.outputs;let q;if(O&&null!==L&&(q=L[s])){const X=q.length;if(X)for(let ae=0;ae<X;ae+=2){const Et=e[q[ae]][q[ae+1]].subscribe(u),tr=M.length;M.push(u,Et),C&&C.push(s,o.index,tr,-(tr+1))}}}function W1(i,e,t,o){try{return!1!==t(o)}catch(s){return kr(i,s),!1}}function _I(i,e,t,o,s){return function u(d){if(d===Function)return o;const m=2&i.flags?Si(i.index,e):e;0==(32&e[2])&&Fh(m);let y=W1(e,0,o,d),b=u.__ngNextListenerFn__;for(;b;)y=W1(e,0,b,d)&&y,b=b.__ngNextListenerFn__;return s&&!1===y&&(d.preventDefault(),d.returnValue=!1),y}}function Lc(i=1){return function wd(i){return(pe.lFrame.contextLView=function ip(i,e){for(;i>0;)e=e[15],i--;return e}(i,pe.lFrame.contextLView))[8]}(i)}function VU(i,e){let t=null;const o=function zg(i){const e=i.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(i);for(let s=0;s<e.length;s++){const u=e[s];if("*"!==u){if(null===o?$v(i,u,!0):cf(o,u))return s}else t=s}return t}function cy(i){const e=ye()[16][6];if(!e.projection){const o=e.projection=$a(i?i.length:1,null),s=o.slice();let u=e.child;for(;null!==u;){const d=i?VU(u,i):0;null!==d&&(s[d]?s[d].projectionNext=u:o[d]=u,s[d]=u),u=u.next}}}function Uh(i,e=0,t){const o=ye(),s=Yt(),u=Mu(s,20+i,16,null,t||null);null===u.projection&&(u.projection=e),Zf(),64!=(64&u.flags)&&function $p(i,e,t){Tu(e[11],0,e,t,Jd(i,t,e),Vg(t.parent||e[6],t,e))}(s,o,u)}function bI(i,e,t){return wI(i,"",e,"",t),bI}function wI(i,e,t,o,s){const u=ye(),d=s_(u,e,t,o);return d!==Tt&&oi(Yt(),rr(),u,i,d,u[11],s,!1),wI}function rk(i,e,t,o,s){const u=i[t+1],d=null===e;let m=o?Qo(u):vs(u),y=!1;for(;0!==m&&(!1===y||d);){const C=i[m+1];HU(i[m],e)&&(y=!0,i[m+1]=o?lf(C):Sh(C)),m=o?Qo(C):vs(C)}y&&(i[t+1]=o?Sh(u):lf(u))}function HU(i,e){return null===i||null==e||(Array.isArray(i)?i[1]:i)===e||!(!Array.isArray(i)||"string"!=typeof e)&&mh(i,e)>=0}function Df(i,e){return function Nl(i,e,t,o){const s=ye(),u=Yt(),d=function fu(i){const e=pe.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+i,t}(2);u.firstUpdatePass&&function dk(i,e,t,o){const s=i.data;if(null===s[t+1]){const u=s[Ai()],d=function hk(i,e){return e>=i.expandoStartIndex}(i,t);(function gk(i,e){return 0!=(i.flags&(e?16:32))})(u,o)&&null===e&&!d&&(e=!1),e=function XU(i,e,t,o){const s=tp(i);let u=o?e.residualClasses:e.residualStyles;if(null===s)0===(o?e.classBindings:e.styleBindings)&&(t=d0(t=EI(null,i,e,t,o),e.attrs,o),u=null);else{const d=e.directiveStylingLast;if(-1===d||i[d]!==s)if(t=EI(s,i,e,t,o),null===u){let y=function JU(i,e,t){const o=t?e.classBindings:e.styleBindings;if(0!==vs(o))return i[Qo(o)]}(i,e,o);void 0!==y&&Array.isArray(y)&&(y=EI(null,i,e,y[1],o),y=d0(y,e.attrs,o),function ZU(i,e,t,o){i[Qo(t?e.classBindings:e.styleBindings)]=o}(i,e,o,y))}else u=function e3(i,e,t){let o;const s=e.directiveEnd;for(let u=1+e.directiveStylingLast;u<s;u++)o=d0(o,i[u].hostAttrs,t);return d0(o,e.attrs,t)}(i,e,o)}return void 0!==u&&(o?e.residualClasses=u:e.residualStyles=u),t}(s,u,e,o),function jU(i,e,t,o,s,u){let d=u?e.classBindings:e.styleBindings,m=Qo(d),y=vs(d);i[o]=t;let C,b=!1;if(Array.isArray(t)){const I=t;C=I[1],(null===C||mh(I,C)>0)&&(b=!0)}else C=t;if(s)if(0!==y){const M=Qo(i[m+1]);i[o+1]=Xp(M,m),0!==M&&(i[M+1]=Tl(i[M+1],o)),i[m+1]=function Qv(i,e){return 131071&i|e<<17}(i[m+1],o)}else i[o+1]=Xp(m,0),0!==m&&(i[m+1]=Tl(i[m+1],o)),m=o;else i[o+1]=Xp(y,0),0===m?m=o:i[y+1]=Tl(i[y+1],o),y=o;b&&(i[o+1]=Sh(i[o+1])),rk(i,C,o,!0),rk(i,C,o,!1),function UU(i,e,t,o,s){const u=s?i.residualClasses:i.residualStyles;null!=u&&"string"==typeof e&&mh(u,e)>=0&&(t[o+1]=lf(t[o+1]))}(e,C,i,o,u),d=Xp(m,y),u?e.classBindings=d:e.styleBindings=d}(s,u,e,t,d,o)}}(u,i,d,o),e!==Tt&&Js(s,d,e)&&function pk(i,e,t,o,s,u,d,m){if(!(3&e.type))return;const y=i.data,b=y[m+1];pE(function Zp(i){return 1==(1&i)}(b)?mk(y,e,t,s,vs(b),d):void 0)||(pE(u)||function Jp(i){return 2==(2&i)}(b)&&(u=mk(y,null,t,s,m,d)),function Kp(i,e,t,o,s){const u=Cn(i);if(e)s?u?i.addClass(t,o):t.classList.add(o):u?i.removeClass(t,o):t.classList.remove(o);else{let d=-1===o.indexOf("-")?void 0:ki.DashCase;if(null==s)u?i.removeStyle(t,o,d):t.style.removeProperty(o);else{const m="string"==typeof s&&s.endsWith("!important");m&&(s=s.slice(0,-10),d|=ki.Important),u?i.setStyle(t,o,s,d):t.style.setProperty(o,s,m?"important":"")}}}(o,d,to(Ai(),t),s,u))}(u,u.data[Ai()],s,s[11],i,s[d+1]=function r3(i,e){return null==i||("string"==typeof e?i+=e:"object"==typeof i&&(i=vn(Ko(i)))),i}(e,t),o,d)}(i,e,null,!0),Df}function EI(i,e,t,o,s){let u=null;const d=t.directiveEnd;let m=t.directiveStylingLast;for(-1===m?m=t.directiveStart:m++;m<d&&(u=e[m],o=d0(o,u.hostAttrs,s),u!==i);)m++;return null!==i&&(t.directiveStylingLast=m),o}function d0(i,e,t){const o=t?1:2;let s=-1;if(null!==e)for(let u=0;u<e.length;u++){const d=e[u];"number"==typeof d?s=d:s===o&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),Go(i,d,!!t||e[++u]))}return void 0===i?null:i}function mk(i,e,t,o,s,u){const d=null===e;let m;for(;s>0;){const y=i[s],b=Array.isArray(y),C=b?y[1]:y,I=null===C;let M=t[s+1];M===Tt&&(M=I?En:void 0);let O=I?lg(M,o):C===o?M:void 0;if(b&&!pE(O)&&(O=lg(y,o)),pE(O)&&(m=O,d))return m;const L=i[s+1];s=d?Qo(L):vs(L)}if(null!==e){let y=u?e.residualClasses:e.residualStyles;null!=y&&(m=lg(y,o))}return m}function pE(i){return void 0!==i}function bt(i,e=""){const t=ye(),o=Yt(),s=i+20,u=o.firstCreatePass?Mu(o,s,1,e,null):o.data[s],d=t[s]=function xc(i,e){return Cn(i)?i.createText(e):i.createTextNode(e)}(t[11],e);tf(o,t,d,u),Vi(u,!1)}function Fl(i){return f0("",i,""),Fl}function f0(i,e,t){const o=ye(),s=s_(o,i,e,t);return s!==Tt&&Yo(o,Ai(),s),f0}function CI(i,e,t){const o=ye();return Js(o,eh(),e)&&oi(Yt(),rr(),o,i,e,o[11],t,!0),CI}function DI(i,e,t){const o=ye();if(Js(o,eh(),e)){const u=Yt(),d=rr();oi(u,d,o,i,e,Lh(tp(u.data),d,o),t,!0)}return DI}const ly=void 0;var D3=["en",[["a","p"],["AM","PM"],ly],[["AM","PM"],ly,ly],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ly,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ly,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ly,"{1} 'at' {0}",ly],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function C3(i){const t=Math.floor(Math.abs(i)),o=i.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===o?1:5}];let g_={};function Ta(i){const e=function I3(i){return i.toLowerCase().replace(/_/g,"-")}(i);let t=Pk(e);if(t)return t;const o=e.split("-")[0];if(t=Pk(o),t)return t;if("en"===o)return D3;throw new Error(`Missing locale data for the locale "${i}".`)}function Pk(i){return i in g_||(g_[i]=ln.ng&&ln.ng.common&&ln.ng.common.locales&&ln.ng.common.locales[i]),g_[i]}var Ke=(()=>((Ke=Ke||{})[Ke.LocaleId=0]="LocaleId",Ke[Ke.DayPeriodsFormat=1]="DayPeriodsFormat",Ke[Ke.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ke[Ke.DaysFormat=3]="DaysFormat",Ke[Ke.DaysStandalone=4]="DaysStandalone",Ke[Ke.MonthsFormat=5]="MonthsFormat",Ke[Ke.MonthsStandalone=6]="MonthsStandalone",Ke[Ke.Eras=7]="Eras",Ke[Ke.FirstDayOfWeek=8]="FirstDayOfWeek",Ke[Ke.WeekendRange=9]="WeekendRange",Ke[Ke.DateFormat=10]="DateFormat",Ke[Ke.TimeFormat=11]="TimeFormat",Ke[Ke.DateTimeFormat=12]="DateTimeFormat",Ke[Ke.NumberSymbols=13]="NumberSymbols",Ke[Ke.NumberFormats=14]="NumberFormats",Ke[Ke.CurrencyCode=15]="CurrencyCode",Ke[Ke.CurrencySymbol=16]="CurrencySymbol",Ke[Ke.CurrencyName=17]="CurrencyName",Ke[Ke.Currencies=18]="Currencies",Ke[Ke.Directionality=19]="Directionality",Ke[Ke.PluralCase=20]="PluralCase",Ke[Ke.ExtraData=21]="ExtraData",Ke))();const mE="en-US";let Fk=mE;function SI(i,e,t,o,s){if(i=xt(i),Array.isArray(i))for(let u=0;u<i.length;u++)SI(i[u],e,t,o,s);else{const u=Yt(),d=ye();let m=F(i)?i:xt(i.provide),y=_(i);const b=Er(),C=1048575&b.providerIndexes,I=b.directiveStart,M=b.providerIndexes>>20;if(F(i)||!i.multi){const O=new ah(y,s,ve),L=xI(m,e,s?C:C+M,I);-1===L?(Ad(_r(b,d),u,m),AI(u,i,e.length),e.push(m),b.directiveStart++,b.directiveEnd++,s&&(b.providerIndexes+=1048576),t.push(O),d.push(O)):(t[L]=O,d[L]=O)}else{const O=xI(m,e,C+M,I),L=xI(m,e,C,C+M),q=O>=0&&t[O],X=L>=0&&t[L];if(s&&!X||!s&&!q){Ad(_r(b,d),u,m);const ae=function CH(i,e,t,o,s){const u=new ah(i,t,ve);return u.multi=[],u.index=e,u.componentProviders=0,sR(u,s,o&&!t),u}(s?EH:wH,t.length,s,o,y);!s&&X&&(t[L].providerFactory=ae),AI(u,i,e.length,0),e.push(m),b.directiveStart++,b.directiveEnd++,s&&(b.providerIndexes+=1048576),t.push(ae),d.push(ae)}else AI(u,i,O>-1?O:L,sR(t[s?L:O],y,!s&&o));!s&&o&&X&&t[L].componentProviders++}}}function AI(i,e,t,o){const s=F(e),u=function j(i){return!!i.useClass}(e);if(s||u){const y=(u?xt(e.useClass):e).prototype.ngOnDestroy;if(y){const b=i.destroyHooks||(i.destroyHooks=[]);if(!s&&e.multi){const C=b.indexOf(t);-1===C?b.push(t,[o,y]):b[C+1].push(o,y)}else b.push(t,y)}}}function sR(i,e,t){return t&&i.componentProviders++,i.multi.push(e)-1}function xI(i,e,t,o){for(let s=t;s<o;s++)if(e[s]===i)return s;return-1}function wH(i,e,t,o){return MI(this.multi,[])}function EH(i,e,t,o){const s=this.multi;let u;if(this.providerFactory){const d=this.providerFactory.componentProviders,m=Dr(t,t[1],this.providerFactory.index,o);u=m.slice(0,d),MI(s,u);for(let y=d;y<m.length;y++)u.push(m[y])}else u=[],MI(s,u);return u}function MI(i,e){for(let t=0;t<i.length;t++)e.push((0,i[t])());return e}function aR(i,e=[]){return t=>{t.providersResolver=(o,s)=>function bH(i,e,t){const o=Yt();if(o.firstCreatePass){const s=Ho(i);SI(t,o.data,o.blueprint,s,!0),SI(e,o.data,o.blueprint,s,!1)}}(o,s?s(i):i,e)}}class uR{}class TH{resolveComponentFactory(e){throw function IH(i){const e=Error(`No component factory found for ${vn(i)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=i,e}(e)}}let wm=(()=>{class i{}return i.NULL=new TH,i})();function SH(){return v_(Er(),ye())}function v_(i,e){return new Ro(Wn(i,e))}let Ro=(()=>{class i{constructor(t){this.nativeElement=t}}return i.__NG_ELEMENT_ID__=SH,i})();function AH(i){return i instanceof Ro?i.nativeElement:i}class v0{}let bE=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function MH(){const i=ye(),t=Si(Er().index,i);return function xH(i){return i[11]}(Vs(t)?t:i)}(),i})(),kH=(()=>{class i{}return i.\u0275prov=Xe({token:i,providedIn:"root",factory:()=>null}),i})();class __{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const RH=new __("13.1.3"),kI={};function wE(i,e,t,o,s=!1){for(;null!==t;){const u=e[t.index];if(null!==u&&o.push(ht(u)),fi(u))for(let m=10;m<u.length;m++){const y=u[m],b=y[1].firstChild;null!==b&&wE(y[1],y,b,o)}const d=t.type;if(8&d)wE(i,e,t.child,o);else if(32&d){const m=Ac(t,e);let y;for(;y=m();)o.push(y)}else if(16&d){const m=Ug(e,t);if(Array.isArray(m))o.push(...m);else{const y=Xa(e[16]);wE(y[1],y,m,o,!0)}}t=s?t.projectionNext:t.next}return o}class _0{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return wE(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(fi(e)){const t=e[8],o=t?t.indexOf(this):-1;o>-1&&(Lg(e,o),bc(t,o))}this._attachedToViewContainer=!1}Hv(this._lView[1],this._lView)}onDestroy(e){lm(this._lView[1],this._lView,null,e)}markForCheck(){Fh(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Xs(this._lView[1],this._lView,this.context)}checkNoChanges(){!function _m(i,e,t){du(!0);try{Xs(i,e,t)}finally{du(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Mt(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Yd(i,e){Iu(i,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Mt(902,"");this._appRef=e}}class OH extends _0{constructor(e){super(e),this._view=e}detectChanges(){sy(this._view)}checkNoChanges(){!function a0(i){du(!0);try{sy(i)}finally{du(!1)}}(this._view)}get context(){return null}}class lR extends wm{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Hr(e);return new RI(t,this.ngModule)}}function hR(i){const e=[];for(let t in i)i.hasOwnProperty(t)&&e.push({propName:i[t],templateName:t});return e}const PH=new Qe("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Dh});class RI extends uR{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function Wv(i){return i.map($g).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return hR(this.componentDef.inputs)}get outputs(){return hR(this.componentDef.outputs)}create(e,t,o,s){const u=(s=s||this.ngModule)?function FH(i,e){return{get:(t,o,s)=>{const u=i.get(t,kI,s);return u!==kI||o===kI?u:e.get(t,o,s)}}}(e,s.injector):e,d=u.get(v0,Yf),m=u.get(kH,null),y=d.createRenderer(null,this.componentDef),b=this.componentDef.selectors[0][0]||"div",C=o?function cm(i,e,t){if(Cn(i))return i.selectRootElement(e,t===jr.ShadowDom);let o="string"==typeof e?i.querySelector(e):e;return o.textContent="",o}(y,o,this.componentDef.encapsulation):Du(d.createRenderer(null,this.componentDef),b,function NH(i){const e=i.toLowerCase();return"svg"===e?st:"math"===e?"http://www.w3.org/1998/MathML/":null}(b)),I=this.componentDef.onPush?576:528,M=function E1(i,e){return{components:[],scheduler:i||Dh,clean:Nu,playerHandler:e||null,flags:0}}(),O=Mh(0,null,null,1,0,null,null,null,null,null),L=xh(null,O,M,I,null,null,d,y,m,u);let q,X;rh(L);try{const ae=function b1(i,e,t,o,s,u){const d=t[1];t[20]=i;const y=Mu(d,20,2,"#host",null),b=y.mergedAttrs=e.hostAttrs;null!==b&&(Zn(y,b,!0),null!==i&&(pu(s,i,b),null!==y.classes&&uf(s,i,y.classes),null!==y.styles&&af(s,i,y.styles)));const C=o.createRenderer(i,e),I=xh(t,vf(e),null,e.onPush?64:16,t[20],y,o,C,u||null,null);return d.firstCreatePass&&(Ad(_r(y,t),d,e.type),bf(d,y),iy(y,t.length,1)),Ye(t,I),t[20]=I}(C,this.componentDef,L,d,y);if(C)if(o)pu(y,C,["ng-version",RH.full]);else{const{attrs:Y,classes:Te}=function t0(i){const e=[],t=[];let o=1,s=2;for(;o<i.length;){let u=i[o];if("string"==typeof u)2===s?""!==u&&e.push(u,i[++o]):8===s&&t.push(u);else{if(!Wo(s))break;s=u}o++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);Y&&pu(y,C,Y),Te&&Te.length>0&&uf(y,C,Te.join(" "))}if(X=zo(O,20),void 0!==t){const Y=X.projection=[];for(let Te=0;Te<this.ngContentSelectors.length;Te++){const Le=t[Te];Y.push(null!=Le?Array.from(Le):null)}}q=function w1(i,e,t,o,s){const u=t[1],d=function Ys(i,e,t){const o=Er();i.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),oy(i,o,e,Ws(i,e,1,null),t));const s=Dr(e,i,o.directiveStart,o);qi(s,e);const u=Wn(o,e);return u&&qi(u,e),s}(u,t,e);if(o.components.push(d),i[8]=d,s&&s.forEach(y=>y(d,e)),e.contentQueries){const y=Er();e.contentQueries(1,d,y.directiveStart)}const m=Er();return!u.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(fs(m.index),_f(t[1],m,0,m.directiveStart,m.directiveEnd,e),fm(e,d)),d}(ae,this.componentDef,L,M,[rU]),ku(O,L,null)}finally{ac()}return new BH(this.componentType,q,v_(X,L),L,X)}}class BH extends class DH{}{constructor(e,t,o,s,u){super(),this.location=o,this._rootLView=s,this._tNode=u,this.instance=t,this.hostView=this.changeDetectorRef=new OH(s),this.componentType=e}get injector(){return new Ui(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class If{}class dR{}const b_=new Map;class mR extends If{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new lR(this);const o=wo(e);this._bootstrapComponents=wa(o.bootstrap),this._r3Injector=c(e,t,[{provide:If,useValue:this},{provide:wm,useValue:this.componentFactoryResolver}],vn(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=ie.THROW_IF_NOT_FOUND,o=fe.Default){return e===ie||e===If||e===p?this:this._r3Injector.get(e,t,o)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class OI extends dR{constructor(e){super(),this.moduleType=e,null!==wo(e)&&function jH(i){const e=new Set;!function t(o){const s=wo(o,!0),u=s.id;null!==u&&(function fR(i,e,t){if(e&&e!==t)throw new Error(`Duplicate module registered for ${i} - ${vn(e)} vs ${vn(e.name)}`)}(u,b_.get(u),o),b_.set(u,o));const d=wa(s.imports);for(const m of d)e.has(m)||(e.add(m),t(m))}(i)}(e)}create(e){return new mR(this.moduleType,e)}}function NI(i,e,t,o){return function yR(i,e,t,o,s,u){const d=e+t;return Js(i,d,s)?Vh(i,d+1,u?o.call(u,s):o(s)):b0(i,d+1)}(ye(),gi(),i,e,t,o)}function b0(i,e){const t=i[e];return t===Tt?void 0:t}function vR(i,e,t,o,s,u,d){const m=e+t;return function uy(i,e,t,o){const s=Js(i,e,t);return Js(i,e+1,o)||s}(i,m,s,u)?Vh(i,m+2,d?o.call(d,s,u):o(s,u)):b0(i,m+2)}function PI(i){return e=>{setTimeout(i,void 0,e)}}const $i=class eq extends et{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,o){var s,u,d;let m=e,y=t||(()=>null),b=o;if(e&&"object"==typeof e){const I=e;m=null===(s=I.next)||void 0===s?void 0:s.bind(I),y=null===(u=I.error)||void 0===u?void 0:u.bind(I),b=null===(d=I.complete)||void 0===d?void 0:d.bind(I)}this.__isAsync&&(y=PI(y),m&&(m=PI(m)),b&&(b=PI(b)));const C=super.subscribe({next:m,error:y,complete:b});return e instanceof At&&e.add(C),C}};function tq(){return this._results[i_()]()}class w_{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=i_(),o=w_.prototype;o[t]||(o[t]=tq)}get changes(){return this._changes||(this._changes=new $i)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const o=this;o.dirty=!1;const s=xi(e);(this._changesDetected=!function Md(i,e,t){if(i.length!==e.length)return!1;for(let o=0;o<i.length;o++){let s=i[o],u=e[o];if(t&&(s=t(s),u=t(u)),u!==s)return!1}return!0}(o._results,s,t))&&(o._results=s,o.length=s.length,o.last=s[this.length-1],o.first=s[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Ll=(()=>{class i{}return i.__NG_ELEMENT_ID__=iq,i})();const nq=Ll,rq=class extends nq{constructor(e,t,o){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=o}createEmbeddedView(e){const t=this._declarationTContainer.tViews,o=xh(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);o[17]=this._declarationLView[this._declarationTContainer.index];const u=this._declarationLView[19];return null!==u&&(o[19]=u.createEmbeddedView(t)),ku(t,o,e),new _0(o)}};function iq(){return EE(Er(),ye())}function EE(i,e){return 4&i.type?new rq(e,i,v_(i,e)):null}let Fu=(()=>{class i{}return i.__NG_ELEMENT_ID__=oq,i})();function oq(){return TR(Er(),ye())}const sq=Fu,DR=class extends sq{constructor(e,t,o){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=o}get element(){return v_(this._hostTNode,this._hostLView)}get injector(){return new Ui(this._hostTNode,this._hostLView)}get parentInjector(){const e=ga(this._hostTNode,this._hostLView);if(dl(e)){const t=dc(e,this._hostLView),o=ch(e);return new Ui(t[1].data[o+8],t)}return new Ui(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=IR(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,o){const s=e.createEmbeddedView(t||{});return this.insert(s,o),s}createComponent(e,t,o,s,u){const d=e&&!function So(i){return"function"==typeof i}(e);let m;if(d)m=t;else{const I=t||{};m=I.index,o=I.injector,s=I.projectableNodes,u=I.ngModuleRef}const y=d?e:new RI(Hr(e)),b=o||this.parentInjector;if(!u&&null==y.ngModule&&b){const I=b.get(If,null);I&&(u=I)}const C=y.create(b,s,void 0,u);return this.insert(C.hostView,m),C}insert(e,t){const o=e._lView,s=o[1];if(function ul(i){return fi(i[3])}(o)){const C=this.indexOf(e);if(-1!==C)this.detach(C);else{const I=o[3],M=new DR(I,I[6],I[3]);M.detach(M.indexOf(e))}}const u=this._adjustIndex(t),d=this._lContainer;!function Xb(i,e,t,o){const s=10+o,u=t.length;o>0&&(t[s-1][4]=e),o<u-10?(e[4]=t[s],dh(t,10+o,e)):(t.push(e),e[4]=null),e[3]=t;const d=e[17];null!==d&&t!==d&&function Vp(i,e){const t=i[9];e[16]!==e[3][3][16]&&(i[2]=!0),null===t?i[9]=[e]:t.push(e)}(d,e);const m=e[19];null!==m&&m.insertView(i),e[2]|=128}(s,o,d,u);const m=rf(u,d),y=o[11],b=Hp(y,d[7]);return null!==b&&function Bp(i,e,t,o,s,u){o[0]=s,o[6]=e,Iu(i,o,t,1,s,u)}(s,d[6],y,o,b,m),e.attachToViewContainerRef(),dh(FI(d),u,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=IR(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),o=Lg(this._lContainer,t);o&&(bc(FI(this._lContainer),t),Hv(o[1],o))}detach(e){const t=this._adjustIndex(e,-1),o=Lg(this._lContainer,t);return o&&null!=bc(FI(this._lContainer),t)?new _0(o):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function IR(i){return i[8]}function FI(i){return i[8]||(i[8]=[])}function TR(i,e){let t;const o=e[i.index];if(fi(o))t=o;else{let s;if(8&i.type)s=ht(o);else{const u=e[11];s=u.createComment("");const d=Wn(i,e);Mc(u,Hp(u,d),s,function qp(i,e){return Cn(i)?i.nextSibling(e):e.nextSibling}(u,d),!1)}e[i.index]=t=ou(o,e,s,i),Ye(e,t)}return new DR(t,i,e)}class LI{constructor(e){this.queryList=e,this.matches=null}clone(){return new LI(this.queryList)}setDirty(){this.queryList.setDirty()}}class BI{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const o=null!==e.contentQueries?e.contentQueries[0]:t.length,s=[];for(let u=0;u<o;u++){const d=t.getByIndex(u);s.push(this.queries[d.indexInDeclarationView].clone())}return new BI(s)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==kR(e,t).matches&&this.queries[t].setDirty()}}class SR{constructor(e,t,o=null){this.predicate=e,this.flags=t,this.read=o}}class VI{constructor(e=[]){this.queries=e}elementStart(e,t){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let o=0;o<this.length;o++){const s=null!==t?t.length:0,u=this.getByIndex(o).embeddedTView(e,s);u&&(u.indexInDeclarationView=o,null!==t?t.push(u):t=[u])}return null!==t?new VI(t):null}template(e,t){for(let o=0;o<this.queries.length;o++)this.queries[o].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class jI{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new jI(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let o=e.parent;for(;null!==o&&8&o.type&&o.index!==t;)o=o.parent;return t===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const o=this.metadata.predicate;if(Array.isArray(o))for(let s=0;s<o.length;s++){const u=o[s];this.matchTNodeWithReadOption(e,t,cq(t,u)),this.matchTNodeWithReadOption(e,t,mc(t,e,u,!1,!1))}else o===Ll?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,mc(t,e,o,!1,!1))}matchTNodeWithReadOption(e,t,o){if(null!==o){const s=this.metadata.read;if(null!==s)if(s===Ro||s===Fu||s===Ll&&4&t.type)this.addMatch(t.index,-2);else{const u=mc(t,e,s,!1,!1);null!==u&&this.addMatch(t.index,u)}else this.addMatch(t.index,o)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function cq(i,e){const t=i.localNames;if(null!==t)for(let o=0;o<t.length;o+=2)if(t[o]===e)return t[o+1];return null}function hq(i,e,t,o){return-1===t?function lq(i,e){return 11&i.type?v_(i,e):4&i.type?EE(i,e):null}(e,i):-2===t?function dq(i,e,t){return t===Ro?v_(e,i):t===Ll?EE(e,i):t===Fu?TR(e,i):void 0}(i,e,o):Dr(i,i[1],t,e)}function AR(i,e,t,o){const s=e[19].queries[o];if(null===s.matches){const u=i.data,d=t.matches,m=[];for(let y=0;y<d.length;y+=2){const b=d[y];m.push(b<0?null:hq(e,u[b],d[y+1],t.metadata.read))}s.matches=m}return s.matches}function UI(i,e,t,o){const s=i.queries.getByIndex(t),u=s.matches;if(null!==u){const d=AR(i,e,s,t);for(let m=0;m<u.length;m+=2){const y=u[m];if(y>0)o.push(d[m/2]);else{const b=u[m+1],C=e[-y];for(let I=10;I<C.length;I++){const M=C[I];M[17]===M[3]&&UI(M[1],M,b,o)}if(null!==C[9]){const I=C[9];for(let M=0;M<I.length;M++){const O=I[M];UI(O[1],O,b,o)}}}}}return o}function Tf(i){const e=ye(),t=Yt(),o=th();nh(o+1);const s=kR(t,o);if(i.dirty&&Xf(e)===(2==(2&s.metadata.flags))){if(null===s.matches)i.reset([]);else{const u=s.crossesNgTemplate?UI(t,e,o,[]):AR(t,e,s,o);i.reset(u,AH),i.notifyOnChanges()}return!0}return!1}function CE(i,e,t){const o=Yt();o.firstCreatePass&&(MR(o,new SR(i,e,t),-1),2==(2&e)&&(o.staticViewQueries=!0)),xR(o,ye(),e)}function E_(i,e,t,o){const s=Yt();if(s.firstCreatePass){const u=Er();MR(s,new SR(e,t,o),u.index),function pq(i,e){const t=i.contentQueries||(i.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(i.queries.length-1,e)}(s,i),2==(2&t)&&(s.staticContentQueries=!0)}xR(s,ye(),t)}function Sf(){return function fq(i,e){return i[19].queries[e].queryList}(ye(),th())}function xR(i,e,t){const o=new w_(4==(4&t));lm(i,e,o,o.destroy),null===e[19]&&(e[19]=new BI),e[19].queries.push(new LI(o))}function MR(i,e,t){null===i.queries&&(i.queries=new VI),i.queries.track(new jI(e,t))}function kR(i,e){return i.queries.getByIndex(e)}function TE(...i){}const SE=new Qe("Application Initializer");let D_=(()=>{class i{constructor(t){this.appInits=t,this.resolve=TE,this.reject=TE,this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,s)=>{this.resolve=o,this.reject=s})}runInitializers(){if(this.initialized)return;const t=[],o=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let s=0;s<this.appInits.length;s++){const u=this.appInits[s]();if(fE(u))t.push(u);else if($1(u)){const d=new Promise((m,y)=>{u.subscribe({complete:m,error:y})});t.push(d)}}Promise.all(t).then(()=>{o()}).catch(s=>{this.reject(s)}),0===t.length&&o(),this.initialized=!0}}return i.\u0275fac=function(t){return new(t||i)(ce(SE,8))},i.\u0275prov=Xe({token:i,factory:i.\u0275fac}),i})();const C0=new Qe("AppId"),Oq={provide:C0,useFactory:function Rq(){return`${KI()}${KI()}${KI()}`},deps:[]};function KI(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const WR=new Qe("Platform Initializer"),AE=new Qe("Platform ID"),QR=new Qe("appBootstrapListener");let YR=(()=>{class i{log(t){console.log(t)}warn(t){console.warn(t)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Xe({token:i,factory:i.\u0275fac}),i})();const Af=new Qe("LocaleId"),XR=new Qe("DefaultCurrencyCode");class Nq{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let xE=(()=>{class i{compileModuleSync(t){return new OI(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const o=this.compileModuleSync(t),u=wa(wo(t).declarations).reduce((d,m)=>{const y=Hr(m);return y&&d.push(new RI(y)),d},[]);return new Nq(o,u)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Xe({token:i,factory:i.\u0275fac}),i})();const Fq=(()=>Promise.resolve(0))();function WI(i){"undefined"==typeof Zone?Fq.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class An{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:o=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new $i(!1),this.onMicrotaskEmpty=new $i(!1),this.onStable=new $i(!1),this.onError=new $i(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!o&&t,s.shouldCoalesceRunChangeDetection=o,s.lastRequestAnimationFrameId=-1,s.nativeRequestAnimationFrame=function Lq(){let i=ln.requestAnimationFrame,e=ln.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&e){const t=i[Zone.__symbol__("OriginalDelegate")];t&&(i=t);const o=e[Zone.__symbol__("OriginalDelegate")];o&&(e=o)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function jq(i){const e=()=>{!function Vq(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(ln,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,YI(i),i.isCheckStableRunning=!0,QI(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),YI(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,o,s,u,d,m)=>{try{return JR(i),t.invokeTask(s,u,d,m)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===u.type||i.shouldCoalesceRunChangeDetection)&&e(),ZR(i)}},onInvoke:(t,o,s,u,d,m,y)=>{try{return JR(i),t.invoke(s,u,d,m,y)}finally{i.shouldCoalesceRunChangeDetection&&e(),ZR(i)}},onHasTask:(t,o,s,u)=>{t.hasTask(s,u),o===s&&("microTask"==u.change?(i._hasPendingMicrotasks=u.microTask,YI(i),QI(i)):"macroTask"==u.change&&(i.hasPendingMacrotasks=u.macroTask))},onHandleError:(t,o,s,u)=>(t.handleError(s,u),i.runOutsideAngular(()=>i.onError.emit(u)),!1)})}(s)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!An.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(An.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,o){return this._inner.run(e,t,o)}runTask(e,t,o,s){const u=this._inner,d=u.scheduleEventTask("NgZoneEvent: "+s,e,Bq,TE,TE);try{return u.runTask(d,t,o)}finally{u.cancelTask(d)}}runGuarded(e,t,o){return this._inner.runGuarded(e,t,o)}runOutsideAngular(e){return this._outer.run(e)}}const Bq={};function QI(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function YI(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function JR(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function ZR(i){i._nesting--,QI(i)}class Uq{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new $i,this.onMicrotaskEmpty=new $i,this.onStable=new $i,this.onError=new $i}run(e,t,o){return e.apply(t,o)}runGuarded(e,t,o){return e.apply(t,o)}runOutsideAngular(e){return e()}runTask(e,t,o,s){return e.apply(t,o)}}let XI=(()=>{class i{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{An.assertNotInAngularZone(),WI(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())WI(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(t)||(clearTimeout(o.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,o,s){let u=-1;o&&o>0&&(u=setTimeout(()=>{this._callbacks=this._callbacks.filter(d=>d.timeoutId!==u),t(this._didWork,this.getPendingTasks())},o)),this._callbacks.push({doneCb:t,timeoutId:u,updateCb:s})}whenStable(t,o,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,o,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,o,s){return[]}}return i.\u0275fac=function(t){return new(t||i)(ce(An))},i.\u0275prov=Xe({token:i,factory:i.\u0275fac}),i})(),eO=(()=>{class i{constructor(){this._applications=new Map,JI.addToWindow(this)}registerApplication(t,o){this._applications.set(t,o)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,o=!0){return JI.findTestabilityInTree(this,t,o)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Xe({token:i,factory:i.\u0275fac}),i})();class Hq{addToWindow(e){}findTestabilityInTree(e,t,o){return null}}let Bl,JI=new Hq;const tO=new Qe("AllowMultipleToken");class nO{constructor(e,t){this.name=e,this.token=t}}function rO(i,e,t=[]){const o=`Platform: ${e}`,s=new Qe(o);return(u=[])=>{let d=iO();if(!d||d.injector.get(tO,!1))if(i)i(t.concat(u).concat({provide:s,useValue:!0}));else{const m=t.concat(u).concat({provide:s,useValue:!0},{provide:E,useValue:"platform"});!function $q(i){if(Bl&&!Bl.destroyed&&!Bl.injector.get(tO,!1))throw new Mt(400,"");Bl=i.get(oO);const e=i.get(WR,null);e&&e.forEach(t=>t())}(ie.create({providers:m,name:o}))}return function Kq(i){const e=iO();if(!e)throw new Mt(401,"");return e}()}}function iO(){return Bl&&!Bl.destroyed?Bl:null}let oO=(()=>{class i{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,o){const m=function Wq(i,e){let t;return t="noop"===i?new Uq:("zone.js"===i?void 0:i)||new An({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),t}(o?o.ngZone:void 0,{ngZoneEventCoalescing:o&&o.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:o&&o.ngZoneRunCoalescing||!1}),y=[{provide:An,useValue:m}];return m.run(()=>{const b=ie.create({providers:y,parent:this.injector,name:t.moduleType.name}),C=t.create(b),I=C.injector.get(Ya,null);if(!I)throw new Mt(402,"");return m.runOutsideAngular(()=>{const M=m.onError.subscribe({next:O=>{I.handleError(O)}});C.onDestroy(()=>{ZI(this._modules,C),M.unsubscribe()})}),function Qq(i,e,t){try{const o=t();return fE(o)?o.catch(s=>{throw e.runOutsideAngular(()=>i.handleError(s)),s}):o}catch(o){throw e.runOutsideAngular(()=>i.handleError(o)),o}}(I,m,()=>{const M=C.injector.get(D_);return M.runInitializers(),M.donePromise.then(()=>(function x3(i){ft(i,"Expected localeId to be defined"),"string"==typeof i&&(Fk=i.toLowerCase().replace(/_/g,"-"))}(C.injector.get(Af,mE)||mE),this._moduleDoBootstrap(C),C))})})}bootstrapModule(t,o=[]){const s=sO({},o);return function zq(i,e,t){const o=new OI(t);return Promise.resolve(o)}(0,0,t).then(u=>this.bootstrapModuleFactory(u,s))}_moduleDoBootstrap(t){const o=t.injector.get(I_);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(s=>o.bootstrap(s));else{if(!t.instance.ngDoBootstrap)throw new Mt(403,"");t.instance.ngDoBootstrap(o)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Mt(404,"");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(t){return new(t||i)(ce(ie))},i.\u0275prov=Xe({token:i,factory:i.\u0275fac}),i})();function sO(i,e){return Array.isArray(e)?e.reduce(sO,i):Object.assign(Object.assign({},i),e)}let I_=(()=>{class i{constructor(t,o,s,u,d){this._zone=t,this._injector=o,this._exceptionHandler=s,this._componentFactoryResolver=u,this._initStatus=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new de(b=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{b.next(this._stable),b.complete()})}),y=new de(b=>{let C;this._zone.runOutsideAngular(()=>{C=this._zone.onStable.subscribe(()=>{An.assertNotInAngularZone(),WI(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,b.next(!0))})})});const I=this._zone.onUnstable.subscribe(()=>{An.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{b.next(!1)}))});return()=>{C.unsubscribe(),I.unsubscribe()}});this.isStable=Fa(m,y.pipe(rd()))}bootstrap(t,o){if(!this._initStatus.done)throw new Mt(405,"");let s;s=t instanceof uR?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(s.componentType);const u=function Gq(i){return i.isBoundToModule}(s)?void 0:this._injector.get(If),m=s.create(ie.NULL,[],o||s.selector,u),y=m.location.nativeElement,b=m.injector.get(XI,null),C=b&&m.injector.get(eO);return b&&C&&C.registerApplication(y,b),m.onDestroy(()=>{this.detachView(m.hostView),ZI(this.components,m),C&&C.unregisterApplication(y)}),this._loadComponent(m),m}tick(){if(this._runningTick)throw new Mt(101,"");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const o=t;this._views.push(o),o.attachToAppRef(this)}detachView(t){const o=t;ZI(this._views,o),o.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(QR,[]).concat(this._bootstrapListeners).forEach(s=>s(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(t){return new(t||i)(ce(An),ce(ie),ce(Ya),ce(wm),ce(D_))},i.\u0275prov=Xe({token:i,factory:i.\u0275fac}),i})();function ZI(i,e){const t=i.indexOf(e);t>-1&&i.splice(t,1)}let uO=!0,hy=(()=>{class i{}return i.__NG_ELEMENT_ID__=Jq,i})();function Jq(i){return function Zq(i,e,t){if(ic(i)&&!t){const o=Si(i.index,e);return new _0(o,o)}return 47&i.type?new _0(e[16],e):null}(Er(),ye(),16==(16&i))}class mO{constructor(){}supports(e){return l0(e)}create(e){return new oz(e)}}const iz=(i,e)=>e;class oz{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||iz}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,o=this._removalsHead,s=0,u=null;for(;t||o;){const d=!o||t&&t.currentIndex<yO(o,s,u)?t:o,m=yO(d,s,u),y=d.currentIndex;if(d===o)s--,o=o._nextRemoved;else if(t=t._next,null==d.previousIndex)s++;else{u||(u=[]);const b=m-s,C=y-s;if(b!=C){for(let M=0;M<b;M++){const O=M<u.length?u[M]:u[M]=0,L=O+M;C<=L&&L<b&&(u[M]=O+1)}u[d.previousIndex]=C-b}}m!==y&&e(d,m,y)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!l0(e))throw new Mt(900,"");return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let s,u,d,t=this._itHead,o=!1;if(Array.isArray(e)){this.length=e.length;for(let m=0;m<this.length;m++)u=e[m],d=this._trackByFn(m,u),null!==t&&Object.is(t.trackById,d)?(o&&(t=this._verifyReinsertion(t,u,d,m)),Object.is(t.item,u)||this._addIdentityChange(t,u)):(t=this._mismatch(t,u,d,m),o=!0),t=t._next}else s=0,function fU(i,e){if(Array.isArray(i))for(let t=0;t<i.length;t++)e(i[t]);else{const t=i[i_()]();let o;for(;!(o=t.next()).done;)e(o.value)}}(e,m=>{d=this._trackByFn(s,m),null!==t&&Object.is(t.trackById,d)?(o&&(t=this._verifyReinsertion(t,m,d,s)),Object.is(t.item,m)||this._addIdentityChange(t,m)):(t=this._mismatch(t,m,d,s),o=!0),t=t._next,s++}),this.length=s;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,o,s){let u;return null===e?u=this._itTail:(u=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,u,s)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(o,s))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,u,s)):e=this._addAfter(new sz(t,o),u,s),e}_verifyReinsertion(e,t,o,s){let u=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==u?e=this._reinsertAfter(u,e._prev,s):e.currentIndex!=s&&(e.currentIndex=s,this._addToMoves(e,s)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const s=e._prevRemoved,u=e._nextRemoved;return null===s?this._removalsHead=u:s._nextRemoved=u,null===u?this._removalsTail=s:u._prevRemoved=s,this._insertAfter(e,t,o),this._addToMoves(e,o),e}_moveAfter(e,t,o){return this._unlink(e),this._insertAfter(e,t,o),this._addToMoves(e,o),e}_addAfter(e,t,o){return this._insertAfter(e,t,o),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,o){const s=null===t?this._itHead:t._next;return e._next=s,e._prev=t,null===s?this._itTail=e:s._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new gO),this._linkedRecords.put(e),e.currentIndex=o,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,o=e._next;return null===t?this._itHead=o:t._next=o,null===o?this._itTail=t:o._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new gO),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class sz{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class az{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===t||t<=o.currentIndex)&&Object.is(o.trackById,e))return o;return null}remove(e){const t=e._prevDup,o=e._nextDup;return null===t?this._head=o:t._nextDup=o,null===o?this._tail=t:o._prevDup=t,null===this._head}}class gO{constructor(){this.map=new Map}put(e){const t=e.trackById;let o=this.map.get(t);o||(o=new az,this.map.set(t,o)),o.add(e)}get(e,t){const s=this.map.get(e);return s?s.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function yO(i,e,t){const o=i.previousIndex;if(null===o)return o;let s=0;return t&&o<t.length&&(s=t[o]),o+e+s}class vO{constructor(){}supports(e){return e instanceof Map||dI(e)}create(){return new uz}}class uz{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||dI(e)))throw new Mt(900,"")}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(o,s)=>{if(t&&t.key===s)this._maybeAddToChanges(t,o),this._appendAfter=t,t=t._next;else{const u=this._getOrCreateRecordForKey(s,o);t=this._insertBeforeOrAppend(t,u)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let o=t;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const o=e._prev;return t._next=e,t._prev=o,e._prev=t,o&&(o._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const s=this._records.get(e);this._maybeAddToChanges(s,t);const u=s._prev,d=s._next;return u&&(u._next=d),d&&(d._prev=u),s._next=null,s._prev=null,s}const o=new cz(e);return this._records.set(e,o),o.currentValue=t,this._addToAdditions(o),o}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(o=>t(e[o],o))}}class cz{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function _O(){return new D0([new mO])}let D0=(()=>{class i{constructor(t){this.factories=t}static create(t,o){if(null!=o){const s=o.factories.slice();t=t.concat(s)}return new i(t)}static extend(t){return{provide:i,useFactory:o=>i.create(t,o||_O()),deps:[[i,new ml,new Ir]]}}find(t){const o=this.factories.find(s=>s.supports(t));if(null!=o)return o;throw new Mt(901,"")}}return i.\u0275prov=Xe({token:i,providedIn:"root",factory:_O}),i})();function bO(){return new T_([new vO])}let T_=(()=>{class i{constructor(t){this.factories=t}static create(t,o){if(o){const s=o.factories.slice();t=t.concat(s)}return new i(t)}static extend(t){return{provide:i,useFactory:o=>i.create(t,o||bO()),deps:[[i,new ml,new Ir]]}}find(t){const o=this.factories.find(u=>u.supports(t));if(o)return o;throw new Mt(901,"")}}return i.\u0275prov=Xe({token:i,providedIn:"root",factory:bO}),i})();const lz=[new vO],dz=new D0([new mO]),fz=new T_(lz),pz=rO(null,"core",[{provide:AE,useValue:"unknown"},{provide:oO,deps:[ie]},{provide:eO,deps:[]},{provide:YR,deps:[]}]),_z=[{provide:I_,useClass:I_,deps:[An,ie,Ya,wm,D_]},{provide:PH,deps:[An],useFactory:function bz(i){let e=[];return i.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:D_,useClass:D_,deps:[[new Ir,SE]]},{provide:xE,useClass:xE,deps:[]},Oq,{provide:D0,useFactory:function mz(){return dz},deps:[]},{provide:T_,useFactory:function gz(){return fz},deps:[]},{provide:Af,useFactory:function yz(i){return i||function vz(){return"undefined"!=typeof $localize&&$localize.locale||mE}()},deps:[[new Ee(Af),new Ir,new ml]]},{provide:XR,useValue:"USD"}];let wz=(()=>{class i{constructor(t){}}return i.\u0275fac=function(t){return new(t||i)(ce(I_))},i.\u0275mod=kn({type:i}),i.\u0275inj=Be({providers:_z}),i})(),kE=null;function Em(){return kE}const _n=new Qe("DocumentToken");let fy=(()=>{class i{historyGo(t){throw new Error("Not implemented")}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Xe({token:i,factory:function(){return function Iz(){return ce(wO)}()},providedIn:"platform"}),i})();const Tz=new Qe("Location Initialized");let wO=(()=>{class i extends fy{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Em().getBaseHref(this._doc)}onPopState(t){const o=Em().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",t,!1),()=>o.removeEventListener("popstate",t)}onHashChange(t){const o=Em().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",t,!1),()=>o.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,o,s){EO()?this._history.pushState(t,o,s):this.location.hash=s}replaceState(t,o,s){EO()?this._history.replaceState(t,o,s):this.location.hash=s}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return i.\u0275fac=function(t){return new(t||i)(ce(_n))},i.\u0275prov=Xe({token:i,factory:function(){return function Sz(){return new wO(ce(_n))}()},providedIn:"platform"}),i})();function EO(){return!!window.history.pushState}function iT(i,e){if(0==i.length)return e;if(0==e.length)return i;let t=0;return i.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?i+e.substring(1):1==t?i+e:i+"/"+e}function CO(i){const e=i.match(/#|\?|$/),t=e&&e.index||i.length;return i.slice(0,t-("/"===i[t-1]?1:0))+i.slice(t)}function xf(i){return i&&"?"!==i[0]?"?"+i:i}let S_=(()=>{class i{historyGo(t){throw new Error("Not implemented")}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Xe({token:i,factory:function(){return function Az(i){const e=ce(_n).location;return new DO(ce(fy),e&&e.origin||"")}()},providedIn:"root"}),i})();const oT=new Qe("appBaseHref");let DO=(()=>{class i extends S_{constructor(t,o){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==o&&(o=this._platformLocation.getBaseHrefFromDOM()),null==o)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=o}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return iT(this._baseHref,t)}path(t=!1){const o=this._platformLocation.pathname+xf(this._platformLocation.search),s=this._platformLocation.hash;return s&&t?`${o}${s}`:o}pushState(t,o,s,u){const d=this.prepareExternalUrl(s+xf(u));this._platformLocation.pushState(t,o,d)}replaceState(t,o,s,u){const d=this.prepareExternalUrl(s+xf(u));this._platformLocation.replaceState(t,o,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var o,s;null===(s=(o=this._platformLocation).historyGo)||void 0===s||s.call(o,t)}}return i.\u0275fac=function(t){return new(t||i)(ce(fy),ce(oT,8))},i.\u0275prov=Xe({token:i,factory:i.\u0275fac}),i})(),xz=(()=>{class i extends S_{constructor(t,o){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(t){const o=iT(this._baseHref,t);return o.length>0?"#"+o:o}pushState(t,o,s,u){let d=this.prepareExternalUrl(s+xf(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,o,d)}replaceState(t,o,s,u){let d=this.prepareExternalUrl(s+xf(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,o,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var o,s;null===(s=(o=this._platformLocation).historyGo)||void 0===s||s.call(o,t)}}return i.\u0275fac=function(t){return new(t||i)(ce(fy),ce(oT,8))},i.\u0275prov=Xe({token:i,factory:i.\u0275fac}),i})(),I0=(()=>{class i{constructor(t,o){this._subject=new $i,this._urlChangeListeners=[],this._platformStrategy=t;const s=this._platformStrategy.getBaseHref();this._platformLocation=o,this._baseHref=CO(IO(s)),this._platformStrategy.onPopState(u=>{this._subject.emit({url:this.path(!0),pop:!0,state:u.state,type:u.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,o=""){return this.path()==this.normalize(t+xf(o))}normalize(t){return i.stripTrailingSlash(function kz(i,e){return i&&e.startsWith(i)?e.substring(i.length):e}(this._baseHref,IO(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,o="",s=null){this._platformStrategy.pushState(s,"",t,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+xf(o)),s)}replaceState(t,o="",s=null){this._platformStrategy.replaceState(s,"",t,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+xf(o)),s)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var o,s;null===(s=(o=this._platformStrategy).historyGo)||void 0===s||s.call(o,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)}))}_notifyUrlChangeListeners(t="",o){this._urlChangeListeners.forEach(s=>s(t,o))}subscribe(t,o,s){return this._subject.subscribe({next:t,error:o,complete:s})}}return i.normalizeQueryParams=xf,i.joinWithSlash=iT,i.stripTrailingSlash=CO,i.\u0275fac=function(t){return new(t||i)(ce(S_),ce(fy))},i.\u0275prov=Xe({token:i,factory:function(){return function Mz(){return new I0(ce(S_),ce(fy))}()},providedIn:"root"}),i})();function IO(i){return i.replace(/\/index.html$/,"")}var ao=(()=>((ao=ao||{})[ao.Zero=0]="Zero",ao[ao.One=1]="One",ao[ao.Two=2]="Two",ao[ao.Few=3]="Few",ao[ao.Many=4]="Many",ao[ao.Other=5]="Other",ao))(),Ki=(()=>((Ki=Ki||{})[Ki.Format=0]="Format",Ki[Ki.Standalone=1]="Standalone",Ki))(),bn=(()=>((bn=bn||{})[bn.Narrow=0]="Narrow",bn[bn.Abbreviated=1]="Abbreviated",bn[bn.Wide=2]="Wide",bn[bn.Short=3]="Short",bn))(),wi=(()=>((wi=wi||{})[wi.Short=0]="Short",wi[wi.Medium=1]="Medium",wi[wi.Long=2]="Long",wi[wi.Full=3]="Full",wi))(),Rt=(()=>((Rt=Rt||{})[Rt.Decimal=0]="Decimal",Rt[Rt.Group=1]="Group",Rt[Rt.List=2]="List",Rt[Rt.PercentSign=3]="PercentSign",Rt[Rt.PlusSign=4]="PlusSign",Rt[Rt.MinusSign=5]="MinusSign",Rt[Rt.Exponential=6]="Exponential",Rt[Rt.SuperscriptingExponent=7]="SuperscriptingExponent",Rt[Rt.PerMille=8]="PerMille",Rt[Rt.Infinity=9]="Infinity",Rt[Rt.NaN=10]="NaN",Rt[Rt.TimeSeparator=11]="TimeSeparator",Rt[Rt.CurrencyDecimal=12]="CurrencyDecimal",Rt[Rt.CurrencyGroup=13]="CurrencyGroup",Rt))();function RE(i,e){return Vc(Ta(i)[Ke.DateFormat],e)}function OE(i,e){return Vc(Ta(i)[Ke.TimeFormat],e)}function NE(i,e){return Vc(Ta(i)[Ke.DateTimeFormat],e)}function Bc(i,e){const t=Ta(i),o=t[Ke.NumberSymbols][e];if(void 0===o){if(e===Rt.CurrencyDecimal)return t[Ke.NumberSymbols][Rt.Decimal];if(e===Rt.CurrencyGroup)return t[Ke.NumberSymbols][Rt.Group]}return o}const Bz=function Nk(i){return Ta(i)[Ke.PluralCase]};function SO(i){if(!i[Ke.ExtraData])throw new Error(`Missing extra locale data for the locale "${i[Ke.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Vc(i,e){for(let t=e;t>-1;t--)if(void 0!==i[t])return i[t];throw new Error("Locale data API: locale data undefined")}function aT(i){const[e,t]=i.split(":");return{hours:+e,minutes:+t}}const zz=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,T0={},Gz=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Oo=(()=>((Oo=Oo||{})[Oo.Short=0]="Short",Oo[Oo.ShortGMT=1]="ShortGMT",Oo[Oo.Long=2]="Long",Oo[Oo.Extended=3]="Extended",Oo))(),Ft=(()=>((Ft=Ft||{})[Ft.FullYear=0]="FullYear",Ft[Ft.Month=1]="Month",Ft[Ft.Date=2]="Date",Ft[Ft.Hours=3]="Hours",Ft[Ft.Minutes=4]="Minutes",Ft[Ft.Seconds=5]="Seconds",Ft[Ft.FractionalSeconds=6]="FractionalSeconds",Ft[Ft.Day=7]="Day",Ft))(),rn=(()=>((rn=rn||{})[rn.DayPeriods=0]="DayPeriods",rn[rn.Days=1]="Days",rn[rn.Months=2]="Months",rn[rn.Eras=3]="Eras",rn))();function $z(i,e,t,o){let s=function tG(i){if(MO(i))return i;if("number"==typeof i&&!isNaN(i))return new Date(i);if("string"==typeof i){if(i=i.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(i)){const[s,u=1,d=1]=i.split("-").map(m=>+m);return PE(s,u-1,d)}const t=parseFloat(i);if(!isNaN(i-t))return new Date(t);let o;if(o=i.match(zz))return function nG(i){const e=new Date(0);let t=0,o=0;const s=i[8]?e.setUTCFullYear:e.setFullYear,u=i[8]?e.setUTCHours:e.setHours;i[9]&&(t=Number(i[9]+i[10]),o=Number(i[9]+i[11])),s.call(e,Number(i[1]),Number(i[2])-1,Number(i[3]));const d=Number(i[4]||0)-t,m=Number(i[5]||0)-o,y=Number(i[6]||0),b=Math.floor(1e3*parseFloat("0."+(i[7]||0)));return u.call(e,d,m,y,b),e}(o)}const e=new Date(i);if(!MO(e))throw new Error(`Unable to convert "${i}" into a date`);return e}(i);e=Mf(t,e)||e;let m,d=[];for(;e;){if(m=Gz.exec(e),!m){d.push(e);break}{d=d.concat(m.slice(1));const C=d.pop();if(!C)break;e=C}}let y=s.getTimezoneOffset();o&&(y=xO(o,y),s=function eG(i,e,t){const o=t?-1:1,s=i.getTimezoneOffset();return function Zz(i,e){return(i=new Date(i.getTime())).setMinutes(i.getMinutes()+e),i}(i,o*(xO(e,s)-s))}(s,o,!0));let b="";return d.forEach(C=>{const I=function Jz(i){if(cT[i])return cT[i];let e;switch(i){case"G":case"GG":case"GGG":e=Fr(rn.Eras,bn.Abbreviated);break;case"GGGG":e=Fr(rn.Eras,bn.Wide);break;case"GGGGG":e=Fr(rn.Eras,bn.Narrow);break;case"y":e=uo(Ft.FullYear,1,0,!1,!0);break;case"yy":e=uo(Ft.FullYear,2,0,!0,!0);break;case"yyy":e=uo(Ft.FullYear,3,0,!1,!0);break;case"yyyy":e=uo(Ft.FullYear,4,0,!1,!0);break;case"Y":e=VE(1);break;case"YY":e=VE(2,!0);break;case"YYY":e=VE(3);break;case"YYYY":e=VE(4);break;case"M":case"L":e=uo(Ft.Month,1,1);break;case"MM":case"LL":e=uo(Ft.Month,2,1);break;case"MMM":e=Fr(rn.Months,bn.Abbreviated);break;case"MMMM":e=Fr(rn.Months,bn.Wide);break;case"MMMMM":e=Fr(rn.Months,bn.Narrow);break;case"LLL":e=Fr(rn.Months,bn.Abbreviated,Ki.Standalone);break;case"LLLL":e=Fr(rn.Months,bn.Wide,Ki.Standalone);break;case"LLLLL":e=Fr(rn.Months,bn.Narrow,Ki.Standalone);break;case"w":e=uT(1);break;case"ww":e=uT(2);break;case"W":e=uT(1,!0);break;case"d":e=uo(Ft.Date,1);break;case"dd":e=uo(Ft.Date,2);break;case"c":case"cc":e=uo(Ft.Day,1);break;case"ccc":e=Fr(rn.Days,bn.Abbreviated,Ki.Standalone);break;case"cccc":e=Fr(rn.Days,bn.Wide,Ki.Standalone);break;case"ccccc":e=Fr(rn.Days,bn.Narrow,Ki.Standalone);break;case"cccccc":e=Fr(rn.Days,bn.Short,Ki.Standalone);break;case"E":case"EE":case"EEE":e=Fr(rn.Days,bn.Abbreviated);break;case"EEEE":e=Fr(rn.Days,bn.Wide);break;case"EEEEE":e=Fr(rn.Days,bn.Narrow);break;case"EEEEEE":e=Fr(rn.Days,bn.Short);break;case"a":case"aa":case"aaa":e=Fr(rn.DayPeriods,bn.Abbreviated);break;case"aaaa":e=Fr(rn.DayPeriods,bn.Wide);break;case"aaaaa":e=Fr(rn.DayPeriods,bn.Narrow);break;case"b":case"bb":case"bbb":e=Fr(rn.DayPeriods,bn.Abbreviated,Ki.Standalone,!0);break;case"bbbb":e=Fr(rn.DayPeriods,bn.Wide,Ki.Standalone,!0);break;case"bbbbb":e=Fr(rn.DayPeriods,bn.Narrow,Ki.Standalone,!0);break;case"B":case"BB":case"BBB":e=Fr(rn.DayPeriods,bn.Abbreviated,Ki.Format,!0);break;case"BBBB":e=Fr(rn.DayPeriods,bn.Wide,Ki.Format,!0);break;case"BBBBB":e=Fr(rn.DayPeriods,bn.Narrow,Ki.Format,!0);break;case"h":e=uo(Ft.Hours,1,-12);break;case"hh":e=uo(Ft.Hours,2,-12);break;case"H":e=uo(Ft.Hours,1);break;case"HH":e=uo(Ft.Hours,2);break;case"m":e=uo(Ft.Minutes,1);break;case"mm":e=uo(Ft.Minutes,2);break;case"s":e=uo(Ft.Seconds,1);break;case"ss":e=uo(Ft.Seconds,2);break;case"S":e=uo(Ft.FractionalSeconds,1);break;case"SS":e=uo(Ft.FractionalSeconds,2);break;case"SSS":e=uo(Ft.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=LE(Oo.Short);break;case"ZZZZZ":e=LE(Oo.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=LE(Oo.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=LE(Oo.Long);break;default:return null}return cT[i]=e,e}(C);b+=I?I(s,t,y):"''"===C?"'":C.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),b}function PE(i,e,t){const o=new Date(0);return o.setFullYear(i,e,t),o.setHours(0,0,0),o}function Mf(i,e){const t=function Rz(i){return Ta(i)[Ke.LocaleId]}(i);if(T0[t]=T0[t]||{},T0[t][e])return T0[t][e];let o="";switch(e){case"shortDate":o=RE(i,wi.Short);break;case"mediumDate":o=RE(i,wi.Medium);break;case"longDate":o=RE(i,wi.Long);break;case"fullDate":o=RE(i,wi.Full);break;case"shortTime":o=OE(i,wi.Short);break;case"mediumTime":o=OE(i,wi.Medium);break;case"longTime":o=OE(i,wi.Long);break;case"fullTime":o=OE(i,wi.Full);break;case"short":const s=Mf(i,"shortTime"),u=Mf(i,"shortDate");o=FE(NE(i,wi.Short),[s,u]);break;case"medium":const d=Mf(i,"mediumTime"),m=Mf(i,"mediumDate");o=FE(NE(i,wi.Medium),[d,m]);break;case"long":const y=Mf(i,"longTime"),b=Mf(i,"longDate");o=FE(NE(i,wi.Long),[y,b]);break;case"full":const C=Mf(i,"fullTime"),I=Mf(i,"fullDate");o=FE(NE(i,wi.Full),[C,I])}return o&&(T0[t][e]=o),o}function FE(i,e){return e&&(i=i.replace(/\{([^}]+)}/g,function(t,o){return null!=e&&o in e?e[o]:t})),i}function Vl(i,e,t="-",o,s){let u="";(i<0||s&&i<=0)&&(s?i=1-i:(i=-i,u=t));let d=String(i);for(;d.length<e;)d="0"+d;return o&&(d=d.substr(d.length-e)),u+d}function uo(i,e,t=0,o=!1,s=!1){return function(u,d){let m=function Wz(i,e){switch(i){case Ft.FullYear:return e.getFullYear();case Ft.Month:return e.getMonth();case Ft.Date:return e.getDate();case Ft.Hours:return e.getHours();case Ft.Minutes:return e.getMinutes();case Ft.Seconds:return e.getSeconds();case Ft.FractionalSeconds:return e.getMilliseconds();case Ft.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${i}".`)}}(i,u);if((t>0||m>-t)&&(m+=t),i===Ft.Hours)0===m&&-12===t&&(m=12);else if(i===Ft.FractionalSeconds)return function Kz(i,e){return Vl(i,3).substr(0,e)}(m,e);const y=Bc(d,Rt.MinusSign);return Vl(m,e,y,o,s)}}function Fr(i,e,t=Ki.Format,o=!1){return function(s,u){return function Qz(i,e,t,o,s,u){switch(t){case rn.Months:return function Pz(i,e,t){const o=Ta(i),u=Vc([o[Ke.MonthsFormat],o[Ke.MonthsStandalone]],e);return Vc(u,t)}(e,s,o)[i.getMonth()];case rn.Days:return function Nz(i,e,t){const o=Ta(i),u=Vc([o[Ke.DaysFormat],o[Ke.DaysStandalone]],e);return Vc(u,t)}(e,s,o)[i.getDay()];case rn.DayPeriods:const d=i.getHours(),m=i.getMinutes();if(u){const b=function Vz(i){const e=Ta(i);return SO(e),(e[Ke.ExtraData][2]||[]).map(o=>"string"==typeof o?aT(o):[aT(o[0]),aT(o[1])])}(e),C=function jz(i,e,t){const o=Ta(i);SO(o);const u=Vc([o[Ke.ExtraData][0],o[Ke.ExtraData][1]],e)||[];return Vc(u,t)||[]}(e,s,o),I=b.findIndex(M=>{if(Array.isArray(M)){const[O,L]=M,q=d>=O.hours&&m>=O.minutes,X=d<L.hours||d===L.hours&&m<L.minutes;if(O.hours<L.hours){if(q&&X)return!0}else if(q||X)return!0}else if(M.hours===d&&M.minutes===m)return!0;return!1});if(-1!==I)return C[I]}return function Oz(i,e,t){const o=Ta(i),u=Vc([o[Ke.DayPeriodsFormat],o[Ke.DayPeriodsStandalone]],e);return Vc(u,t)}(e,s,o)[d<12?0:1];case rn.Eras:return function Fz(i,e){return Vc(Ta(i)[Ke.Eras],e)}(e,o)[i.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(s,u,i,e,t,o)}}function LE(i){return function(e,t,o){const s=-1*o,u=Bc(t,Rt.MinusSign),d=s>0?Math.floor(s/60):Math.ceil(s/60);switch(i){case Oo.Short:return(s>=0?"+":"")+Vl(d,2,u)+Vl(Math.abs(s%60),2,u);case Oo.ShortGMT:return"GMT"+(s>=0?"+":"")+Vl(d,1,u);case Oo.Long:return"GMT"+(s>=0?"+":"")+Vl(d,2,u)+":"+Vl(Math.abs(s%60),2,u);case Oo.Extended:return 0===o?"Z":(s>=0?"+":"")+Vl(d,2,u)+":"+Vl(Math.abs(s%60),2,u);default:throw new Error(`Unknown zone width "${i}"`)}}}function AO(i){return PE(i.getFullYear(),i.getMonth(),i.getDate()+(4-i.getDay()))}function uT(i,e=!1){return function(t,o){let s;if(e){const u=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,d=t.getDate();s=1+Math.floor((d+u)/7)}else{const u=AO(t),d=function Xz(i){const e=PE(i,0,1).getDay();return PE(i,0,1+(e<=4?4:11)-e)}(u.getFullYear()),m=u.getTime()-d.getTime();s=1+Math.round(m/6048e5)}return Vl(s,i,Bc(o,Rt.MinusSign))}}function VE(i,e=!1){return function(t,o){return Vl(AO(t).getFullYear(),i,Bc(o,Rt.MinusSign),e)}}const cT={};function xO(i,e){i=i.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+i)/6e4;return isNaN(t)?e:t}function MO(i){return i instanceof Date&&!isNaN(i.valueOf())}class UE{}let fG=(()=>{class i extends UE{constructor(t){super(),this.locale=t}getPluralCategory(t,o){switch(Bz(o||this.locale)(t)){case ao.Zero:return"zero";case ao.One:return"one";case ao.Two:return"two";case ao.Few:return"few";case ao.Many:return"many";default:return"other"}}}return i.\u0275fac=function(t){return new(t||i)(ce(Af))},i.\u0275prov=Xe({token:i,factory:i.\u0275fac}),i})(),HE=(()=>{class i{constructor(t,o,s,u){this._iterableDiffers=t,this._keyValueDiffers=o,this._ngEl=s,this._renderer=u,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(l0(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(o=>this._toggleClass(o.key,o.currentValue)),t.forEachChangedItem(o=>this._toggleClass(o.key,o.currentValue)),t.forEachRemovedItem(o=>{o.previousValue&&this._toggleClass(o.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(o=>{if("string"!=typeof o.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${vn(o.item)}`);this._toggleClass(o.item,!0)}),t.forEachRemovedItem(o=>this._toggleClass(o.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(o=>this._toggleClass(o,!0)):Object.keys(t).forEach(o=>this._toggleClass(o,!!t[o])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(o=>this._toggleClass(o,!1)):Object.keys(t).forEach(o=>this._toggleClass(o,!1)))}_toggleClass(t,o){(t=t.trim())&&t.split(/\s+/g).forEach(s=>{o?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return i.\u0275fac=function(t){return new(t||i)(ve(D0),ve(T_),ve(Ro),ve(bE))},i.\u0275dir=Bn({type:i,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),i})();class gG{constructor(e,t,o,s){this.$implicit=e,this.ngForOf=t,this.index=o,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let pT=(()=>{class i{constructor(t,o,s){this._viewContainer=t,this._template=o,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const o=this._viewContainer;t.forEachOperation((s,u,d)=>{if(null==s.previousIndex)o.createEmbeddedView(this._template,new gG(s.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)o.remove(null===u?void 0:u);else if(null!==u){const m=o.get(u);o.move(m,d),NO(m,s)}});for(let s=0,u=o.length;s<u;s++){const m=o.get(s).context;m.index=s,m.count=u,m.ngForOf=this._ngForOf}t.forEachIdentityChange(s=>{NO(o.get(s.currentIndex),s)})}static ngTemplateContextGuard(t,o){return!0}}return i.\u0275fac=function(t){return new(t||i)(ve(Fu),ve(Ll),ve(D0))},i.\u0275dir=Bn({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),i})();function NO(i,e){i.context.$implicit=e.item}let A0=(()=>{class i{constructor(t,o){this._viewContainer=t,this._context=new yG,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){PO("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){PO("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,o){return!0}}return i.\u0275fac=function(t){return new(t||i)(ve(Fu),ve(Ll))},i.\u0275dir=Bn({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),i})();class yG{constructor(){this.$implicit=null,this.ngIf=null}}function PO(i,e){if(e&&!e.createEmbeddedView)throw new Error(`${i} must be a TemplateRef, but received '${vn(e)}'.`)}const RG=new Qe("DATE_PIPE_DEFAULT_TIMEZONE");let LO=(()=>{class i{constructor(t,o){this.locale=t,this.defaultTimezone=o}transform(t,o="mediumDate",s,u){var d;if(null==t||""===t||t!=t)return null;try{return $z(t,o,u||this.locale,null!==(d=null!=s?s:this.defaultTimezone)&&void 0!==d?d:void 0)}catch(m){throw function jl(i,e){return new Mt(2100,"")}()}}}return i.\u0275fac=function(t){return new(t||i)(ve(Af,16),ve(RG,24))},i.\u0275pipe=Ii({name:"date",type:i,pure:!0}),i})(),_T=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=kn({type:i}),i.\u0275inj=Be({providers:[{provide:UE,useClass:fG}]}),i})();const VO="browser";let KG=(()=>{class i{}return i.\u0275prov=Xe({token:i,providedIn:"root",factory:()=>new WG(ce(_n),window)}),i})();class WG{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function QG(i,e){const t=i.getElementById(e)||i.getElementsByName(e)[0];if(t)return t;if("function"==typeof i.createTreeWalker&&i.body&&(i.body.createShadowRoot||i.body.attachShadow)){const o=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT);let s=o.currentNode;for(;s;){const u=s.shadowRoot;if(u){const d=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(d)return d}s=o.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),o=t.left+this.window.pageXOffset,s=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(o-u[0],s-u[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=jO(this.window.history)||jO(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function jO(i){return Object.getOwnPropertyDescriptor(i,"scrollRestoration")}class bT extends class XG extends class Dz{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function Cz(i){kE||(kE=i)}(new bT)}onAndCancel(e,t,o){return e.addEventListener(t,o,!1),()=>{e.removeEventListener(t,o,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function JG(){return x0=x0||document.querySelector("base"),x0?x0.getAttribute("href"):null}();return null==t?null:function ZG(i){qE=qE||document.createElement("a"),qE.setAttribute("href",i);const e=qE.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){x0=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function pG(i,e){e=encodeURIComponent(e);for(const t of i.split(";")){const o=t.indexOf("="),[s,u]=-1==o?[t,""]:[t.slice(0,o),t.slice(o+1)];if(s.trim()===e)return decodeURIComponent(u)}return null}(document.cookie,e)}}let qE,x0=null;const UO=new Qe("TRANSITION_ID"),t$=[{provide:SE,useFactory:function e$(i,e,t){return()=>{t.get(D_).donePromise.then(()=>{const o=Em(),s=e.querySelectorAll(`style[ng-transition="${i}"]`);for(let u=0;u<s.length;u++)o.remove(s[u])})}},deps:[UO,_n,ie],multi:!0}];class wT{static init(){!function qq(i){JI=i}(new wT)}addToWindow(e){ln.getAngularTestability=(o,s=!0)=>{const u=e.findTestabilityInTree(o,s);if(null==u)throw new Error("Could not find testability for element.");return u},ln.getAllAngularTestabilities=()=>e.getAllTestabilities(),ln.getAllAngularRootElements=()=>e.getAllRootElements(),ln.frameworkStabilizers||(ln.frameworkStabilizers=[]),ln.frameworkStabilizers.push(o=>{const s=ln.getAllAngularTestabilities();let u=s.length,d=!1;const m=function(y){d=d||y,u--,0==u&&o(d)};s.forEach(function(y){y.whenStable(m)})})}findTestabilityInTree(e,t,o){if(null==t)return null;const s=e.getTestability(t);return null!=s?s:o?Em().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let n$=(()=>{class i{build(){return new XMLHttpRequest}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Xe({token:i,factory:i.\u0275fac}),i})();const zE=new Qe("EventManagerPlugins");let GE=(()=>{class i{constructor(t,o){this._zone=o,this._eventNameToPlugin=new Map,t.forEach(s=>s.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,o,s){return this._findPluginFor(o).addEventListener(t,o,s)}addGlobalEventListener(t,o,s){return this._findPluginFor(o).addGlobalEventListener(t,o,s)}getZone(){return this._zone}_findPluginFor(t){const o=this._eventNameToPlugin.get(t);if(o)return o;const s=this._plugins;for(let u=0;u<s.length;u++){const d=s[u];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return i.\u0275fac=function(t){return new(t||i)(ce(zE),ce(An))},i.\u0275prov=Xe({token:i,factory:i.\u0275fac}),i})();class HO{constructor(e){this._doc=e}addGlobalEventListener(e,t,o){const s=Em().getGlobalEventTarget(this._doc,e);if(!s)throw new Error(`Unsupported event target ${s} for event ${t}`);return this.addEventListener(s,t,o)}}let qO=(()=>{class i{constructor(){this._stylesSet=new Set}addStyles(t){const o=new Set;t.forEach(s=>{this._stylesSet.has(s)||(this._stylesSet.add(s),o.add(s))}),this.onStylesAdded(o)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Xe({token:i,factory:i.\u0275fac}),i})(),M0=(()=>{class i extends qO{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,o,s){t.forEach(u=>{const d=this._doc.createElement("style");d.textContent=u,s.push(o.appendChild(d))})}addHost(t){const o=[];this._addStylesToHost(this._stylesSet,t,o),this._hostNodes.set(t,o)}removeHost(t){const o=this._hostNodes.get(t);o&&o.forEach(zO),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((o,s)=>{this._addStylesToHost(t,s,o)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(zO))}}return i.\u0275fac=function(t){return new(t||i)(ce(_n))},i.\u0275prov=Xe({token:i,factory:i.\u0275fac}),i})();function zO(i){Em().remove(i)}const ET={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},CT=/%COMP%/g;function $E(i,e,t){for(let o=0;o<e.length;o++){let s=e[o];Array.isArray(s)?$E(i,s,t):(s=s.replace(CT,i),t.push(s))}return t}function KO(i){return e=>{if("__ngUnwrap__"===e)return i;!1===i(e)&&(e.preventDefault(),e.returnValue=!1)}}let KE=(()=>{class i{constructor(t,o,s){this.eventManager=t,this.sharedStylesHost=o,this.appId=s,this.rendererByCompId=new Map,this.defaultRenderer=new DT(t)}createRenderer(t,o){if(!t||!o)return this.defaultRenderer;switch(o.encapsulation){case jr.Emulated:{let s=this.rendererByCompId.get(o.id);return s||(s=new u$(this.eventManager,this.sharedStylesHost,o,this.appId),this.rendererByCompId.set(o.id,s)),s.applyToHost(t),s}case 1:case jr.ShadowDom:return new c$(this.eventManager,this.sharedStylesHost,t,o);default:if(!this.rendererByCompId.has(o.id)){const s=$E(o.id,o.styles,[]);this.sharedStylesHost.addStyles(s),this.rendererByCompId.set(o.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return i.\u0275fac=function(t){return new(t||i)(ce(GE),ce(M0),ce(C0))},i.\u0275prov=Xe({token:i,factory:i.\u0275fac}),i})();class DT{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(ET[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,o){e&&e.insertBefore(t,o)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let o="string"==typeof e?document.querySelector(e):e;if(!o)throw new Error(`The selector "${e}" did not match any elements`);return t||(o.textContent=""),o}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,o,s){if(s){t=s+":"+t;const u=ET[s];u?e.setAttributeNS(u,t,o):e.setAttribute(t,o)}else e.setAttribute(t,o)}removeAttribute(e,t,o){if(o){const s=ET[o];s?e.removeAttributeNS(s,t):e.removeAttribute(`${o}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,o,s){s&(ki.DashCase|ki.Important)?e.style.setProperty(t,o,s&ki.Important?"important":""):e.style[t]=o}removeStyle(e,t,o){o&ki.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,o){e[t]=o}setValue(e,t){e.nodeValue=t}listen(e,t,o){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,KO(o)):this.eventManager.addEventListener(e,t,KO(o))}}class u$ extends DT{constructor(e,t,o,s){super(e),this.component=o;const u=$E(s+"-"+o.id,o.styles,[]);t.addStyles(u),this.contentAttr=function o$(i){return"_ngcontent-%COMP%".replace(CT,i)}(s+"-"+o.id),this.hostAttr=function s$(i){return"_nghost-%COMP%".replace(CT,i)}(s+"-"+o.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const o=super.createElement(e,t);return super.setAttribute(o,this.contentAttr,""),o}}class c$ extends DT{constructor(e,t,o,s){super(e),this.sharedStylesHost=t,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=$E(s.id,s.styles,[]);for(let d=0;d<u.length;d++){const m=document.createElement("style");m.textContent=u[d],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,o){return super.insertBefore(this.nodeOrShadowRoot(e),t,o)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let l$=(()=>{class i extends HO{constructor(t){super(t)}supports(t){return!0}addEventListener(t,o,s){return t.addEventListener(o,s,!1),()=>this.removeEventListener(t,o,s)}removeEventListener(t,o,s){return t.removeEventListener(o,s)}}return i.\u0275fac=function(t){return new(t||i)(ce(_n))},i.\u0275prov=Xe({token:i,factory:i.\u0275fac}),i})();const QO=["alt","control","meta","shift"],d$={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},YO={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},f$={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let p$=(()=>{class i extends HO{constructor(t){super(t)}supports(t){return null!=i.parseEventName(t)}addEventListener(t,o,s){const u=i.parseEventName(o),d=i.eventCallback(u.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Em().onAndCancel(t,u.domEventName,d))}static parseEventName(t){const o=t.toLowerCase().split("."),s=o.shift();if(0===o.length||"keydown"!==s&&"keyup"!==s)return null;const u=i._normalizeKey(o.pop());let d="";if(QO.forEach(y=>{const b=o.indexOf(y);b>-1&&(o.splice(b,1),d+=y+".")}),d+=u,0!=o.length||0===u.length)return null;const m={};return m.domEventName=s,m.fullKey=d,m}static getEventFullKey(t){let o="",s=function m$(i){let e=i.key;if(null==e){if(e=i.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===i.location&&YO.hasOwnProperty(e)&&(e=YO[e]))}return d$[e]||e}(t);return s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),QO.forEach(u=>{u!=s&&f$[u](t)&&(o+=u+".")}),o+=s,o}static eventCallback(t,o,s){return u=>{i.getEventFullKey(u)===t&&s.runGuarded(()=>o(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return i.\u0275fac=function(t){return new(t||i)(ce(_n))},i.\u0275prov=Xe({token:i,factory:i.\u0275fac}),i})();const _$=rO(pz,"browser",[{provide:AE,useValue:VO},{provide:WR,useValue:function g$(){bT.makeCurrent(),wT.init()},multi:!0},{provide:_n,useFactory:function v$(){return function Li(i){Ua=i}(document),document},deps:[]}]),b$=[{provide:E,useValue:"root"},{provide:Ya,useFactory:function y$(){return new Ya},deps:[]},{provide:zE,useClass:l$,multi:!0,deps:[_n,An,AE]},{provide:zE,useClass:p$,multi:!0,deps:[_n]},{provide:KE,useClass:KE,deps:[GE,M0,C0]},{provide:v0,useExisting:KE},{provide:qO,useExisting:M0},{provide:M0,useClass:M0,deps:[_n]},{provide:XI,useClass:XI,deps:[An]},{provide:GE,useClass:GE,deps:[zE,An]},{provide:class YG{},useClass:n$,deps:[]}];let XO=(()=>{class i{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:i,providers:[{provide:C0,useValue:t.appId},{provide:UO,useExisting:C0},t$]}}}return i.\u0275fac=function(t){return new(t||i)(ce(i,12))},i.\u0275mod=kn({type:i}),i.\u0275inj=Be({providers:b$,imports:[_T,wz]}),i})();"undefined"!=typeof window&&window;let TT=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Xe({token:i,factory:function(t){let o=null;return o=t?new(t||i):ce(eN),o},providedIn:"root"}),i})(),eN=(()=>{class i extends TT{constructor(t){super(),this._doc=t}sanitize(t,o){if(null==o)return null;switch(t){case hn.NONE:return o;case hn.HTML:return Hi(o,"HTML")?Ko(o):Ov(this._doc,String(o)).toString();case hn.STYLE:return Hi(o,"Style")?Ko(o):o;case hn.SCRIPT:if(Hi(o,"Script"))return Ko(o);throw new Error("unsafe value used in a script context");case hn.URL:return gl(o),Hi(o,"URL")?Ko(o):Tc(String(o));case hn.RESOURCE_URL:if(Hi(o,"ResourceURL"))return Ko(o);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return function Sv(i){return new Ip(i)}(t)}bypassSecurityTrustStyle(t){return function Sp(i){return new zs(i)}(t)}bypassSecurityTrustScript(t){return function jb(i){return new Tv(i)}(t)}bypassSecurityTrustUrl(t){return function vh(i){return new Tp(i)}(t)}bypassSecurityTrustResourceUrl(t){return function Av(i){return new Vb(i)}(t)}}return i.\u0275fac=function(t){return new(t||i)(ce(_n))},i.\u0275prov=Xe({token:i,factory:function(t){let o=null;return o=t?new t:function M$(i){return new eN(i.get(_n))}(ce(ie)),o},providedIn:"root"}),i})();function St(...i){return wr(i,as(i))}class jc extends et{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:o}=this;if(e)throw t;return this._throwIfClosed(),o}next(e){super.next(this._value=e)}}const{isArray:k$}=Array,{getPrototypeOf:R$,prototype:O$,keys:N$}=Object;function tN(i){if(1===i.length){const e=i[0];if(k$(e))return{args:e,keys:null};if(function P$(i){return i&&"object"==typeof i&&R$(i)===O$}(e)){const t=N$(e);return{args:t.map(o=>e[o]),keys:t}}}return{args:i,keys:null}}const{isArray:F$}=Array;function ST(i){return je(e=>function L$(i,e){return F$(e)?i(...e):i(e)}(i,e))}function nN(i,e){return i.reduce((t,o,s)=>(t[o]=e[s],t),{})}function rN(i,e,t){i?Ht(t,i,e):e()}const WE=S(i=>function(){i(this),this.name="EmptyError",this.message="no elements in sequence"});function QE(...i){return function j$(){return Wc(1)}()(wr(i,as(i)))}function AT(i){return new de(e=>{W(i()).subscribe(e)})}function iN(){return Ge((i,e)=>{let t=null;i._refCount++;const o=new Ie(e,void 0,void 0,void 0,()=>{if(!i||i._refCount<=0||0<--i._refCount)return void(t=null);const s=i._connection,u=t;t=null,s&&(!u||s===u)&&s.unsubscribe(),e.unsubscribe()});i.subscribe(o),o.closed||(t=i.connect())})}class U$ extends de{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,un(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new At;const t=this.getSubject();e.add(this.source.subscribe(new Ie(t,void 0,()=>{this._teardown(),t.complete()},o=>{this._teardown(),t.error(o)},()=>this._teardown()))),e.closed&&(this._connection=null,e=At.EMPTY)}return e}refCount(){return iN()(this)}}function kf(i,e){return Ge((t,o)=>{let s=null,u=0,d=!1;const m=()=>d&&!s&&o.complete();t.subscribe(new Ie(o,y=>{null==s||s.unsubscribe();let b=0;const C=u++;W(i(y,C)).subscribe(s=new Ie(o,I=>o.next(e?e(y,I,C,b++):I),()=>{s=null,m()}))},()=>{d=!0,m()}))})}function k0(...i){const e=as(i);return Ge((t,o)=>{(e?QE(i,t,e):QE(i,t)).subscribe(o)})}function H$(i,e,t,o,s){return(u,d)=>{let m=t,y=e,b=0;u.subscribe(new Ie(d,C=>{const I=b++;y=m?i(y,C,I):(m=!0,C),o&&d.next(y)},s&&(()=>{m&&d.next(y),d.complete()})))}}function oN(i,e){return Ge(H$(i,e,arguments.length>=2,!0))}function Xo(i,e){return Ge((t,o)=>{let s=0;t.subscribe(new Ie(o,u=>i.call(e,u,s++)&&o.next(u)))})}function Rf(i){return Ge((e,t)=>{let u,o=null,s=!1;o=e.subscribe(new Ie(t,void 0,void 0,d=>{u=W(i(d,Rf(i)(e))),o?(o.unsubscribe(),o=null,u.subscribe(t)):s=!0})),s&&(o.unsubscribe(),o=null,u.subscribe(t))})}function A_(i,e){return me(e)?nr(i,e,1):nr(i,1)}function xT(i){return i<=0?()=>Os:Ge((e,t)=>{let o=[];e.subscribe(new Ie(t,s=>{o.push(s),i<o.length&&o.shift()},()=>{for(const s of o)t.next(s);t.complete()},void 0,()=>{o=null}))})}function sN(i=q$){return Ge((e,t)=>{let o=!1;e.subscribe(new Ie(t,s=>{o=!0,t.next(s)},()=>o?t.complete():t.error(i())))})}function q$(){return new WE}function aN(i){return Ge((e,t)=>{let o=!1;e.subscribe(new Ie(t,s=>{o=!0,t.next(s)},()=>{o||t.next(i),t.complete()}))})}function x_(i,e){const t=arguments.length>=2;return o=>o.pipe(i?Xo((s,u)=>i(s,u,o)):te,ei(1),t?aN(e):sN(()=>new WE))}function bs(i,e,t){const o=me(i)||e||t?{next:i,error:e,complete:t}:i;return o?Ge((s,u)=>{var d;null===(d=o.subscribe)||void 0===d||d.call(o);let m=!0;s.subscribe(new Ie(u,y=>{var b;null===(b=o.next)||void 0===b||b.call(o,y),u.next(y)},()=>{var y;m=!1,null===(y=o.complete)||void 0===y||y.call(o),u.complete()},y=>{var b;m=!1,null===(b=o.error)||void 0===b||b.call(o,y),u.error(y)},()=>{var y,b;m&&(null===(y=o.unsubscribe)||void 0===y||y.call(o)),null===(b=o.finalize)||void 0===b||b.call(o)}))}):te}function uN(i){return Ge((e,t)=>{try{e.subscribe(t)}finally{t.add(i)}})}class Of{constructor(e,t){this.id=e,this.url=t}}class MT extends Of{constructor(e,t,o="imperative",s=null){super(e,t),this.navigationTrigger=o,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class R0 extends Of{constructor(e,t,o){super(e,t),this.urlAfterRedirects=o}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class cN extends Of{constructor(e,t,o){super(e,t),this.reason=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class G$ extends Of{constructor(e,t,o){super(e,t),this.error=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class $$ extends Of{constructor(e,t,o,s){super(e,t),this.urlAfterRedirects=o,this.state=s}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class K$ extends Of{constructor(e,t,o,s){super(e,t),this.urlAfterRedirects=o,this.state=s}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class W$ extends Of{constructor(e,t,o,s,u){super(e,t),this.urlAfterRedirects=o,this.state=s,this.shouldActivate=u}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Q$ extends Of{constructor(e,t,o,s){super(e,t),this.urlAfterRedirects=o,this.state=s}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Y$ extends Of{constructor(e,t,o,s){super(e,t),this.urlAfterRedirects=o,this.state=s}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lN{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class hN{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class X${constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class J${constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Z${constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class e4{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dN{constructor(e,t,o){this.routerEvent=e,this.position=t,this.anchor=o}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const mn="primary";class t4{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function M_(i){return new t4(i)}const fN="ngNavigationCancelingError";function kT(i){const e=Error("NavigationCancelingError: "+i);return e[fN]=!0,e}function r4(i,e,t){const o=t.path.split("/");if(o.length>i.length||"full"===t.pathMatch&&(e.hasChildren()||o.length<i.length))return null;const s={};for(let u=0;u<o.length;u++){const d=o[u],m=i[u];if(d.startsWith(":"))s[d.substring(1)]=m;else if(d!==m.path)return null}return{consumed:i.slice(0,o.length),posParams:s}}function zh(i,e){const t=i?Object.keys(i):void 0,o=e?Object.keys(e):void 0;if(!t||!o||t.length!=o.length)return!1;let s;for(let u=0;u<t.length;u++)if(s=t[u],!pN(i[s],e[s]))return!1;return!0}function pN(i,e){if(Array.isArray(i)&&Array.isArray(e)){if(i.length!==e.length)return!1;const t=[...i].sort(),o=[...e].sort();return t.every((s,u)=>o[u]===s)}return i===e}function mN(i){return Array.prototype.concat.apply([],i)}function gN(i){return i.length>0?i[i.length-1]:null}function ws(i,e){for(const t in i)i.hasOwnProperty(t)&&e(i[t],t)}function Gh(i){return $1(i)?i:fE(i)?wr(Promise.resolve(i)):St(i)}const a4={exact:function _N(i,e,t){if(!my(i.segments,e.segments)||!YE(i.segments,e.segments,t)||i.numberOfChildren!==e.numberOfChildren)return!1;for(const o in e.children)if(!i.children[o]||!_N(i.children[o],e.children[o],t))return!1;return!0},subset:bN},yN={exact:function u4(i,e){return zh(i,e)},subset:function c4(i,e){return Object.keys(e).length<=Object.keys(i).length&&Object.keys(e).every(t=>pN(i[t],e[t]))},ignored:()=>!0};function vN(i,e,t){return a4[t.paths](i.root,e.root,t.matrixParams)&&yN[t.queryParams](i.queryParams,e.queryParams)&&!("exact"===t.fragment&&i.fragment!==e.fragment)}function bN(i,e,t){return wN(i,e,e.segments,t)}function wN(i,e,t,o){if(i.segments.length>t.length){const s=i.segments.slice(0,t.length);return!(!my(s,t)||e.hasChildren()||!YE(s,t,o))}if(i.segments.length===t.length){if(!my(i.segments,t)||!YE(i.segments,t,o))return!1;for(const s in e.children)if(!i.children[s]||!bN(i.children[s],e.children[s],o))return!1;return!0}{const s=t.slice(0,i.segments.length),u=t.slice(i.segments.length);return!!(my(i.segments,s)&&YE(i.segments,s,o)&&i.children[mn])&&wN(i.children[mn],e,u,o)}}function YE(i,e,t){return e.every((o,s)=>yN[t](i[s].parameters,o.parameters))}class py{constructor(e,t,o){this.root=e,this.queryParams=t,this.fragment=o}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=M_(this.queryParams)),this._queryParamMap}toString(){return d4.serialize(this)}}class Tn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,ws(t,(o,s)=>o.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return XE(this)}}class O0{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=M_(this.parameters)),this._parameterMap}toString(){return TN(this)}}function my(i,e){return i.length===e.length&&i.every((t,o)=>t.path===e[o].path)}class EN{}class CN{parse(e){const t=new w4(e);return new py(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${N0(e.root,!0)}`,o=function m4(i){const e=Object.keys(i).map(t=>{const o=i[t];return Array.isArray(o)?o.map(s=>`${JE(t)}=${JE(s)}`).join("&"):`${JE(t)}=${JE(o)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${o}${"string"==typeof e.fragment?`#${function f4(i){return encodeURI(i)}(e.fragment)}`:""}`}}const d4=new CN;function XE(i){return i.segments.map(e=>TN(e)).join("/")}function N0(i,e){if(!i.hasChildren())return XE(i);if(e){const t=i.children[mn]?N0(i.children[mn],!1):"",o=[];return ws(i.children,(s,u)=>{u!==mn&&o.push(`${u}:${N0(s,!1)}`)}),o.length>0?`${t}(${o.join("//")})`:t}{const t=function h4(i,e){let t=[];return ws(i.children,(o,s)=>{s===mn&&(t=t.concat(e(o,s)))}),ws(i.children,(o,s)=>{s!==mn&&(t=t.concat(e(o,s)))}),t}(i,(o,s)=>s===mn?[N0(i.children[mn],!1)]:[`${s}:${N0(o,!1)}`]);return 1===Object.keys(i.children).length&&null!=i.children[mn]?`${XE(i)}/${t[0]}`:`${XE(i)}/(${t.join("//")})`}}function DN(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function JE(i){return DN(i).replace(/%3B/gi,";")}function RT(i){return DN(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ZE(i){return decodeURIComponent(i)}function IN(i){return ZE(i.replace(/\+/g,"%20"))}function TN(i){return`${RT(i.path)}${function p4(i){return Object.keys(i).map(e=>`;${RT(e)}=${RT(i[e])}`).join("")}(i.parameters)}`}const g4=/^[^\/()?;=#]+/;function eC(i){const e=i.match(g4);return e?e[0]:""}const y4=/^[^=?&#]+/,_4=/^[^&#]+/;class w4{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Tn([],{}):new Tn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(o[mn]=new Tn(e,t)),o}parseSegment(){const e=eC(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new O0(ZE(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=eC(this.remaining);if(!t)return;this.capture(t);let o="";if(this.consumeOptional("=")){const s=eC(this.remaining);s&&(o=s,this.capture(o))}e[ZE(t)]=ZE(o)}parseQueryParam(e){const t=function v4(i){const e=i.match(y4);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let o="";if(this.consumeOptional("=")){const d=function b4(i){const e=i.match(_4);return e?e[0]:""}(this.remaining);d&&(o=d,this.capture(o))}const s=IN(t),u=IN(o);if(e.hasOwnProperty(s)){let d=e[s];Array.isArray(d)||(d=[d],e[s]=d),d.push(u)}else e[s]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const o=eC(this.remaining),s=this.remaining[o.length];if("/"!==s&&")"!==s&&";"!==s)throw new Error(`Cannot parse url '${this.url}'`);let u;o.indexOf(":")>-1?(u=o.substr(0,o.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=mn);const d=this.parseChildren();t[u]=1===Object.keys(d).length?d[mn]:new Tn([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class SN{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=OT(e,this._root);return t?t.children.map(o=>o.value):[]}firstChild(e){const t=OT(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=NT(e,this._root);return t.length<2?[]:t[t.length-2].children.map(s=>s.value).filter(s=>s!==e)}pathFromRoot(e){return NT(e,this._root).map(t=>t.value)}}function OT(i,e){if(i===e.value)return e;for(const t of e.children){const o=OT(i,t);if(o)return o}return null}function NT(i,e){if(i===e.value)return[e];for(const t of e.children){const o=NT(i,t);if(o.length)return o.unshift(e),o}return[]}class Nf{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function k_(i){const e={};return i&&i.children.forEach(t=>e[t.value.outlet]=t),e}class AN extends SN{constructor(e,t){super(e),this.snapshot=t,PT(this,e)}toString(){return this.snapshot.toString()}}function xN(i,e){const t=function E4(i,e){const d=new tC([],{},{},"",{},mn,e,null,i.root,-1,{});return new kN("",new Nf(d,[]))}(i,e),o=new jc([new O0("",{})]),s=new jc({}),u=new jc({}),d=new jc({}),m=new jc(""),y=new R_(o,s,d,m,u,mn,e,t.root);return y.snapshot=t.root,new AN(new Nf(y,[]),t)}class R_{constructor(e,t,o,s,u,d,m,y){this.url=e,this.params=t,this.queryParams=o,this.fragment=s,this.data=u,this.outlet=d,this.component=m,this._futureSnapshot=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(je(e=>M_(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(je(e=>M_(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function MN(i,e="emptyOnly"){const t=i.pathFromRoot;let o=0;if("always"!==e)for(o=t.length-1;o>=1;){const s=t[o],u=t[o-1];if(s.routeConfig&&""===s.routeConfig.path)o--;else{if(u.component)break;o--}}return function C4(i){return i.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(o))}class tC{constructor(e,t,o,s,u,d,m,y,b,C,I){this.url=e,this.params=t,this.queryParams=o,this.fragment=s,this.data=u,this.outlet=d,this.component=m,this.routeConfig=y,this._urlSegment=b,this._lastPathIndex=C,this._resolve=I}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=M_(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=M_(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(o=>o.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class kN extends SN{constructor(e,t){super(t),this.url=e,PT(this,t)}toString(){return RN(this._root)}}function PT(i,e){e.value._routerState=i,e.children.forEach(t=>PT(i,t))}function RN(i){const e=i.children.length>0?` { ${i.children.map(RN).join(", ")} } `:"";return`${i.value}${e}`}function FT(i){if(i.snapshot){const e=i.snapshot,t=i._futureSnapshot;i.snapshot=t,zh(e.queryParams,t.queryParams)||i.queryParams.next(t.queryParams),e.fragment!==t.fragment&&i.fragment.next(t.fragment),zh(e.params,t.params)||i.params.next(t.params),function o4(i,e){if(i.length!==e.length)return!1;for(let t=0;t<i.length;++t)if(!zh(i[t],e[t]))return!1;return!0}(e.url,t.url)||i.url.next(t.url),zh(e.data,t.data)||i.data.next(t.data)}else i.snapshot=i._futureSnapshot,i.data.next(i._futureSnapshot.data)}function LT(i,e){const t=zh(i.params,e.params)&&function l4(i,e){return my(i,e)&&i.every((t,o)=>zh(t.parameters,e[o].parameters))}(i.url,e.url);return t&&!(!i.parent!=!e.parent)&&(!i.parent||LT(i.parent,e.parent))}function P0(i,e,t){if(t&&i.shouldReuseRoute(e.value,t.value.snapshot)){const o=t.value;o._futureSnapshot=e.value;const s=function I4(i,e,t){return e.children.map(o=>{for(const s of t.children)if(i.shouldReuseRoute(o.value,s.value.snapshot))return P0(i,o,s);return P0(i,o)})}(i,e,t);return new Nf(o,s)}{if(i.shouldAttach(e.value)){const u=i.retrieve(e.value);if(null!==u){const d=u.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(m=>P0(i,m)),d}}const o=function T4(i){return new R_(new jc(i.url),new jc(i.params),new jc(i.queryParams),new jc(i.fragment),new jc(i.data),i.outlet,i.component,i)}(e.value),s=e.children.map(u=>P0(i,u));return new Nf(o,s)}}function nC(i){return"object"==typeof i&&null!=i&&!i.outlets&&!i.segmentPath}function F0(i){return"object"==typeof i&&null!=i&&i.outlets}function BT(i,e,t,o,s){let u={};return o&&ws(o,(d,m)=>{u[m]=Array.isArray(d)?d.map(y=>`${y}`):`${d}`}),new py(t.root===i?e:ON(t.root,i,e),u,s)}function ON(i,e,t){const o={};return ws(i.children,(s,u)=>{o[u]=s===e?t:ON(s,e,t)}),new Tn(i.segments,o)}class NN{constructor(e,t,o){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=o,e&&o.length>0&&nC(o[0]))throw new Error("Root segment cannot have matrix parameters");const s=o.find(F0);if(s&&s!==gN(o))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class VT{constructor(e,t,o){this.segmentGroup=e,this.processChildren=t,this.index=o}}function PN(i,e,t){if(i||(i=new Tn([],{})),0===i.segments.length&&i.hasChildren())return rC(i,e,t);const o=function R4(i,e,t){let o=0,s=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;s<i.segments.length;){if(o>=t.length)return u;const d=i.segments[s],m=t[o];if(F0(m))break;const y=`${m}`,b=o<t.length-1?t[o+1]:null;if(s>0&&void 0===y)break;if(y&&b&&"object"==typeof b&&void 0===b.outlets){if(!LN(y,b,d))return u;o+=2}else{if(!LN(y,{},d))return u;o++}s++}return{match:!0,pathIndex:s,commandIndex:o}}(i,e,t),s=t.slice(o.commandIndex);if(o.match&&o.pathIndex<i.segments.length){const u=new Tn(i.segments.slice(0,o.pathIndex),{});return u.children[mn]=new Tn(i.segments.slice(o.pathIndex),i.children),rC(u,0,s)}return o.match&&0===s.length?new Tn(i.segments,{}):o.match&&!i.hasChildren()?jT(i,e,t):o.match?rC(i,0,s):jT(i,e,t)}function rC(i,e,t){if(0===t.length)return new Tn(i.segments,{});{const o=function k4(i){return F0(i[0])?i[0].outlets:{[mn]:i}}(t),s={};return ws(o,(u,d)=>{"string"==typeof u&&(u=[u]),null!==u&&(s[d]=PN(i.children[d],e,u))}),ws(i.children,(u,d)=>{void 0===o[d]&&(s[d]=u)}),new Tn(i.segments,s)}}function jT(i,e,t){const o=i.segments.slice(0,e);let s=0;for(;s<t.length;){const u=t[s];if(F0(u)){const y=O4(u.outlets);return new Tn(o,y)}if(0===s&&nC(t[0])){o.push(new O0(i.segments[e].path,FN(t[0]))),s++;continue}const d=F0(u)?u.outlets[mn]:`${u}`,m=s<t.length-1?t[s+1]:null;d&&m&&nC(m)?(o.push(new O0(d,FN(m))),s+=2):(o.push(new O0(d,{})),s++)}return new Tn(o,{})}function O4(i){const e={};return ws(i,(t,o)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[o]=jT(new Tn([],{}),0,t))}),e}function FN(i){const e={};return ws(i,(t,o)=>e[o]=`${t}`),e}function LN(i,e,t){return i==t.path&&zh(e,t.parameters)}class P4{constructor(e,t,o,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=o,this.forwardEvent=s}activate(e){const t=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,o,e),FT(this.futureState.root),this.activateChildRoutes(t,o,e)}deactivateChildRoutes(e,t,o){const s=k_(t);e.children.forEach(u=>{const d=u.value.outlet;this.deactivateRoutes(u,s[d],o),delete s[d]}),ws(s,(u,d)=>{this.deactivateRouteAndItsChildren(u,o)})}deactivateRoutes(e,t,o){const s=e.value,u=t?t.value:null;if(s===u)if(s.component){const d=o.getContext(s.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,o);else u&&this.deactivateRouteAndItsChildren(t,o)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const o=t.getContext(e.value.outlet),s=o&&e.value.component?o.children:t,u=k_(e);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],s);if(o&&o.outlet){const d=o.outlet.detach(),m=o.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const o=t.getContext(e.value.outlet),s=o&&e.value.component?o.children:t,u=k_(e);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],s);o&&o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated(),o.attachRef=null,o.resolver=null,o.route=null)}activateChildRoutes(e,t,o){const s=k_(t);e.children.forEach(u=>{this.activateRoutes(u,s[u.value.outlet],o),this.forwardEvent(new e4(u.value.snapshot))}),e.children.length&&this.forwardEvent(new J$(e.value.snapshot))}activateRoutes(e,t,o){const s=e.value,u=t?t.value:null;if(FT(s),s===u)if(s.component){const d=o.getOrCreateContext(s.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,o);else if(s.component){const d=o.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const m=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),d.children.onOutletReAttached(m.contexts),d.attachRef=m.componentRef,d.route=m.route.value,d.outlet&&d.outlet.attach(m.componentRef,m.route.value),FT(m.route.value),this.activateChildRoutes(e,null,d.children)}else{const m=function F4(i){for(let e=i.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(s.snapshot),y=m?m.module.componentFactoryResolver:null;d.attachRef=null,d.route=s,d.resolver=y,d.outlet&&d.outlet.activateWith(s,y),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,o)}}class UT{constructor(e,t){this.routes=e,this.module=t}}function Dm(i){return"function"==typeof i}function gy(i){return i instanceof py}const L0=Symbol("INITIAL_VALUE");function B0(){return kf(i=>function B$(...i){const e=as(i),t=zl(i),{args:o,keys:s}=tN(i);if(0===o.length)return wr([],e);const u=new de(function V$(i,e,t=te){return o=>{rN(e,()=>{const{length:s}=i,u=new Array(s);let d=s,m=s;for(let y=0;y<s;y++)rN(e,()=>{const b=wr(i[y],e);let C=!1;b.subscribe(new Ie(o,I=>{u[y]=I,C||(C=!0,m--),m||o.next(t(u.slice()))},()=>{--d||o.complete()}))},o)},o)}}(o,e,s?d=>nN(s,d):te));return t?u.pipe(ST(t)):u}(i.map(e=>e.pipe(ei(1),k0(L0)))).pipe(oN((e,t)=>{let o=!1;return t.reduce((s,u,d)=>s!==L0?s:(u===L0&&(o=!0),o||!1!==u&&d!==t.length-1&&!gy(u)?s:u),e)},L0),Xo(e=>e!==L0),je(e=>gy(e)?e:!0===e),ei(1)))}class H4{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new V0,this.attachRef=null}}class V0{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const o=this.getOrCreateContext(e);o.outlet=t,this.contexts.set(e,o)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new H4,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let HT=(()=>{class i{constructor(t,o,s,u,d){this.parentContexts=t,this.location=o,this.resolver=s,this.changeDetector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new $i,this.deactivateEvents=new $i,this.attachEvents=new $i,this.detachEvents=new $i,this.name=u||mn,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,o){this.activated=t,this._activatedRoute=o,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,o){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const d=(o=o||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),m=this.parentContexts.getOrCreateContext(this.name).children,y=new q4(t,m,this.location.injector);this.activated=this.location.createComponent(d,this.location.length,y),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return i.\u0275fac=function(t){return new(t||i)(ve(V0),ve(Fu),ve(wm),gc("name"),ve(hy))},i.\u0275dir=Bn({type:i,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),i})();class q4{constructor(e,t,o){this.route=e,this.childContexts=t,this.parent=o}get(e,t){return e===R_?this.route:e===V0?this.childContexts:this.parent.get(e,t)}}let BN=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=Ar({type:i,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,o){1&t&&Hn(0,"router-outlet")},directives:[HT],encapsulation:2}),i})();function VN(i,e=""){for(let t=0;t<i.length;t++){const o=i[t];z4(o,G4(e,o))}}function z4(i,e){i.children&&VN(i.children,e)}function G4(i,e){return e?i||e.path?i&&!e.path?`${i}/`:!i&&e.path?e.path:`${i}/${e.path}`:"":i}function qT(i){const e=i.children&&i.children.map(qT),t=e?Object.assign(Object.assign({},i),{children:e}):Object.assign({},i);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==mn&&(t.component=BN),t}function Uc(i){return i.outlet||mn}function jN(i,e){const t=i.filter(o=>Uc(o)===e);return t.push(...i.filter(o=>Uc(o)!==e)),t}const UN={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function iC(i,e,t){var o;if(""===e.path)return"full"===e.pathMatch&&(i.hasChildren()||t.length>0)?Object.assign({},UN):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const u=(e.matcher||r4)(t,i,e);if(!u)return Object.assign({},UN);const d={};ws(u.posParams,(y,b)=>{d[b]=y.path});const m=u.consumed.length>0?Object.assign(Object.assign({},d),u.consumed[u.consumed.length-1].parameters):d;return{matched:!0,consumedSegments:u.consumed,lastChild:u.consumed.length,parameters:m,positionalParamSegments:null!==(o=u.posParams)&&void 0!==o?o:{}}}function oC(i,e,t,o,s="corrected"){if(t.length>0&&function W4(i,e,t){return t.some(o=>sC(i,e,o)&&Uc(o)!==mn)}(i,t,o)){const d=new Tn(e,function K4(i,e,t,o){const s={};s[mn]=o,o._sourceSegment=i,o._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&Uc(u)!==mn){const d=new Tn([],{});d._sourceSegment=i,d._segmentIndexShift=e.length,s[Uc(u)]=d}return s}(i,e,o,new Tn(t,i.children)));return d._sourceSegment=i,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:[]}}if(0===t.length&&function Q4(i,e,t){return t.some(o=>sC(i,e,o))}(i,t,o)){const d=new Tn(i.segments,function $4(i,e,t,o,s,u){const d={};for(const m of o)if(sC(i,t,m)&&!s[Uc(m)]){const y=new Tn([],{});y._sourceSegment=i,y._segmentIndexShift="legacy"===u?i.segments.length:e.length,d[Uc(m)]=y}return Object.assign(Object.assign({},s),d)}(i,e,t,o,i.children,s));return d._sourceSegment=i,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:t}}const u=new Tn(i.segments,i.children);return u._sourceSegment=i,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}function sC(i,e,t){return(!(i.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function HN(i,e,t,o){return!!(Uc(i)===o||o!==mn&&sC(e,t,i))&&("**"===i.path||iC(e,i,t).matched)}function qN(i,e,t){return 0===e.length&&!i.children[t]}class j0{constructor(e){this.segmentGroup=e||null}}class zN{constructor(e){this.urlTree=e}}function aC(i){return new de(e=>e.error(new j0(i)))}function GN(i){return new de(e=>e.error(new zN(i)))}function Y4(i){return new de(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${i}'`)))}class Z4{constructor(e,t,o,s,u){this.configLoader=t,this.urlSerializer=o,this.urlTree=s,this.config=u,this.allowRedirects=!0,this.ngModule=e.get(If)}apply(){const e=oC(this.urlTree.root,[],[],this.config).segmentGroup,t=new Tn(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,mn).pipe(je(u=>this.createUrlTree(zT(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Rf(u=>{if(u instanceof zN)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof j0?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,mn).pipe(je(s=>this.createUrlTree(zT(s),e.queryParams,e.fragment))).pipe(Rf(s=>{throw s instanceof j0?this.noMatchError(s):s}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,o){const s=e.segments.length>0?new Tn([],{[mn]:e}):e;return new py(s,t,o)}expandSegmentGroup(e,t,o,s){return 0===o.segments.length&&o.hasChildren()?this.expandChildren(e,t,o).pipe(je(u=>new Tn([],u))):this.expandSegment(e,o,t,o.segments,s,!0)}expandChildren(e,t,o){const s=[];for(const u of Object.keys(o.children))"primary"===u?s.unshift(u):s.push(u);return wr(s).pipe(A_(u=>{const d=o.children[u],m=jN(t,u);return this.expandSegmentGroup(e,m,d,u).pipe(je(y=>({segment:y,outlet:u})))}),oN((u,d)=>(u[d.outlet]=d.segment,u),{}),function z$(i,e){const t=arguments.length>=2;return o=>o.pipe(i?Xo((s,u)=>i(s,u,o)):te,xT(1),t?aN(e):sN(()=>new WE))}())}expandSegment(e,t,o,s,u,d){return wr(o).pipe(A_(m=>this.expandSegmentAgainstRoute(e,t,o,m,s,u,d).pipe(Rf(b=>{if(b instanceof j0)return St(null);throw b}))),x_(m=>!!m),Rf((m,y)=>{if(m instanceof WE||"EmptyError"===m.name){if(qN(t,s,u))return St(new Tn([],{}));throw new j0(t)}throw m}))}expandSegmentAgainstRoute(e,t,o,s,u,d,m){return HN(s,t,u,d)?void 0===s.redirectTo?this.matchSegmentAgainstRoute(e,t,s,u,d):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,o,s,u,d):aC(t):aC(t)}expandSegmentAgainstRouteUsingRedirect(e,t,o,s,u,d){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,o,s,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,o,s,u,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,o,s){const u=this.applyRedirectCommands([],o.redirectTo,{});return o.redirectTo.startsWith("/")?GN(u):this.lineralizeSegments(o,u).pipe(nr(d=>{const m=new Tn(d,{});return this.expandSegment(e,m,t,d,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,o,s,u,d){const{matched:m,consumedSegments:y,lastChild:b,positionalParamSegments:C}=iC(t,s,u);if(!m)return aC(t);const I=this.applyRedirectCommands(y,s.redirectTo,C);return s.redirectTo.startsWith("/")?GN(I):this.lineralizeSegments(s,I).pipe(nr(M=>this.expandSegment(e,t,o,M.concat(u.slice(b)),d,!1)))}matchSegmentAgainstRoute(e,t,o,s,u){if("**"===o.path)return o.loadChildren?(o._loadedConfig?St(o._loadedConfig):this.configLoader.load(e.injector,o)).pipe(je(M=>(o._loadedConfig=M,new Tn(s,{})))):St(new Tn(s,{}));const{matched:d,consumedSegments:m,lastChild:y}=iC(t,o,s);if(!d)return aC(t);const b=s.slice(y);return this.getChildConfig(e,o,s).pipe(nr(I=>{const M=I.module,O=I.routes,{segmentGroup:L,slicedSegments:q}=oC(t,m,b,O),X=new Tn(L.segments,L.children);if(0===q.length&&X.hasChildren())return this.expandChildren(M,O,X).pipe(je(Le=>new Tn(m,Le)));if(0===O.length&&0===q.length)return St(new Tn(m,{}));const ae=Uc(o)===u;return this.expandSegment(M,X,O,q,ae?mn:u,!0).pipe(je(Te=>new Tn(m.concat(Te.segments),Te.children)))}))}getChildConfig(e,t,o){return t.children?St(new UT(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?St(t._loadedConfig):this.runCanLoadGuards(e.injector,t,o).pipe(nr(s=>s?this.configLoader.load(e.injector,t).pipe(je(u=>(t._loadedConfig=u,u))):function X4(i){return new de(e=>e.error(kT(`Cannot load children because the guard of the route "path: '${i.path}'" returned false`)))}(t))):St(new UT([],e))}runCanLoadGuards(e,t,o){const s=t.canLoad;return s&&0!==s.length?St(s.map(d=>{const m=e.get(d);let y;if(function B4(i){return i&&Dm(i.canLoad)}(m))y=m.canLoad(t,o);else{if(!Dm(m))throw new Error("Invalid CanLoad guard");y=m(t,o)}return Gh(y)})).pipe(B0(),bs(d=>{if(!gy(d))return;const m=kT(`Redirecting to "${this.urlSerializer.serialize(d)}"`);throw m.url=d,m}),je(d=>!0===d)):St(!0)}lineralizeSegments(e,t){let o=[],s=t.root;for(;;){if(o=o.concat(s.segments),0===s.numberOfChildren)return St(o);if(s.numberOfChildren>1||!s.children[mn])return Y4(e.redirectTo);s=s.children[mn]}}applyRedirectCommands(e,t,o){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,o)}applyRedirectCreatreUrlTree(e,t,o,s){const u=this.createSegmentGroup(e,t.root,o,s);return new py(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const o={};return ws(e,(s,u)=>{if("string"==typeof s&&s.startsWith(":")){const m=s.substring(1);o[u]=t[m]}else o[u]=s}),o}createSegmentGroup(e,t,o,s){const u=this.createSegments(e,t.segments,o,s);let d={};return ws(t.children,(m,y)=>{d[y]=this.createSegmentGroup(e,m,o,s)}),new Tn(u,d)}createSegments(e,t,o,s){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,s):this.findOrReturn(u,o))}findPosParam(e,t,o){const s=o[t.path.substring(1)];if(!s)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return s}findOrReturn(e,t){let o=0;for(const s of t){if(s.path===e.path)return t.splice(o),s;o++}return e}}function zT(i){const e={};for(const o of Object.keys(i.children)){const u=zT(i.children[o]);(u.segments.length>0||u.hasChildren())&&(e[o]=u)}return function e5(i){if(1===i.numberOfChildren&&i.children[mn]){const e=i.children[mn];return new Tn(i.segments.concat(e.segments),e.children)}return i}(new Tn(i.segments,e))}class $N{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class uC{constructor(e,t){this.component=e,this.route=t}}function n5(i,e,t){const o=i._root;return U0(o,e?e._root:null,t,[o.value])}function cC(i,e,t){const o=function o5(i){if(!i)return null;for(let e=i.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(o?o.module.injector:t).get(i)}function U0(i,e,t,o,s={canDeactivateChecks:[],canActivateChecks:[]}){const u=k_(e);return i.children.forEach(d=>{(function s5(i,e,t,o,s={canDeactivateChecks:[],canActivateChecks:[]}){const u=i.value,d=e?e.value:null,m=t?t.getContext(i.value.outlet):null;if(d&&u.routeConfig===d.routeConfig){const y=function a5(i,e,t){if("function"==typeof t)return t(i,e);switch(t){case"pathParamsChange":return!my(i.url,e.url);case"pathParamsOrQueryParamsChange":return!my(i.url,e.url)||!zh(i.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!LT(i,e)||!zh(i.queryParams,e.queryParams);default:return!LT(i,e)}}(d,u,u.routeConfig.runGuardsAndResolvers);y?s.canActivateChecks.push(new $N(o)):(u.data=d.data,u._resolvedData=d._resolvedData),U0(i,e,u.component?m?m.children:null:t,o,s),y&&m&&m.outlet&&m.outlet.isActivated&&s.canDeactivateChecks.push(new uC(m.outlet.component,d))}else d&&H0(e,m,s),s.canActivateChecks.push(new $N(o)),U0(i,null,u.component?m?m.children:null:t,o,s)})(d,u[d.value.outlet],t,o.concat([d.value]),s),delete u[d.value.outlet]}),ws(u,(d,m)=>H0(d,t.getContext(m),s)),s}function H0(i,e,t){const o=k_(i),s=i.value;ws(o,(u,d)=>{H0(u,s.component?e?e.children.getContext(d):null:e,t)}),t.canDeactivateChecks.push(new uC(s.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,s))}class g5{}function KN(i){return new de(e=>e.error(i))}class v5{constructor(e,t,o,s,u,d){this.rootComponentType=e,this.config=t,this.urlTree=o,this.url=s,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=d}recognize(){const e=oC(this.urlTree.root,[],[],this.config.filter(d=>void 0===d.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,mn);if(null===t)return null;const o=new tC([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},mn,this.rootComponentType,null,this.urlTree.root,-1,{}),s=new Nf(o,t),u=new kN(this.url,s);return this.inheritParamsAndData(u._root),u}inheritParamsAndData(e){const t=e.value,o=MN(t,this.paramsInheritanceStrategy);t.params=Object.freeze(o.params),t.data=Object.freeze(o.data),e.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(e,t,o){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,o)}processChildren(e,t){const o=[];for(const u of Object.keys(t.children)){const d=t.children[u],m=jN(e,u),y=this.processSegmentGroup(m,d,u);if(null===y)return null;o.push(...y)}const s=WN(o);return function _5(i){i.sort((e,t)=>e.value.outlet===mn?-1:t.value.outlet===mn?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}processSegment(e,t,o,s){for(const u of e){const d=this.processSegmentAgainstRoute(u,t,o,s);if(null!==d)return d}return qN(t,o,s)?[]:null}processSegmentAgainstRoute(e,t,o,s){if(e.redirectTo||!HN(e,t,o,s))return null;let u,d=[],m=[];if("**"===e.path){const O=o.length>0?gN(o).parameters:{};u=new tC(o,O,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,XN(e),Uc(e),e.component,e,QN(t),YN(t)+o.length,JN(e))}else{const O=iC(t,e,o);if(!O.matched)return null;d=O.consumedSegments,m=o.slice(O.lastChild),u=new tC(d,O.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,XN(e),Uc(e),e.component,e,QN(t),YN(t)+d.length,JN(e))}const y=function b5(i){return i.children?i.children:i.loadChildren?i._loadedConfig.routes:[]}(e),{segmentGroup:b,slicedSegments:C}=oC(t,d,m,y.filter(O=>void 0===O.redirectTo),this.relativeLinkResolution);if(0===C.length&&b.hasChildren()){const O=this.processChildren(y,b);return null===O?null:[new Nf(u,O)]}if(0===y.length&&0===C.length)return[new Nf(u,[])];const I=Uc(e)===s,M=this.processSegment(y,b,C,I?mn:s);return null===M?null:[new Nf(u,M)]}}function w5(i){const e=i.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function WN(i){const e=[],t=new Set;for(const o of i){if(!w5(o)){e.push(o);continue}const s=e.find(u=>o.value.routeConfig===u.value.routeConfig);void 0!==s?(s.children.push(...o.children),t.add(s)):e.push(o)}for(const o of t){const s=WN(o.children);e.push(new Nf(o.value,s))}return e.filter(o=>!t.has(o))}function QN(i){let e=i;for(;e._sourceSegment;)e=e._sourceSegment;return e}function YN(i){let e=i,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function XN(i){return i.data||{}}function JN(i){return i.resolve||{}}function GT(i){return kf(e=>{const t=i(e);return t?wr(t).pipe(je(()=>e)):St(e)})}class x5 extends class A5{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const $T=new Qe("ROUTES");class ZN{constructor(e,t,o,s){this.injector=e,this.compiler=t,this.onLoadStartListener=o,this.onLoadEndListener=s}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const s=this.loadModuleFactory(t.loadChildren).pipe(je(u=>{this.onLoadEndListener&&this.onLoadEndListener(t);const d=u.create(e);return new UT(mN(d.injector.get($T,void 0,fe.Self|fe.Optional)).map(qT),d)}),Rf(u=>{throw t._loader$=void 0,u}));return t._loader$=new U$(s,()=>new et).pipe(iN()),t._loader$}loadModuleFactory(e){return Gh(e()).pipe(nr(t=>t instanceof dR?St(t):wr(this.compiler.compileModuleAsync(t))))}}class k5{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function R5(i){throw i}function O5(i,e,t){return e.parse("/")}function eP(i,e){return St(null)}const N5={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},P5={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Zs=(()=>{class i{constructor(t,o,s,u,d,m,y){this.rootComponentType=t,this.urlSerializer=o,this.rootContexts=s,this.location=u,this.config=y,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new et,this.errorHandler=R5,this.malformedUriErrorHandler=O5,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:eP,afterPreactivation:eP},this.urlHandlingStrategy=new k5,this.routeReuseStrategy=new x5,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=d.get(If),this.console=d.get(YR);const I=d.get(An);this.isNgZoneEnabled=I instanceof An&&An.isInAngularZone(),this.resetConfig(y),this.currentUrlTree=function s4(){return new py(new Tn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ZN(d,m,M=>this.triggerEvent(new lN(M)),M=>this.triggerEvent(new hN(M))),this.routerState=xN(this.currentUrlTree,this.rootComponentType),this.transitions=new jc({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const o=this.events;return t.pipe(Xo(s=>0!==s.id),je(s=>Object.assign(Object.assign({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),kf(s=>{let u=!1,d=!1;return St(s).pipe(bs(m=>{this.currentNavigation={id:m.id,initialUrl:m.currentRawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),kf(m=>{const y=this.browserUrlTree.toString(),b=!this.navigated||m.extractedUrl.toString()!==y||y!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||b)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return lC(m.source)&&(this.browserUrlTree=m.extractedUrl),St(m).pipe(kf(I=>{const M=this.transitions.getValue();return o.next(new MT(I.id,this.serializeUrl(I.extractedUrl),I.source,I.restoredState)),M!==this.transitions.getValue()?Os:Promise.resolve(I)}),function t5(i,e,t,o){return kf(s=>function J4(i,e,t,o,s){return new Z4(i,e,t,o,s).apply()}(i,e,t,s.extractedUrl,o).pipe(je(u=>Object.assign(Object.assign({},s),{urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),bs(I=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:I.urlAfterRedirects})}),function E5(i,e,t,o,s){return nr(u=>function y5(i,e,t,o,s="emptyOnly",u="legacy"){try{const d=new v5(i,e,t,o,s,u).recognize();return null===d?KN(new g5):St(d)}catch(d){return KN(d)}}(i,e,u.urlAfterRedirects,t(u.urlAfterRedirects),o,s).pipe(je(d=>Object.assign(Object.assign({},u),{targetSnapshot:d}))))}(this.rootComponentType,this.config,I=>this.serializeUrl(I),this.paramsInheritanceStrategy,this.relativeLinkResolution),bs(I=>{if("eager"===this.urlUpdateStrategy){if(!I.extras.skipLocationChange){const O=this.urlHandlingStrategy.merge(I.urlAfterRedirects,I.rawUrl);this.setBrowserUrl(O,I)}this.browserUrlTree=I.urlAfterRedirects}const M=new $$(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(I.urlAfterRedirects),I.targetSnapshot);o.next(M)}));if(b&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:M,extractedUrl:O,source:L,restoredState:q,extras:X}=m,ae=new MT(M,this.serializeUrl(O),L,q);o.next(ae);const Y=xN(O,this.rootComponentType).snapshot;return St(Object.assign(Object.assign({},m),{targetSnapshot:Y,urlAfterRedirects:O,extras:Object.assign(Object.assign({},X),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=m.rawUrl,m.resolve(null),Os}),GT(m=>{const{targetSnapshot:y,id:b,extractedUrl:C,rawUrl:I,extras:{skipLocationChange:M,replaceUrl:O}}=m;return this.hooks.beforePreactivation(y,{navigationId:b,appliedUrlTree:C,rawUrlTree:I,skipLocationChange:!!M,replaceUrl:!!O})}),bs(m=>{const y=new K$(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(y)}),je(m=>Object.assign(Object.assign({},m),{guards:n5(m.targetSnapshot,m.currentSnapshot,this.rootContexts)})),function u5(i,e){return nr(t=>{const{targetSnapshot:o,currentSnapshot:s,guards:{canActivateChecks:u,canDeactivateChecks:d}}=t;return 0===d.length&&0===u.length?St(Object.assign(Object.assign({},t),{guardsResult:!0})):function c5(i,e,t,o){return wr(i).pipe(nr(s=>function m5(i,e,t,o,s){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?St(u.map(m=>{const y=cC(m,e,s);let b;if(function U4(i){return i&&Dm(i.canDeactivate)}(y))b=Gh(y.canDeactivate(i,e,t,o));else{if(!Dm(y))throw new Error("Invalid CanDeactivate guard");b=Gh(y(i,e,t,o))}return b.pipe(x_())})).pipe(B0()):St(!0)}(s.component,s.route,t,e,o)),x_(s=>!0!==s,!0))}(d,o,s,i).pipe(nr(m=>m&&function L4(i){return"boolean"==typeof i}(m)?function l5(i,e,t,o){return wr(e).pipe(A_(s=>QE(function d5(i,e){return null!==i&&e&&e(new X$(i)),St(!0)}(s.route.parent,o),function h5(i,e){return null!==i&&e&&e(new Z$(i)),St(!0)}(s.route,o),function p5(i,e,t){const o=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(d=>function r5(i){const e=i.routeConfig?i.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:i,guards:e}:null}(d)).filter(d=>null!==d).map(d=>AT(()=>St(d.guards.map(y=>{const b=cC(y,d.node,t);let C;if(function j4(i){return i&&Dm(i.canActivateChild)}(b))C=Gh(b.canActivateChild(o,i));else{if(!Dm(b))throw new Error("Invalid CanActivateChild guard");C=Gh(b(o,i))}return C.pipe(x_())})).pipe(B0())));return St(u).pipe(B0())}(i,s.path,t),function f5(i,e,t){const o=e.routeConfig?e.routeConfig.canActivate:null;if(!o||0===o.length)return St(!0);const s=o.map(u=>AT(()=>{const d=cC(u,e,t);let m;if(function V4(i){return i&&Dm(i.canActivate)}(d))m=Gh(d.canActivate(e,i));else{if(!Dm(d))throw new Error("Invalid CanActivate guard");m=Gh(d(e,i))}return m.pipe(x_())}));return St(s).pipe(B0())}(i,s.route,t))),x_(s=>!0!==s,!0))}(o,u,i,e):St(m)),je(m=>Object.assign(Object.assign({},t),{guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),bs(m=>{if(gy(m.guardsResult)){const b=kT(`Redirecting to "${this.serializeUrl(m.guardsResult)}"`);throw b.url=m.guardsResult,b}const y=new W$(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(y)}),Xo(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,""),!1)),GT(m=>{if(m.guards.canActivateChecks.length)return St(m).pipe(bs(y=>{const b=new Q$(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(b)}),kf(y=>{let b=!1;return St(y).pipe(function C5(i,e){return nr(t=>{const{targetSnapshot:o,guards:{canActivateChecks:s}}=t;if(!s.length)return St(t);let u=0;return wr(s).pipe(A_(d=>function D5(i,e,t,o){return function I5(i,e,t,o){const s=Object.keys(i);if(0===s.length)return St({});const u={};return wr(s).pipe(nr(d=>function T5(i,e,t,o){const s=cC(i,e,o);return Gh(s.resolve?s.resolve(e,t):s(e,t))}(i[d],e,t,o).pipe(bs(m=>{u[d]=m}))),xT(1),nr(()=>Object.keys(u).length===s.length?St(u):Os))}(i._resolve,i,e,o).pipe(je(u=>(i._resolvedData=u,i.data=Object.assign(Object.assign({},i.data),MN(i,t).resolve),null)))}(d.route,o,i,e)),bs(()=>u++),xT(1),nr(d=>u===s.length?St(t):Os))})}(this.paramsInheritanceStrategy,this.ngModule.injector),bs({next:()=>b=!0,complete:()=>{b||(this.restoreHistory(y),this.cancelNavigationTransition(y,"At least one route resolver didn't emit any value."))}}))}),bs(y=>{const b=new Y$(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(b)}))}),GT(m=>{const{targetSnapshot:y,id:b,extractedUrl:C,rawUrl:I,extras:{skipLocationChange:M,replaceUrl:O}}=m;return this.hooks.afterPreactivation(y,{navigationId:b,appliedUrlTree:C,rawUrlTree:I,skipLocationChange:!!M,replaceUrl:!!O})}),je(m=>{const y=function D4(i,e,t){const o=P0(i,e._root,t?t._root:void 0);return new AN(o,e)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return Object.assign(Object.assign({},m),{targetRouterState:y})}),bs(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((i,e,t)=>je(o=>(new P4(e,o.targetRouterState,o.currentRouterState,t).activate(i),o)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),bs({next(){u=!0},complete(){u=!0}}),uN(()=>{var m;u||d||this.cancelNavigationTransition(s,`Navigation ID ${s.id} is not equal to the current navigation id ${this.navigationId}`),(null===(m=this.currentNavigation)||void 0===m?void 0:m.id)===s.id&&(this.currentNavigation=null)}),Rf(m=>{if(d=!0,function n4(i){return i&&i[fN]}(m)){const y=gy(m.url);y||(this.navigated=!0,this.restoreHistory(s,!0));const b=new cN(s.id,this.serializeUrl(s.extractedUrl),m.message);o.next(b),y?setTimeout(()=>{const C=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),I={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||lC(s.source)};this.scheduleNavigation(C,"imperative",null,I,{resolve:s.resolve,reject:s.reject,promise:s.promise})},0):s.resolve(!1)}else{this.restoreHistory(s,!0);const y=new G$(s.id,this.serializeUrl(s.extractedUrl),m);o.next(y);try{s.resolve(this.errorHandler(m))}catch(b){s.reject(b)}}return Os}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const o="popstate"===t.type?"popstate":"hashchange";"popstate"===o&&setTimeout(()=>{var s;const u={replaceUrl:!0},d=(null===(s=t.state)||void 0===s?void 0:s.navigationId)?t.state:null;if(d){const y=Object.assign({},d);delete y.navigationId,delete y.\u0275routerPageId,0!==Object.keys(y).length&&(u.state=y)}const m=this.parseUrl(t.url);this.scheduleNavigation(m,o,d,u)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){VN(t),this.config=t.map(qT),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,o={}){const{relativeTo:s,queryParams:u,fragment:d,queryParamsHandling:m,preserveFragment:y}=o,b=s||this.routerState.root,C=y?this.currentUrlTree.fragment:d;let I=null;switch(m){case"merge":I=Object.assign(Object.assign({},this.currentUrlTree.queryParams),u);break;case"preserve":I=this.currentUrlTree.queryParams;break;default:I=u||null}return null!==I&&(I=this.removeEmptyProps(I)),function S4(i,e,t,o,s){if(0===t.length)return BT(e.root,e.root,e,o,s);const u=function A4(i){if("string"==typeof i[0]&&1===i.length&&"/"===i[0])return new NN(!0,0,i);let e=0,t=!1;const o=i.reduce((s,u,d)=>{if("object"==typeof u&&null!=u){if(u.outlets){const m={};return ws(u.outlets,(y,b)=>{m[b]="string"==typeof y?y.split("/"):y}),[...s,{outlets:m}]}if(u.segmentPath)return[...s,u.segmentPath]}return"string"!=typeof u?[...s,u]:0===d?(u.split("/").forEach((m,y)=>{0==y&&"."===m||(0==y&&""===m?t=!0:".."===m?e++:""!=m&&s.push(m))}),s):[...s,u]},[]);return new NN(t,e,o)}(t);if(u.toRoot())return BT(e.root,new Tn([],{}),e,o,s);const d=function x4(i,e,t){if(i.isAbsolute)return new VT(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const u=t.snapshot._urlSegment;return new VT(u,u===e.root,0)}const o=nC(i.commands[0])?0:1;return function M4(i,e,t){let o=i,s=e,u=t;for(;u>s;){if(u-=s,o=o.parent,!o)throw new Error("Invalid number of '../'");s=o.segments.length}return new VT(o,!1,s-u)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+o,i.numberOfDoubleDots)}(u,e,i),m=d.processChildren?rC(d.segmentGroup,d.index,u.commands):PN(d.segmentGroup,d.index,u.commands);return BT(d.segmentGroup,m,e,o,s)}(b,this.currentUrlTree,t,I,null!=C?C:null)}navigateByUrl(t,o={skipLocationChange:!1}){const s=gy(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,o)}navigate(t,o={skipLocationChange:!1}){return function F5(i){for(let e=0;e<i.length;e++){const t=i[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,o),o)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let o;try{o=this.urlSerializer.parse(t)}catch(s){o=this.malformedUriErrorHandler(s,this.urlSerializer,t)}return o}isActive(t,o){let s;if(s=!0===o?Object.assign({},N5):!1===o?Object.assign({},P5):o,gy(t))return vN(this.currentUrlTree,t,s);const u=this.parseUrl(t);return vN(this.currentUrlTree,u,s)}removeEmptyProps(t){return Object.keys(t).reduce((o,s)=>{const u=t[s];return null!=u&&(o[s]=u),o},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new R0(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,o,s,u,d){var m,y,b;if(this.disposed)return Promise.resolve(!1);const C=this.transitions.value,I=lC(o)&&C&&!lC(C.source),M=C.rawUrl.toString()===t.toString(),O=C.id===(null===(m=this.currentNavigation)||void 0===m?void 0:m.id);if(I&&M&&O)return Promise.resolve(!0);let q,X,ae;d?(q=d.resolve,X=d.reject,ae=d.promise):ae=new Promise((Le,ut)=>{q=Le,X=ut});const Y=++this.navigationId;let Te;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(s=this.location.getState()),Te=s&&s.\u0275routerPageId?s.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?null!==(y=this.browserPageId)&&void 0!==y?y:0:(null!==(b=this.browserPageId)&&void 0!==b?b:0)+1):Te=0,this.setTransition({id:Y,targetPageId:Te,source:o,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:u,resolve:q,reject:X,promise:ae,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ae.catch(Le=>Promise.reject(Le))}setBrowserUrl(t,o){const s=this.urlSerializer.serialize(t),u=Object.assign(Object.assign({},o.extras.state),this.generateNgRouterState(o.id,o.targetPageId));this.location.isCurrentPathEqualTo(s)||o.extras.replaceUrl?this.location.replaceState(s,"",u):this.location.go(s,"",u)}restoreHistory(t,o=!1){var s,u;if("computed"===this.canceledNavigationResolution){const d=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)||0===d?this.currentUrlTree===(null===(u=this.currentNavigation)||void 0===u?void 0:u.finalUrl)&&0===d&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(d)}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,o){const s=new cN(t.id,this.serializeUrl(t.extractedUrl),o);this.triggerEvent(s),t.resolve(!1)}generateNgRouterState(t,o){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:o}:{navigationId:t}}}return i.\u0275fac=function(t){dE()},i.\u0275prov=Xe({token:i,factory:i.\u0275fac}),i})();function lC(i){return"imperative"!==i}class tP{}class nP{preload(e,t){return St(null)}}let rP=(()=>{class i{constructor(t,o,s,u){this.router=t,this.injector=s,this.preloadingStrategy=u,this.loader=new ZN(s,o,y=>t.triggerEvent(new lN(y)),y=>t.triggerEvent(new hN(y)))}setUpPreloading(){this.subscription=this.router.events.pipe(Xo(t=>t instanceof R0),A_(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(If);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,o){const s=[];for(const u of o)if(u.loadChildren&&!u.canLoad&&u._loadedConfig){const d=u._loadedConfig;s.push(this.processRoutes(d.module,d.routes))}else u.loadChildren&&!u.canLoad?s.push(this.preloadConfig(t,u)):u.children&&s.push(this.processRoutes(t,u.children));return wr(s).pipe(Wc(),je(u=>{}))}preloadConfig(t,o){return this.preloadingStrategy.preload(o,()=>(o._loadedConfig?St(o._loadedConfig):this.loader.load(t.injector,o)).pipe(nr(u=>(o._loadedConfig=u,this.processRoutes(u.module,u.routes)))))}}return i.\u0275fac=function(t){return new(t||i)(ce(Zs),ce(xE),ce(ie),ce(tP))},i.\u0275prov=Xe({token:i,factory:i.\u0275fac}),i})(),QT=(()=>{class i{constructor(t,o,s={}){this.router=t,this.viewportScroller=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof MT?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof R0&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof dN&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,o){this.router.triggerEvent(new dN(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return i.\u0275fac=function(t){dE()},i.\u0275prov=Xe({token:i,factory:i.\u0275fac}),i})();const yy=new Qe("ROUTER_CONFIGURATION"),iP=new Qe("ROUTER_FORROOT_GUARD"),j5=[I0,{provide:EN,useClass:CN},{provide:Zs,useFactory:function G5(i,e,t,o,s,u,d={},m,y){const b=new Zs(null,i,e,t,o,s,mN(u));return m&&(b.urlHandlingStrategy=m),y&&(b.routeReuseStrategy=y),function $5(i,e){i.errorHandler&&(e.errorHandler=i.errorHandler),i.malformedUriErrorHandler&&(e.malformedUriErrorHandler=i.malformedUriErrorHandler),i.onSameUrlNavigation&&(e.onSameUrlNavigation=i.onSameUrlNavigation),i.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=i.paramsInheritanceStrategy),i.relativeLinkResolution&&(e.relativeLinkResolution=i.relativeLinkResolution),i.urlUpdateStrategy&&(e.urlUpdateStrategy=i.urlUpdateStrategy),i.canceledNavigationResolution&&(e.canceledNavigationResolution=i.canceledNavigationResolution)}(d,b),d.enableTracing&&b.events.subscribe(C=>{var I,M;null===(I=console.group)||void 0===I||I.call(console,`Router Event: ${C.constructor.name}`),console.log(C.toString()),console.log(C),null===(M=console.groupEnd)||void 0===M||M.call(console)}),b},deps:[EN,V0,I0,ie,xE,$T,yy,[class M5{},new Ir],[class S5{},new Ir]]},V0,{provide:R_,useFactory:function K5(i){return i.routerState.root},deps:[Zs]},rP,nP,class V5{preload(e,t){return t().pipe(Rf(()=>St(null)))}},{provide:yy,useValue:{enableTracing:!1}}];function U5(){return new nO("Router",Zs)}let oP=(()=>{class i{constructor(t,o){}static forRoot(t,o){return{ngModule:i,providers:[j5,sP(t),{provide:iP,useFactory:z5,deps:[[Zs,new Ir,new ml]]},{provide:yy,useValue:o||{}},{provide:S_,useFactory:q5,deps:[fy,[new Ee(oT),new Ir],yy]},{provide:QT,useFactory:H5,deps:[Zs,KG,yy]},{provide:tP,useExisting:o&&o.preloadingStrategy?o.preloadingStrategy:nP},{provide:nO,multi:!0,useFactory:U5},[YT,{provide:SE,multi:!0,useFactory:W5,deps:[YT]},{provide:aP,useFactory:Q5,deps:[YT]},{provide:QR,multi:!0,useExisting:aP}]]}}static forChild(t){return{ngModule:i,providers:[sP(t)]}}}return i.\u0275fac=function(t){return new(t||i)(ce(iP,8),ce(Zs,8))},i.\u0275mod=kn({type:i}),i.\u0275inj=Be({}),i})();function H5(i,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new QT(i,e,t)}function q5(i,e,t={}){return t.useHash?new xz(i,e):new DO(i,e)}function z5(i){return"guarded"}function sP(i){return[{provide:xd,multi:!0,useValue:i},{provide:$T,multi:!0,useValue:i}]}let YT=(()=>{class i{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new et}appInitializer(){return this.injector.get(Tz,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let o=null;const s=new Promise(m=>o=m),u=this.injector.get(Zs),d=this.injector.get(yy);return"disabled"===d.initialNavigation?(u.setUpLocationChangeListener(),o(!0)):"enabled"===d.initialNavigation||"enabledBlocking"===d.initialNavigation?(u.hooks.afterPreactivation=()=>this.initNavigation?St(null):(this.initNavigation=!0,o(!0),this.resultOfPreactivationDone),u.initialNavigation()):o(!0),s})}bootstrapListener(t){const o=this.injector.get(yy),s=this.injector.get(rP),u=this.injector.get(QT),d=this.injector.get(Zs),m=this.injector.get(I_);t===m.components[0]&&(("enabledNonBlocking"===o.initialNavigation||void 0===o.initialNavigation)&&d.initialNavigation(),s.setUpPreloading(),u.init(),d.resetRootComponentType(m.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return i.\u0275fac=function(t){return new(t||i)(ce(ie))},i.\u0275prov=Xe({token:i,factory:i.\u0275fac}),i})();function W5(i){return i.appInitializer.bind(i)}function Q5(i){return i.bootstrapListener.bind(i)}const aP=new Qe("Router Initializer"),Lu=$t(707);class Bu{static init(e){return Lu.default.initializeApp(e),[]}static getFirestore(){return Lu.default.firestore()}static _getFirestore(){return Lu.default.firestore}static getAuth(){return Lu.default.auth()}static getStorage(){return Lu.default.storage()}static getFirestoreTimestamp(){return Lu.default.firestore.Timestamp.now()}}$t(766);class q0{constructor(){this.auth=Bu.getAuth()}createAccountWith(e){return new Promise((t,o)=>{this.auth.createUserWithEmailAndPassword(e.email,e.password).then(s=>{try{e.onComplete(s)}catch(u){}t(s)}).catch(s=>{try{e.onFail(s)}catch(u){}o(s)})})}signInAnonymously(e){return new Promise((t,o)=>{this.auth.signInAnonymously().then(s=>{try{e.onComplete(s)}catch(u){}t(s)}).catch(s=>{try{e.onFail(s)}catch(u){}o(s)})})}signInWith(e){return new Promise((t,o)=>{e.provider?this.auth.signInWithPopup(this.getProvider(e.provider)).then(s=>{try{e.onComplete(s)}catch(u){}t(s)}).catch(s=>{try{e.onFail(s)}catch(u){}o(s)}):this.auth.signInWithEmailAndPassword(e.email,e.password).then(s=>{try{e.onComplete(s)}catch(u){}t(s)}).catch(s=>{try{e.onFail(s)}catch(u){}o(s)})})}getProvider(e){switch(e.toLowerCase()){case"google":return new Lu.default.auth.GoogleAuthProvider;case"apple":return new Lu.default.auth.OAuthProvider("apple.com");case"facebook":return new Lu.default.auth.FacebookAuthProvider;case"yahoo":return new Lu.default.auth.OAuthProvider("yahoo.com");case"github":return new Lu.default.auth.GithubAuthProvider;case"twitter":return new Lu.default.auth.TwitterAuthProvider;case"microsoft":return new Lu.default.auth.OAuthProvider("microsoft.com")}}signOut(e){return new Promise((t,o)=>{e?this.auth.signOut().then(()=>{try{e.onComplete()}catch(s){}t()}).catch(()=>{try{e.onFail()}catch(s){}o(new Error("Failed to signout."))}):this.auth.signOut()})}listenToSignInStateChanges(e){this.auth.onAuthStateChanged(t=>{e(t)})}sendVerificationEmail(){try{this.validateIsSignedIn(),this.auth.currentUser.sendEmailVerification()}catch(e){console.error(`${e} User must be signed in to use the sendVerificaitonEmail() function.`)}}sendPasswordResetEmail(e){e.onComplete?this.auth.sendPasswordResetEmail(e.email).then(()=>e.onComplete(`Instructions to reset password was sent to ${e.email}.`)).catch(()=>e.onComplete("Failed to send password reset email.")):this.auth.sendPasswordResetEmail(e.email)}isEmailVerified(){try{return this.validateIsSignedIn(),this.auth.currentUser.emailVerified}catch(e){console.error(`User must be signed in to use the isEmailVerified() function. \n${e}`)}return!1}isSignedIn(){return null!=this.auth.currentUser||null!=this.auth.currentUser}validateIsSignedIn(){if(!this.isSignedIn())throw new Error("No user was signed in.")}getAuth(){return this.auth}checkSignInState(e){let t=this.getAuth().currentUser;try{e.whenChanged(t)}catch(o){}if(this.isSignedIn()){try{e.whenSignedIn(t)}catch(o){}if(this.isEmailVerified())try{e.whenSignedInAndEmailVerified(t)}catch(o){}else try{e.whenSignedInAndEmailNotVerified(t)}catch(o){}}else try{e.whenSignedOut(t)}catch(o){}}}const X5=new Qe("cdk-dir-doc",{providedIn:"root",factory:function J5(){return va(_n)}}),Z5=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let XT,hC=(()=>{class i{constructor(t){if(this.value="ltr",this.change=new $i,t){const s=t.documentElement?t.documentElement.dir:null;this.value=function e6(i){const e=(null==i?void 0:i.toLowerCase())||"";return"auto"===e&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?Z5.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||s||"ltr")}}ngOnDestroy(){this.change.complete()}}return i.\u0275fac=function(t){return new(t||i)(ce(X5,8))},i.\u0275prov=Xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),z0=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=kn({type:i}),i.\u0275inj=Be({}),i})();try{XT="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(i){XT=!1}let G0,vy,JT,$h=(()=>{class i{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function $G(i){return i===VO}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!XT)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return i.\u0275fac=function(t){return new(t||i)(ce(AE))},i.\u0275prov=Xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function dC(i){return function t6(){if(null==G0&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>G0=!0}))}finally{G0=G0||!1}return G0}()?i:!!i.capture}function n6(){if(null==vy){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return vy=!1,vy;if("scrollBehavior"in document.documentElement.style)vy=!0;else{const i=Element.prototype.scrollTo;vy=!!i&&!/\{\s*\[native code\]\s*\}/.test(i.toString())}}return vy}function ZT(){let i="undefined"!=typeof document&&document?document.activeElement:null;for(;i&&i.shadowRoot;){const e=i.shadowRoot.activeElement;if(e===i)break;i=e}return i}function _y(i){return i.composedPath?i.composedPath()[0]:i.target}function eS(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}function rS(i,...e){return e.length?e.some(t=>i[t]):i.altKey||i.shiftKey||i.ctrlKey||i.metaKey}class _6 extends At{constructor(e,t){super()}schedule(e,t=0){return this}}const pC={setInterval(...i){const{delegate:e}=pC;return((null==e?void 0:e.setInterval)||setInterval)(...i)},clearInterval(i){const{delegate:e}=pC;return((null==e?void 0:e.clearInterval)||clearInterval)(i)},delegate:void 0};class iS extends _6{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const o=this.id,s=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(s,o,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,o=0){return pC.setInterval(e.flush.bind(e,this),o)}recycleAsyncId(e,t,o=0){if(null!=o&&this.delay===o&&!1===this.pending)return t;pC.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const o=this._execute(e,t);if(o)return o;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let s,o=!1;try{this.work(e)}catch(u){o=!0,s=u||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),s}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:o}=t;this.work=this.state=this.scheduler=null,this.pending=!1,dt(o,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const fP={now:()=>(fP.delegate||Date).now(),delegate:void 0};class $0{constructor(e,t=$0.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,o){return new this.schedulerActionCtor(this,e).schedule(o,t)}}$0.now=fP.now;class oS extends $0{constructor(e,t=$0.now){super(e,t),this.actions=[],this._active=!1,this._scheduled=void 0}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let o;this._active=!0;do{if(o=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,o){for(;e=t.shift();)e.unsubscribe();throw o}}}const sS=new oS(iS),pP=sS;function C6(i,e){return i===e}function K0(i){return Ge((e,t)=>{W(i).subscribe(new Ie(t,()=>t.complete(),Me)),!t.closed&&e.subscribe(t)})}function W0(i){return null!=i&&"false"!=`${i}`}function mP(i){return Array.isArray(i)?i:[i]}function co(i){return null==i?"":"string"==typeof i?i:`${i}px`}function P_(i){return i instanceof Ro?i.nativeElement:i}let I6=(()=>{class i{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),gP=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=kn({type:i}),i.\u0275inj=Be({providers:[I6]}),i})();class x6 extends class A6{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new et,this._typeaheadSubscription=At.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new et,this.change=new et,e instanceof w_&&e.changes.subscribe(t=>{if(this._activeItem){const s=t.toArray().indexOf(this._activeItem);s>-1&&s!==this._activeItemIndex&&(this._activeItemIndex=s)}})}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(bs(t=>this._pressedLetters.push(t)),function b6(i,e=sS){return Ge((t,o)=>{let s=null,u=null,d=null;const m=()=>{if(s){s.unsubscribe(),s=null;const b=u;u=null,o.next(b)}};function y(){const b=d+i,C=e.now();if(C<b)return s=this.schedule(void 0,b-C),void o.add(s);m()}t.subscribe(new Ie(o,b=>{u=b,d=e.now(),s||(s=e.schedule(y,i),o.add(s))},()=>{m(),o.complete()},void 0,()=>{u=s=null}))})}(e),Xo(()=>this._pressedLetters.length>0),je(()=>this._pressedLetters.join(""))).subscribe(t=>{const o=this._getItemsArray();for(let s=1;s<o.length+1;s++){const u=(this._activeItemIndex+s)%o.length,d=o[u];if(!this._skipPredicateFn(d)&&0===d.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(u);break}}this._pressedLetters=[]}),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,s=["altKey","ctrlKey","metaKey","shiftKey"].every(u=>!e[u]||this._allowedModifierKeys.indexOf(u)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&s){this.setNextItemActive();break}return;case 38:if(this._vertical&&s){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&s){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&s){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&s){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&s){this.setLastItemActive();break}return;default:return void((s||rS(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),o="number"==typeof e?e:t.indexOf(e),s=t[o];this._activeItem=null==s?null:s,this._activeItemIndex=o}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let o=1;o<=t.length;o++){const s=(this._activeItemIndex+e*o+t.length)%t.length;if(!this._skipPredicateFn(t[s]))return void this.setActiveItem(s)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const o=this._getItemsArray();if(o[e]){for(;this._skipPredicateFn(o[e]);)if(!o[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof w_?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}let _P=(()=>{class i{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function k6(i){return!!(i.offsetWidth||i.offsetHeight||"function"==typeof i.getClientRects&&i.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const o=function M6(i){try{return i.frameElement}catch(e){return null}}(function V6(i){return i.ownerDocument&&i.ownerDocument.defaultView||window}(t));if(o&&(-1===wP(o)||!this.isVisible(o)))return!1;let s=t.nodeName.toLowerCase(),u=wP(t);return t.hasAttribute("contenteditable")?-1!==u:!("iframe"===s||"object"===s||this._platform.WEBKIT&&this._platform.IOS&&!function L6(i){let e=i.nodeName.toLowerCase(),t="input"===e&&i.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===s?!!t.hasAttribute("controls")&&-1!==u:"video"===s?-1!==u&&(null!==u||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,o){return function B6(i){return!function O6(i){return function P6(i){return"input"==i.nodeName.toLowerCase()}(i)&&"hidden"==i.type}(i)&&(function R6(i){let e=i.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(i)||function N6(i){return function F6(i){return"a"==i.nodeName.toLowerCase()}(i)&&i.hasAttribute("href")}(i)||i.hasAttribute("contenteditable")||bP(i))}(t)&&!this.isDisabled(t)&&((null==o?void 0:o.ignoreVisibility)||this.isVisible(t))}}return i.\u0275fac=function(t){return new(t||i)(ce($h))},i.\u0275prov=Xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function bP(i){if(!i.hasAttribute("tabindex")||void 0===i.tabIndex)return!1;let e=i.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function wP(i){if(!bP(i))return null;const e=parseInt(i.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class j6{constructor(e,t,o,s,u=!1){this._element=e,this._checker=t,this._ngZone=o,this._document=s,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,u||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const o=this._getFirstTabbableElement(t);return null==o||o.focus(e),!!o}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let o=0;o<t.length;o++){const s=t[o].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[o]):null;if(s)return s}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let o=t.length-1;o>=0;o--){const s=t[o].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[o]):null;if(s)return s}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(ei(1)).subscribe(e)}}let U6=(()=>{class i{constructor(t,o,s){this._checker=t,this._ngZone=o,this._document=s}create(t,o=!1){return new j6(t,this._checker,this._ngZone,this._document,o)}}return i.\u0275fac=function(t){return new(t||i)(ce(_P),ce(An),ce(_n))},i.\u0275prov=Xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function aS(i){return 0===i.buttons||0===i.offsetX&&0===i.offsetY}function uS(i){const e=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const H6=new Qe("cdk-input-modality-detector-options"),q6={ignoreKeys:[18,17,224,91,16]},F_=dC({passive:!0,capture:!0});let z6=(()=>{class i{constructor(t,o,s,u){this._platform=t,this._mostRecentTarget=null,this._modality=new jc(null),this._lastTouchMs=0,this._onKeydown=d=>{var m,y;(null===(y=null===(m=this._options)||void 0===m?void 0:m.ignoreKeys)||void 0===y?void 0:y.some(b=>b===d.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=_y(d))},this._onMousedown=d=>{Date.now()-this._lastTouchMs<650||(this._modality.next(aS(d)?"keyboard":"mouse"),this._mostRecentTarget=_y(d))},this._onTouchstart=d=>{uS(d)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=_y(d))},this._options=Object.assign(Object.assign({},q6),u),this.modalityDetected=this._modality.pipe(function w6(i){return Xo((e,t)=>i<=t)}(1)),this.modalityChanged=this.modalityDetected.pipe(function E6(i,e=te){return i=null!=i?i:C6,Ge((t,o)=>{let s,u=!0;t.subscribe(new Ie(o,d=>{const m=e(d);(u||!i(s,m))&&(u=!1,s=m,o.next(d))}))})}()),t.isBrowser&&o.runOutsideAngular(()=>{s.addEventListener("keydown",this._onKeydown,F_),s.addEventListener("mousedown",this._onMousedown,F_),s.addEventListener("touchstart",this._onTouchstart,F_)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,F_),document.removeEventListener("mousedown",this._onMousedown,F_),document.removeEventListener("touchstart",this._onTouchstart,F_))}}return i.\u0275fac=function(t){return new(t||i)(ce($h),ce(An),ce(_n),ce(H6,8))},i.\u0275prov=Xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const $6=new Qe("cdk-focus-monitor-default-options"),mC=dC({passive:!0,capture:!0});let gC=(()=>{class i{constructor(t,o,s,u,d){this._ngZone=t,this._platform=o,this._inputModalityDetector=s,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new et,this._rootNodeFocusAndBlurListener=m=>{const y=_y(m),b="focus"===m.type?this._onFocus:this._onBlur;for(let C=y;C;C=C.parentElement)b.call(this,m,C)},this._document=u,this._detectionMode=(null==d?void 0:d.detectionMode)||0}monitor(t,o=!1){const s=P_(t);if(!this._platform.isBrowser||1!==s.nodeType)return St(null);const u=function i6(i){if(function r6(){if(null==JT){const i="undefined"!=typeof document?document.head:null;JT=!(!i||!i.createShadowRoot&&!i.attachShadow)}return JT}()){const e=i.getRootNode?i.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(s)||this._getDocument(),d=this._elementInfo.get(s);if(d)return o&&(d.checkChildren=!0),d.subject;const m={checkChildren:o,subject:new et,rootNode:u};return this._elementInfo.set(s,m),this._registerGlobalListeners(m),m.subject}stopMonitoring(t){const o=P_(t),s=this._elementInfo.get(o);s&&(s.subject.complete(),this._setClasses(o),this._elementInfo.delete(o),this._removeGlobalListeners(s))}focusVia(t,o,s){const u=P_(t);u===this._getDocument().activeElement?this._getClosestElementsInfo(u).forEach(([m,y])=>this._originChanged(m,o,y)):(this._setOrigin(o),"function"==typeof u.focus&&u.focus(s))}ngOnDestroy(){this._elementInfo.forEach((t,o)=>this.stopMonitoring(o))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,o){t.classList.toggle("cdk-focused",!!o),t.classList.toggle("cdk-touch-focused","touch"===o),t.classList.toggle("cdk-keyboard-focused","keyboard"===o),t.classList.toggle("cdk-mouse-focused","mouse"===o),t.classList.toggle("cdk-program-focused","program"===o)}_setOrigin(t,o=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&o,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,o){const s=this._elementInfo.get(o),u=_y(t);!s||!s.checkChildren&&o!==u||this._originChanged(o,this._getFocusOrigin(u),s)}_onBlur(t,o){const s=this._elementInfo.get(o);!s||s.checkChildren&&t.relatedTarget instanceof Node&&o.contains(t.relatedTarget)||(this._setClasses(o),this._emitOrigin(s.subject,null))}_emitOrigin(t,o){this._ngZone.run(()=>t.next(o))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const o=t.rootNode,s=this._rootNodeFocusListenerCount.get(o)||0;s||this._ngZone.runOutsideAngular(()=>{o.addEventListener("focus",this._rootNodeFocusAndBlurListener,mC),o.addEventListener("blur",this._rootNodeFocusAndBlurListener,mC)}),this._rootNodeFocusListenerCount.set(o,s+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(K0(this._stopInputModalityDetector)).subscribe(u=>{this._setOrigin(u,!0)}))}_removeGlobalListeners(t){const o=t.rootNode;if(this._rootNodeFocusListenerCount.has(o)){const s=this._rootNodeFocusListenerCount.get(o);s>1?this._rootNodeFocusListenerCount.set(o,s-1):(o.removeEventListener("focus",this._rootNodeFocusAndBlurListener,mC),o.removeEventListener("blur",this._rootNodeFocusAndBlurListener,mC),this._rootNodeFocusListenerCount.delete(o))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,o,s){this._setClasses(t,o),this._emitOrigin(s.subject,o),this._lastFocusOrigin=o}_getClosestElementsInfo(t){const o=[];return this._elementInfo.forEach((s,u)=>{(u===t||s.checkChildren&&u.contains(t))&&o.push([u,s])}),o}}return i.\u0275fac=function(t){return new(t||i)(ce(An),ce($h),ce(z6),ce(_n,8),ce($6,8))},i.\u0275prov=Xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const CP="cdk-high-contrast-black-on-white",DP="cdk-high-contrast-white-on-black",cS="cdk-high-contrast-active";let IP=(()=>{class i{constructor(t,o){this._platform=t,this._document=o}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const o=this._document.defaultView||window,s=o&&o.getComputedStyle?o.getComputedStyle(t):null,u=(s&&s.backgroundColor||"").replace(/ /g,"");switch(t.remove(),u){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(cS),t.remove(CP),t.remove(DP),this._hasCheckedHighContrastMode=!0;const o=this.getHighContrastMode();1===o?(t.add(cS),t.add(CP)):2===o&&(t.add(cS),t.add(DP))}}}return i.\u0275fac=function(t){return new(t||i)(ce($h),ce(_n))},i.\u0275prov=Xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),K6=(()=>{class i{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return i.\u0275fac=function(t){return new(t||i)(ce(IP))},i.\u0275mod=kn({type:i}),i.\u0275inj=Be({imports:[[gP]]}),i})();class TP{}const Pf="*";function yC(i,e){return{type:7,name:i,definitions:e,options:{}}}function L_(i,e=null){return{type:4,styles:e,timings:i}}function SP(i,e=null){return{type:2,steps:i,options:e}}function Vu(i){return{type:6,styles:i,offset:null}}function Q0(i,e,t){return{type:0,name:i,styles:e,options:t}}function B_(i,e,t=null){return{type:1,expr:i,animation:e,options:t}}function AP(i){Promise.resolve(null).then(i)}class V_{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){AP(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(o=>o()),t.length=0}}class xP{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,o=0,s=0;const u=this.players.length;0==u?AP(()=>this._onFinish()):this.players.forEach(d=>{d.onDone(()=>{++t==u&&this._onFinish()}),d.onDestroy(()=>{++o==u&&this._onDestroy()}),d.onStart(()=>{++s==u&&this._onStart()})}),this.totalTime=this.players.reduce((d,m)=>Math.max(d,m.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(o=>{const s=o.totalTime?Math.min(1,t/o.totalTime):1;o.setPosition(s)})}getPosition(){const e=this.players.reduce((t,o)=>null===t||o.totalTime>t.totalTime?o:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(o=>o()),t.length=0}}function MP(){return"undefined"!=typeof window&&void 0!==window.document}function hS(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Im(i){switch(i.length){case 0:return new V_;case 1:return i[0];default:return new xP(i)}}function kP(i,e,t,o,s={},u={}){const d=[],m=[];let y=-1,b=null;if(o.forEach(C=>{const I=C.offset,M=I==y,O=M&&b||{};Object.keys(C).forEach(L=>{let q=L,X=C[L];if("offset"!==L)switch(q=e.normalizePropertyName(q,d),X){case"!":X=s[L];break;case Pf:X=u[L];break;default:X=e.normalizeStyleValue(L,q,X,d)}O[q]=X}),M||m.push(O),b=O,y=I}),d.length){const C="\n - ";throw new Error(`Unable to animate due to the following errors:${C}${d.join(C)}`)}return m}function dS(i,e,t,o){switch(e){case"start":i.onStart(()=>o(t&&fS(t,"start",i)));break;case"done":i.onDone(()=>o(t&&fS(t,"done",i)));break;case"destroy":i.onDestroy(()=>o(t&&fS(t,"destroy",i)))}}function fS(i,e,t){const o=t.totalTime,u=pS(i.element,i.triggerName,i.fromState,i.toState,e||i.phaseName,null==o?i.totalTime:o,!!t.disabled),d=i._data;return null!=d&&(u._data=d),u}function pS(i,e,t,o,s="",u=0,d){return{element:i,triggerName:e,fromState:t,toState:o,phaseName:s,totalTime:u,disabled:!!d}}function ju(i,e,t){let o;return i instanceof Map?(o=i.get(e),o||i.set(e,o=t)):(o=i[e],o||(o=i[e]=t)),o}function RP(i){const e=i.indexOf(":");return[i.substring(1,e),i.substr(e+1)]}let mS=(i,e)=>!1,OP=(i,e,t)=>[];(hS()||"undefined"!=typeof Element)&&(mS=MP()?(i,e)=>{for(;e&&e!==document.documentElement;){if(e===i)return!0;e=e.parentNode||e.host}return!1}:(i,e)=>i.contains(e),OP=(i,e,t)=>{if(t)return Array.from(i.querySelectorAll(e));const o=i.querySelector(e);return o?[o]:[]});let by=null,NP=!1;function gS(i){by||(by=function Y6(){return"undefined"!=typeof document?document.body:null}()||{},NP=!!by.style&&"WebkitAppearance"in by.style);let e=!0;return by.style&&!function Q6(i){return"ebkit"==i.substring(1,6)}(i)&&(e=i in by.style,!e&&NP&&(e="Webkit"+i.charAt(0).toUpperCase()+i.substr(1)in by.style)),e}const yS=mS,vS=OP;function PP(i){const e={};return Object.keys(i).forEach(t=>{const o=t.replace(/([a-z])([A-Z])/g,"$1-$2");e[o]=i[t]}),e}let FP=(()=>{class i{validateStyleProperty(t){return gS(t)}matchesElement(t,o){return!1}containsElement(t,o){return yS(t,o)}query(t,o,s){return vS(t,o,s)}computeStyle(t,o,s){return s||""}animate(t,o,s,u,d,m=[],y){return new V_(s,u)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Xe({token:i,factory:i.\u0275fac}),i})(),_S=(()=>{class i{}return i.NOOP=new FP,i})();const bS="ng-enter",vC="ng-leave",_C="ng-trigger",bC=".ng-trigger",BP="ng-animating",wS=".ng-animating";function wy(i){if("number"==typeof i)return i;const e=i.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:ES(parseFloat(e[1]),e[2])}function ES(i,e){return"s"===e?1e3*i:i}function wC(i,e,t){return i.hasOwnProperty("duration")?i:function Z6(i,e,t){let s,u=0,d="";if("string"==typeof i){const m=i.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===m)return e.push(`The provided timing value "${i}" is invalid.`),{duration:0,delay:0,easing:""};s=ES(parseFloat(m[1]),m[2]);const y=m[3];null!=y&&(u=ES(parseFloat(y),m[4]));const b=m[5];b&&(d=b)}else s=i;if(!t){let m=!1,y=e.length;s<0&&(e.push("Duration values below 0 are not allowed for this animation step."),m=!0),u<0&&(e.push("Delay values below 0 are not allowed for this animation step."),m=!0),m&&e.splice(y,0,`The provided timing value "${i}" is invalid.`)}return{duration:s,delay:u,easing:d}}(i,e,t)}function j_(i,e={}){return Object.keys(i).forEach(t=>{e[t]=i[t]}),e}function Tm(i,e,t={}){if(e)for(let o in i)t[o]=i[o];else j_(i,t);return t}function jP(i,e,t){return t?e+":"+t+";":""}function UP(i){let e="";for(let t=0;t<i.style.length;t++){const o=i.style.item(t);e+=jP(0,o,i.style.getPropertyValue(o))}for(const t in i.style)i.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=jP(0,n8(t),i.style[t]));i.setAttribute("style",e)}function Kh(i,e,t){i.style&&(Object.keys(e).forEach(o=>{const s=DS(o);t&&!t.hasOwnProperty(o)&&(t[o]=i.style[s]),i.style[s]=e[o]}),hS()&&UP(i))}function Ey(i,e){i.style&&(Object.keys(e).forEach(t=>{const o=DS(t);i.style[o]=""}),hS()&&UP(i))}function Y0(i){return Array.isArray(i)?1==i.length?i[0]:SP(i):i}const CS=new RegExp("{{\\s*(.+?)\\s*}}","g");function HP(i){let e=[];if("string"==typeof i){let t;for(;t=CS.exec(i);)e.push(t[1]);CS.lastIndex=0}return e}function EC(i,e,t){const o=i.toString(),s=o.replace(CS,(u,d)=>{let m=e[d];return e.hasOwnProperty(d)||(t.push(`Please provide a value for the animation param ${d}`),m=""),m.toString()});return s==o?i:s}function CC(i){const e=[];let t=i.next();for(;!t.done;)e.push(t.value),t=i.next();return e}const t8=/-+([a-z0-9])/g;function DS(i){return i.replace(t8,(...e)=>e[1].toUpperCase())}function n8(i){return i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function qP(i,e){return 0===i||0===e}function zP(i,e,t){const o=Object.keys(t);if(o.length&&e.length){let u=e[0],d=[];if(o.forEach(m=>{u.hasOwnProperty(m)||d.push(m),u[m]=t[m]}),d.length)for(var s=1;s<e.length;s++){let m=e[s];d.forEach(function(y){m[y]=IS(i,y)})}}return e}function Uu(i,e,t){switch(e.type){case 7:return i.visitTrigger(e,t);case 0:return i.visitState(e,t);case 1:return i.visitTransition(e,t);case 2:return i.visitSequence(e,t);case 3:return i.visitGroup(e,t);case 4:return i.visitAnimate(e,t);case 5:return i.visitKeyframes(e,t);case 6:return i.visitStyle(e,t);case 8:return i.visitReference(e,t);case 9:return i.visitAnimateChild(e,t);case 10:return i.visitAnimateRef(e,t);case 11:return i.visitQuery(e,t);case 12:return i.visitStagger(e,t);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function IS(i,e){return window.getComputedStyle(i)[e]}function r8(i,e){const t=[];return"string"==typeof i?i.split(/\s*,\s*/).forEach(o=>function i8(i,e,t){if(":"==i[0]){const y=function o8(i,e){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,o)=>parseFloat(o)>parseFloat(t);case":decrement":return(t,o)=>parseFloat(o)<parseFloat(t);default:return e.push(`The transition alias value "${i}" is not supported`),"* => *"}}(i,t);if("function"==typeof y)return void e.push(y);i=y}const o=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==o||o.length<4)return t.push(`The provided transition expression "${i}" is not supported`),e;const s=o[1],u=o[2],d=o[3];e.push(GP(s,d));"<"==u[0]&&!("*"==s&&"*"==d)&&e.push(GP(d,s))}(o,t,e)):t.push(i),t}const IC=new Set(["true","1"]),TC=new Set(["false","0"]);function GP(i,e){const t=IC.has(i)||TC.has(i),o=IC.has(e)||TC.has(e);return(s,u)=>{let d="*"==i||i==s,m="*"==e||e==u;return!d&&t&&"boolean"==typeof s&&(d=s?IC.has(i):TC.has(i)),!m&&o&&"boolean"==typeof u&&(m=u?IC.has(e):TC.has(e)),d&&m}}const s8=new RegExp("s*:selfs*,?","g");function TS(i,e,t){return new a8(i).build(e,t)}class a8{constructor(e){this._driver=e}build(e,t){const o=new l8(t);return this._resetContextStyleTimingState(o),Uu(this,Y0(e),o)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let o=t.queryCount=0,s=t.depCount=0;const u=[],d=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(m=>{if(this._resetContextStyleTimingState(t),0==m.type){const y=m,b=y.name;b.toString().split(/\s*,\s*/).forEach(C=>{y.name=C,u.push(this.visitState(y,t))}),y.name=b}else if(1==m.type){const y=this.visitTransition(m,t);o+=y.queryCount,s+=y.depCount,d.push(y)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:u,transitions:d,queryCount:o,depCount:s,options:null}}visitState(e,t){const o=this.visitStyle(e.styles,t),s=e.options&&e.options.params||null;if(o.containsDynamicStyles){const u=new Set,d=s||{};if(o.styles.forEach(m=>{if(SC(m)){const y=m;Object.keys(y).forEach(b=>{HP(y[b]).forEach(C=>{d.hasOwnProperty(C)||u.add(C)})})}}),u.size){const m=CC(u.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${m.join(", ")}`)}}return{type:0,name:e.name,style:o,options:s?{params:s}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const o=Uu(this,Y0(e.animation),t);return{type:1,matchers:r8(e.expr,t.errors),animation:o,queryCount:t.queryCount,depCount:t.depCount,options:Cy(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(o=>Uu(this,o,t)),options:Cy(e.options)}}visitGroup(e,t){const o=t.currentTime;let s=0;const u=e.steps.map(d=>{t.currentTime=o;const m=Uu(this,d,t);return s=Math.max(s,t.currentTime),m});return t.currentTime=s,{type:3,steps:u,options:Cy(e.options)}}visitAnimate(e,t){const o=function d8(i,e){let t=null;if(i.hasOwnProperty("duration"))t=i;else if("number"==typeof i)return SS(wC(i,e).duration,0,"");const o=i;if(o.split(/\s+/).some(u=>"{"==u.charAt(0)&&"{"==u.charAt(1))){const u=SS(0,0,"");return u.dynamic=!0,u.strValue=o,u}return t=t||wC(o,e),SS(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=o;let s,u=e.styles?e.styles:Vu({});if(5==u.type)s=this.visitKeyframes(u,t);else{let d=e.styles,m=!1;if(!d){m=!0;const b={};o.easing&&(b.easing=o.easing),d=Vu(b)}t.currentTime+=o.duration+o.delay;const y=this.visitStyle(d,t);y.isEmptyStep=m,s=y}return t.currentAnimateTimings=null,{type:4,timings:o,style:s,options:null}}visitStyle(e,t){const o=this._makeStyleAst(e,t);return this._validateStyleAst(o,t),o}_makeStyleAst(e,t){const o=[];Array.isArray(e.styles)?e.styles.forEach(d=>{"string"==typeof d?d==Pf?o.push(d):t.errors.push(`The provided style string value ${d} is not allowed.`):o.push(d)}):o.push(e.styles);let s=!1,u=null;return o.forEach(d=>{if(SC(d)){const m=d,y=m.easing;if(y&&(u=y,delete m.easing),!s)for(let b in m)if(m[b].toString().indexOf("{{")>=0){s=!0;break}}}),{type:6,styles:o,easing:u,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const o=t.currentAnimateTimings;let s=t.currentTime,u=t.currentTime;o&&u>0&&(u-=o.duration+o.delay),e.styles.forEach(d=>{"string"!=typeof d&&Object.keys(d).forEach(m=>{if(!this._driver.validateStyleProperty(m))return void t.errors.push(`The provided animation property "${m}" is not a supported CSS property for animations`);const y=t.collectedStyles[t.currentQuerySelector],b=y[m];let C=!0;b&&(u!=s&&u>=b.startTime&&s<=b.endTime&&(t.errors.push(`The CSS property "${m}" that exists between the times of "${b.startTime}ms" and "${b.endTime}ms" is also being animated in a parallel animation between the times of "${u}ms" and "${s}ms"`),C=!1),u=b.startTime),C&&(y[m]={startTime:u,endTime:s}),t.options&&function e8(i,e,t){const o=e.params||{},s=HP(i);s.length&&s.forEach(u=>{o.hasOwnProperty(u)||t.push(`Unable to resolve the local animation param ${u} in the given list of values`)})}(d[m],t.options,t.errors)})})}visitKeyframes(e,t){const o={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),o;let u=0;const d=[];let m=!1,y=!1,b=0;const C=e.steps.map(ae=>{const Y=this._makeStyleAst(ae,t);let Te=null!=Y.offset?Y.offset:function h8(i){if("string"==typeof i)return null;let e=null;if(Array.isArray(i))i.forEach(t=>{if(SC(t)&&t.hasOwnProperty("offset")){const o=t;e=parseFloat(o.offset),delete o.offset}});else if(SC(i)&&i.hasOwnProperty("offset")){const t=i;e=parseFloat(t.offset),delete t.offset}return e}(Y.styles),Le=0;return null!=Te&&(u++,Le=Y.offset=Te),y=y||Le<0||Le>1,m=m||Le<b,b=Le,d.push(Le),Y});y&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),m&&t.errors.push("Please ensure that all keyframe offsets are in order");const I=e.steps.length;let M=0;u>0&&u<I?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==u&&(M=1/(I-1));const O=I-1,L=t.currentTime,q=t.currentAnimateTimings,X=q.duration;return C.forEach((ae,Y)=>{const Te=M>0?Y==O?1:M*Y:d[Y],Le=Te*X;t.currentTime=L+q.delay+Le,q.duration=Le,this._validateStyleAst(ae,t),ae.offset=Te,o.styles.push(ae)}),o}visitReference(e,t){return{type:8,animation:Uu(this,Y0(e.animation),t),options:Cy(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Cy(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Cy(e.options)}}visitQuery(e,t){const o=t.currentQuerySelector,s=e.options||{};t.queryCount++,t.currentQuery=e;const[u,d]=function u8(i){const e=!!i.split(/\s*,\s*/).find(t=>":self"==t);return e&&(i=i.replace(s8,"")),i=i.replace(/@\*/g,bC).replace(/@\w+/g,t=>bC+"-"+t.substr(1)).replace(/:animating/g,wS),[i,e]}(e.selector);t.currentQuerySelector=o.length?o+" "+u:u,ju(t.collectedStyles,t.currentQuerySelector,{});const m=Uu(this,Y0(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=o,{type:11,selector:u,limit:s.limit||0,optional:!!s.optional,includeSelf:d,animation:m,originalSelector:e.selector,options:Cy(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const o="full"===e.timings?{duration:0,delay:0,easing:"full"}:wC(e.timings,t.errors,!0);return{type:12,animation:Uu(this,Y0(e.animation),t),timings:o,options:null}}}class l8{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function SC(i){return!Array.isArray(i)&&"object"==typeof i}function Cy(i){return i?(i=j_(i)).params&&(i.params=function c8(i){return i?j_(i):null}(i.params)):i={},i}function SS(i,e,t){return{duration:i,delay:e,easing:t}}function AS(i,e,t,o,s,u,d=null,m=!1){return{type:1,element:i,keyframes:e,preStyleProps:t,postStyleProps:o,duration:s,delay:u,totalTime:s+u,easing:d,subTimeline:m}}class AC{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let o=this._map.get(e);o||this._map.set(e,o=[]),o.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const m8=new RegExp(":enter","g"),y8=new RegExp(":leave","g");function xS(i,e,t,o,s,u={},d={},m,y,b=[]){return(new v8).buildKeyframes(i,e,t,o,s,u,d,m,y,b)}class v8{buildKeyframes(e,t,o,s,u,d,m,y,b,C=[]){b=b||new AC;const I=new MS(e,t,b,s,u,C,[]);I.options=y,I.currentTimeline.setStyles([d],null,I.errors,y),Uu(this,o,I);const M=I.timelines.filter(O=>O.containsAnimation());if(Object.keys(m).length){let O;for(let L=M.length-1;L>=0;L--){const q=M[L];if(q.element===t){O=q;break}}O&&!O.allowOnlyTimelineStyles()&&O.setStyles([m],null,I.errors,y)}return M.length?M.map(O=>O.buildKeyframes()):[AS(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const o=t.subInstructions.get(t.element);if(o){const s=t.createSubContext(e.options),u=t.currentTimeline.currentTime,d=this._visitSubInstructions(o,s,s.options);u!=d&&t.transformIntoNewTimeline(d)}t.previousNode=e}visitAnimateRef(e,t){const o=t.createSubContext(e.options);o.transformIntoNewTimeline(),this.visitReference(e.animation,o),t.transformIntoNewTimeline(o.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,o){let u=t.currentTimeline.currentTime;const d=null!=o.duration?wy(o.duration):null,m=null!=o.delay?wy(o.delay):null;return 0!==d&&e.forEach(y=>{const b=t.appendInstructionToTimeline(y,d,m);u=Math.max(u,b.duration+b.delay)}),u}visitReference(e,t){t.updateOptions(e.options,!0),Uu(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const o=t.subContextCount;let s=t;const u=e.options;if(u&&(u.params||u.delay)&&(s=t.createSubContext(u),s.transformIntoNewTimeline(),null!=u.delay)){6==s.previousNode.type&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=xC);const d=wy(u.delay);s.delayNextStep(d)}e.steps.length&&(e.steps.forEach(d=>Uu(this,d,s)),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>o&&s.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const o=[];let s=t.currentTimeline.currentTime;const u=e.options&&e.options.delay?wy(e.options.delay):0;e.steps.forEach(d=>{const m=t.createSubContext(e.options);u&&m.delayNextStep(u),Uu(this,d,m),s=Math.max(s,m.currentTimeline.currentTime),o.push(m.currentTimeline)}),o.forEach(d=>t.currentTimeline.mergeTimelineCollectedStyles(d)),t.transformIntoNewTimeline(s),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const o=e.strValue;return wC(t.params?EC(o,t.params,t.errors):o,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const o=t.currentAnimateTimings=this._visitTiming(e.timings,t),s=t.currentTimeline;o.delay&&(t.incrementTime(o.delay),s.snapshotCurrentStyles());const u=e.style;5==u.type?this.visitKeyframes(u,t):(t.incrementTime(o.duration),this.visitStyle(u,t),s.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const o=t.currentTimeline,s=t.currentAnimateTimings;!s&&o.getCurrentStyleProperties().length&&o.forwardFrame();const u=s&&s.easing||e.easing;e.isEmptyStep?o.applyEmptyStep(u):o.setStyles(e.styles,u,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const o=t.currentAnimateTimings,s=t.currentTimeline.duration,u=o.duration,m=t.createSubContext().currentTimeline;m.easing=o.easing,e.styles.forEach(y=>{m.forwardTime((y.offset||0)*u),m.setStyles(y.styles,y.easing,t.errors,t.options),m.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(m),t.transformIntoNewTimeline(s+u),t.previousNode=e}visitQuery(e,t){const o=t.currentTimeline.currentTime,s=e.options||{},u=s.delay?wy(s.delay):0;u&&(6===t.previousNode.type||0==o&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=xC);let d=o;const m=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!s.optional,t.errors);t.currentQueryTotal=m.length;let y=null;m.forEach((b,C)=>{t.currentQueryIndex=C;const I=t.createSubContext(e.options,b);u&&I.delayNextStep(u),b===t.element&&(y=I.currentTimeline),Uu(this,e.animation,I),I.currentTimeline.applyStylesToKeyframe(),d=Math.max(d,I.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(d),y&&(t.currentTimeline.mergeTimelineCollectedStyles(y),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const o=t.parentContext,s=t.currentTimeline,u=e.timings,d=Math.abs(u.duration),m=d*(t.currentQueryTotal-1);let y=d*t.currentQueryIndex;switch(u.duration<0?"reverse":u.easing){case"reverse":y=m-y;break;case"full":y=o.currentStaggerTime}const C=t.currentTimeline;y&&C.delayNextStep(y);const I=C.currentTime;Uu(this,e.animation,t),t.previousNode=e,o.currentStaggerTime=s.currentTime-I+(s.startTime-o.currentTimeline.startTime)}}const xC={};class MS{constructor(e,t,o,s,u,d,m,y){this._driver=e,this.element=t,this.subInstructions=o,this._enterClassName=s,this._leaveClassName=u,this.errors=d,this.timelines=m,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=xC,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=y||new MC(this._driver,t,0),m.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const o=e;let s=this.options;null!=o.duration&&(s.duration=wy(o.duration)),null!=o.delay&&(s.delay=wy(o.delay));const u=o.params;if(u){let d=s.params;d||(d=this.options.params={}),Object.keys(u).forEach(m=>{(!t||!d.hasOwnProperty(m))&&(d[m]=EC(u[m],d,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const o=e.params={};Object.keys(t).forEach(s=>{o[s]=t[s]})}}return e}createSubContext(e=null,t,o){const s=t||this.element,u=new MS(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,o||0));return u.previousNode=this.previousNode,u.currentAnimateTimings=this.currentAnimateTimings,u.options=this._copyOptions(),u.updateOptions(e),u.currentQueryIndex=this.currentQueryIndex,u.currentQueryTotal=this.currentQueryTotal,u.parentContext=this,this.subContextCount++,u}transformIntoNewTimeline(e){return this.previousNode=xC,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,o){const s={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=o?o:0)+e.delay,easing:""},u=new _8(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,s,e.stretchStartingKeyframe);return this.timelines.push(u),s}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,o,s,u,d){let m=[];if(s&&m.push(this.element),e.length>0){e=(e=e.replace(m8,"."+this._enterClassName)).replace(y8,"."+this._leaveClassName);let b=this._driver.query(this.element,e,1!=o);0!==o&&(b=o<0?b.slice(b.length+o,b.length):b.slice(0,o)),m.push(...b)}return!u&&0==m.length&&d.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),m}}class MC{constructor(e,t,o,s){this._driver=e,this.element=t,this.startTime=o,this._elementTimelineStylesLookup=s,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new MC(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Pf,this._currentKeyframe[t]=Pf}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,o,s){t&&(this._previousKeyframe.easing=t);const u=s&&s.params||{},d=function b8(i,e){const t={};let o;return i.forEach(s=>{"*"===s?(o=o||Object.keys(e),o.forEach(u=>{t[u]=Pf})):Tm(s,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(d).forEach(m=>{const y=EC(d[m],u,o);this._pendingStyles[m]=y,this._localTimelineStyles.hasOwnProperty(m)||(this._backFill[m]=this._globalTimelineStyles.hasOwnProperty(m)?this._globalTimelineStyles[m]:Pf),this._updateStyle(m,y)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(o=>{this._currentKeyframe[o]=e[o]}),Object.keys(this._localTimelineStyles).forEach(o=>{this._currentKeyframe.hasOwnProperty(o)||(this._currentKeyframe[o]=this._localTimelineStyles[o])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const o=this._styleSummary[t],s=e._styleSummary[t];(!o||s.time>o.time)&&this._updateStyle(t,s.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,o=1===this._keyframes.size&&0===this.duration;let s=[];this._keyframes.forEach((m,y)=>{const b=Tm(m,!0);Object.keys(b).forEach(C=>{const I=b[C];"!"==I?e.add(C):I==Pf&&t.add(C)}),o||(b.offset=y/this.duration),s.push(b)});const u=e.size?CC(e.values()):[],d=t.size?CC(t.values()):[];if(o){const m=s[0],y=j_(m);m.offset=0,y.offset=1,s=[m,y]}return AS(this.element,s,u,d,this.duration,this.startTime,this.easing,!1)}}class _8 extends MC{constructor(e,t,o,s,u,d,m=!1){super(e,t,d.delay),this.keyframes=o,this.preStyleProps=s,this.postStyleProps=u,this._stretchStartingKeyframe=m,this.timings={duration:d.duration,delay:d.delay,easing:d.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:o,easing:s}=this.timings;if(this._stretchStartingKeyframe&&t){const u=[],d=o+t,m=t/d,y=Tm(e[0],!1);y.offset=0,u.push(y);const b=Tm(e[0],!1);b.offset=WP(m),u.push(b);const C=e.length-1;for(let I=1;I<=C;I++){let M=Tm(e[I],!1);M.offset=WP((t+M.offset*o)/d),u.push(M)}o=d,t=0,s="",e=u}return AS(this.element,e,this.preStyleProps,this.postStyleProps,o,t,s,!0)}}function WP(i,e=3){const t=Math.pow(10,e-1);return Math.round(i*t)/t}class kS{}class w8 extends kS{normalizePropertyName(e,t){return DS(e)}normalizeStyleValue(e,t,o,s){let u="";const d=o.toString().trim();if(E8[t]&&0!==o&&"0"!==o)if("number"==typeof o)u="px";else{const m=o.match(/^[+-]?[\d\.]+([a-z]*)$/);m&&0==m[1].length&&s.push(`Please provide a CSS unit value for ${e}:${o}`)}return d+u}}const E8=(()=>function C8(i){const e={};return i.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function QP(i,e,t,o,s,u,d,m,y,b,C,I,M){return{type:0,element:i,triggerName:e,isRemovalTransition:s,fromState:t,fromStyles:u,toState:o,toStyles:d,timelines:m,queriedElements:y,preStyleProps:b,postStyleProps:C,totalTime:I,errors:M}}const RS={};class YP{constructor(e,t,o){this._triggerName=e,this.ast=t,this._stateStyles=o}match(e,t,o,s){return function D8(i,e,t,o,s){return i.some(u=>u(e,t,o,s))}(this.ast.matchers,e,t,o,s)}buildStyles(e,t,o){const s=this._stateStyles["*"],u=this._stateStyles[e],d=s?s.buildStyles(t,o):{};return u?u.buildStyles(t,o):d}build(e,t,o,s,u,d,m,y,b,C){const I=[],M=this.ast.options&&this.ast.options.params||RS,L=this.buildStyles(o,m&&m.params||RS,I),q=y&&y.params||RS,X=this.buildStyles(s,q,I),ae=new Set,Y=new Map,Te=new Map,Le="void"===s,ut={params:Object.assign(Object.assign({},M),q)},Et=C?[]:xS(e,t,this.ast.animation,u,d,L,X,ut,b,I);let tr=0;if(Et.forEach(Yi=>{tr=Math.max(Yi.duration+Yi.delay,tr)}),I.length)return QP(t,this._triggerName,o,s,Le,L,X,[],[],Y,Te,tr,I);Et.forEach(Yi=>{const qn=Yi.element,pr=ju(Y,qn,{});Yi.preStyleProps.forEach(ql=>pr[ql]=!0);const ra=ju(Te,qn,{});Yi.postStyleProps.forEach(ql=>ra[ql]=!0),qn!==t&&ae.add(qn)});const Rr=CC(ae.values());return QP(t,this._triggerName,o,s,Le,L,X,Et,Rr,Y,Te,tr)}}class I8{constructor(e,t,o){this.styles=e,this.defaultParams=t,this.normalizer=o}buildStyles(e,t){const o={},s=j_(this.defaultParams);return Object.keys(e).forEach(u=>{const d=e[u];null!=d&&(s[u]=d)}),this.styles.styles.forEach(u=>{if("string"!=typeof u){const d=u;Object.keys(d).forEach(m=>{let y=d[m];y.length>1&&(y=EC(y,s,t));const b=this.normalizer.normalizePropertyName(m,t);y=this.normalizer.normalizeStyleValue(m,b,y,t),o[b]=y})}}),o}}class S8{constructor(e,t,o){this.name=e,this.ast=t,this._normalizer=o,this.transitionFactories=[],this.states={},t.states.forEach(s=>{this.states[s.name]=new I8(s.style,s.options&&s.options.params||{},o)}),XP(this.states,"true","1"),XP(this.states,"false","0"),t.transitions.forEach(s=>{this.transitionFactories.push(new YP(e,s,this.states))}),this.fallbackTransition=function A8(i,e,t){return new YP(i,{type:1,animation:{type:2,steps:[],options:null},matchers:[(d,m)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,o,s){return this.transitionFactories.find(d=>d.match(e,t,o,s))||null}matchStyles(e,t,o){return this.fallbackTransition.buildStyles(e,t,o)}}function XP(i,e,t){i.hasOwnProperty(e)?i.hasOwnProperty(t)||(i[t]=i[e]):i.hasOwnProperty(t)&&(i[e]=i[t])}const x8=new AC;class M8{constructor(e,t,o){this.bodyNode=e,this._driver=t,this._normalizer=o,this._animations={},this._playersById={},this.players=[]}register(e,t){const o=[],s=TS(this._driver,t,o);if(o.length)throw new Error(`Unable to build the animation due to the following errors: ${o.join("\n")}`);this._animations[e]=s}_buildPlayer(e,t,o){const s=e.element,u=kP(0,this._normalizer,0,e.keyframes,t,o);return this._driver.animate(s,u,e.duration,e.delay,e.easing,[],!0)}create(e,t,o={}){const s=[],u=this._animations[e];let d;const m=new Map;if(u?(d=xS(this._driver,t,u,bS,vC,{},{},o,x8,s),d.forEach(C=>{const I=ju(m,C.element,{});C.postStyleProps.forEach(M=>I[M]=null)})):(s.push("The requested animation doesn't exist or has already been destroyed"),d=[]),s.length)throw new Error(`Unable to create the animation due to the following errors: ${s.join("\n")}`);m.forEach((C,I)=>{Object.keys(C).forEach(M=>{C[M]=this._driver.computeStyle(I,M,Pf)})});const b=Im(d.map(C=>{const I=m.get(C.element);return this._buildPlayer(C,{},I)}));return this._playersById[e]=b,b.onDestroy(()=>this.destroy(e)),this.players.push(b),b}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const o=this.players.indexOf(t);o>=0&&this.players.splice(o,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,o,s){const u=pS(t,"","","");return dS(this._getPlayer(e),o,u,s),()=>{}}command(e,t,o,s){if("register"==o)return void this.register(e,s[0]);if("create"==o)return void this.create(e,t,s[0]||{});const u=this._getPlayer(e);switch(o){case"play":u.play();break;case"pause":u.pause();break;case"reset":u.reset();break;case"restart":u.restart();break;case"finish":u.finish();break;case"init":u.init();break;case"setPosition":u.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(e)}}}const JP="ng-animate-queued",OS="ng-animate-disabled",P8=[],ZP={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},F8={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Hc="__ng_removed";class NS{constructor(e,t=""){this.namespaceId=t;const o=e&&e.hasOwnProperty("value");if(this.value=function j8(i){return null!=i?i:null}(o?e.value:e),o){const u=j_(e);delete u.value,this.options=u}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const o=this.options.params;Object.keys(t).forEach(s=>{null==o[s]&&(o[s]=t[s])})}}}const X0="void",PS=new NS(X0);class L8{constructor(e,t,o){this.id=e,this.hostElement=t,this._engine=o,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,qc(t,this._hostClassName)}listen(e,t,o,s){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${o}" because the animation trigger "${t}" doesn't exist!`);if(null==o||0==o.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if(!function U8(i){return"start"==i||"done"==i}(o))throw new Error(`The provided animation trigger event "${o}" for the animation trigger "${t}" is not supported!`);const u=ju(this._elementListeners,e,[]),d={name:t,phase:o,callback:s};u.push(d);const m=ju(this._engine.statesByElement,e,{});return m.hasOwnProperty(t)||(qc(e,_C),qc(e,_C+"-"+t),m[t]=PS),()=>{this._engine.afterFlush(()=>{const y=u.indexOf(d);y>=0&&u.splice(y,1),this._triggers[t]||delete m[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,o,s=!0){const u=this._getTrigger(t),d=new FS(this.id,t,e);let m=this._engine.statesByElement.get(e);m||(qc(e,_C),qc(e,_C+"-"+t),this._engine.statesByElement.set(e,m={}));let y=m[t];const b=new NS(o,this.id);if(!(o&&o.hasOwnProperty("value"))&&y&&b.absorbOptions(y.options),m[t]=b,y||(y=PS),b.value!==X0&&y.value===b.value){if(!function z8(i,e){const t=Object.keys(i),o=Object.keys(e);if(t.length!=o.length)return!1;for(let s=0;s<t.length;s++){const u=t[s];if(!e.hasOwnProperty(u)||i[u]!==e[u])return!1}return!0}(y.params,b.params)){const q=[],X=u.matchStyles(y.value,y.params,q),ae=u.matchStyles(b.value,b.params,q);q.length?this._engine.reportError(q):this._engine.afterFlush(()=>{Ey(e,X),Kh(e,ae)})}return}const M=ju(this._engine.playersByElement,e,[]);M.forEach(q=>{q.namespaceId==this.id&&q.triggerName==t&&q.queued&&q.destroy()});let O=u.matchTransition(y.value,b.value,e,b.params),L=!1;if(!O){if(!s)return;O=u.fallbackTransition,L=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:O,fromState:y,toState:b,player:d,isFallbackTransition:L}),L||(qc(e,JP),d.onStart(()=>{U_(e,JP)})),d.onDone(()=>{let q=this.players.indexOf(d);q>=0&&this.players.splice(q,1);const X=this._engine.playersByElement.get(e);if(X){let ae=X.indexOf(d);ae>=0&&X.splice(ae,1)}}),this.players.push(d),M.push(d),d}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,o)=>{delete t[e]}),this._elementListeners.forEach((t,o)=>{this._elementListeners.set(o,t.filter(s=>s.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(o=>o.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const o=this._engine.driver.query(e,bC,!0);o.forEach(s=>{if(s[Hc])return;const u=this._engine.fetchNamespacesByElement(s);u.size?u.forEach(d=>d.triggerLeaveAnimation(s,t,!1,!0)):this.clearElementCache(s)}),this._engine.afterFlushAnimationsDone(()=>o.forEach(s=>this.clearElementCache(s)))}triggerLeaveAnimation(e,t,o,s){const u=this._engine.statesByElement.get(e),d=new Map;if(u){const m=[];if(Object.keys(u).forEach(y=>{if(d.set(y,u[y].value),this._triggers[y]){const b=this.trigger(e,y,X0,s);b&&m.push(b)}}),m.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,d),o&&Im(m).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),o=this._engine.statesByElement.get(e);if(t&&o){const s=new Set;t.forEach(u=>{const d=u.name;if(s.has(d))return;s.add(d);const y=this._triggers[d].fallbackTransition,b=o[d]||PS,C=new NS(X0),I=new FS(this.id,d,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:d,transition:y,fromState:b,toState:C,player:I,isFallbackTransition:!0})})}}removeNode(e,t){const o=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let s=!1;if(o.totalAnimations){const u=o.players.length?o.playersByQueriedElement.get(e):[];if(u&&u.length)s=!0;else{let d=e;for(;d=d.parentNode;)if(o.statesByElement.get(d)){s=!0;break}}}if(this.prepareLeaveAnimationListeners(e),s)o.markElementAsRemoved(this.id,e,!1,t);else{const u=e[Hc];(!u||u===ZP)&&(o.afterFlush(()=>this.clearElementCache(e)),o.destroyInnerAnimations(e),o._onRemovalComplete(e,t))}}insertNode(e,t){qc(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(o=>{const s=o.player;if(s.destroyed)return;const u=o.element,d=this._elementListeners.get(u);d&&d.forEach(m=>{if(m.name==o.triggerName){const y=pS(u,o.triggerName,o.fromState.value,o.toState.value);y._data=e,dS(o.player,m.phase,y,m.callback)}}),s.markedForDestroy?this._engine.afterFlush(()=>{s.destroy()}):t.push(o)}),this._queue=[],t.sort((o,s)=>{const u=o.transition.ast.depCount,d=s.transition.ast.depCount;return 0==u||0==d?u-d:this._engine.driver.containsElement(o.element,s.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(o=>o.element===e)||t,t}}class B8{constructor(e,t,o){this.bodyNode=e,this.driver=t,this._normalizer=o,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,u)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(o=>{o.queued&&e.push(o)})}),e}createNamespace(e,t){const o=new L8(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(o,t):(this.newHostElements.set(t,o),this.collectEnterElement(t)),this._namespaceLookup[e]=o}_balanceNamespaceList(e,t){const o=this._namespaceList.length-1;if(o>=0){let s=!1;for(let u=o;u>=0;u--)if(this.driver.containsElement(this._namespaceList[u].hostElement,t)){this._namespaceList.splice(u+1,0,e),s=!0;break}s||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let o=this._namespaceLookup[e];return o||(o=this.createNamespace(e,t)),o}registerTrigger(e,t,o){let s=this._namespaceLookup[e];s&&s.register(t,o)&&this.totalAnimations++}destroy(e,t){if(!e)return;const o=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(o.hostElement),delete this._namespaceLookup[e];const s=this._namespaceList.indexOf(o);s>=0&&this._namespaceList.splice(s,1)}),this.afterFlushAnimationsDone(()=>o.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,o=this.statesByElement.get(e);if(o){const s=Object.keys(o);for(let u=0;u<s.length;u++){const d=o[s[u]].namespaceId;if(d){const m=this._fetchNamespace(d);m&&t.add(m)}}}return t}trigger(e,t,o,s){if(kC(t)){const u=this._fetchNamespace(e);if(u)return u.trigger(t,o,s),!0}return!1}insertNode(e,t,o,s){if(!kC(t))return;const u=t[Hc];if(u&&u.setForRemoval){u.setForRemoval=!1,u.setForMove=!0;const d=this.collectedLeaveElements.indexOf(t);d>=0&&this.collectedLeaveElements.splice(d,1)}if(e){const d=this._fetchNamespace(e);d&&d.insertNode(t,o)}s&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),qc(e,OS)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),U_(e,OS))}removeNode(e,t,o,s){if(kC(t)){const u=e?this._fetchNamespace(e):null;if(u?u.removeNode(t,s):this.markElementAsRemoved(e,t,!1,s),o){const d=this.namespacesByHostElement.get(t);d&&d.id!==e&&d.removeNode(t,s)}}else this._onRemovalComplete(t,s)}markElementAsRemoved(e,t,o,s,u){this.collectedLeaveElements.push(t),t[Hc]={namespaceId:e,setForRemoval:s,hasAnimation:o,removedBeforeQueried:!1,previousTriggersValues:u}}listen(e,t,o,s,u){return kC(t)?this._fetchNamespace(e).listen(t,o,s,u):()=>{}}_buildInstruction(e,t,o,s,u){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,o,s,e.fromState.options,e.toState.options,t,u)}destroyInnerAnimations(e){let t=this.driver.query(e,bC,!0);t.forEach(o=>this.destroyActiveAnimationsForElement(o)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,wS,!0),t.forEach(o=>this.finishActiveQueriedAnimationOnElement(o)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(o=>{o.queued?o.markedForDestroy=!0:o.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(o=>o.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Im(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const o=e[Hc];if(o&&o.setForRemoval){if(e[Hc]=ZP,o.namespaceId){this.destroyInnerAnimations(e);const s=this._fetchNamespace(o.namespaceId);s&&s.clearElementCache(e)}this._onRemovalComplete(e,o.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(OS))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(s=>{this.markElementAsDisabled(s,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((o,s)=>this._balanceNamespaceList(o,s)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let o=0;o<this.collectedEnterElements.length;o++)qc(this.collectedEnterElements[o],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const o=[];try{t=this._flushAnimations(o,e)}finally{for(let s=0;s<o.length;s++)o[s]()}}else for(let o=0;o<this.collectedLeaveElements.length;o++)this.processLeaveNode(this.collectedLeaveElements[o]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(o=>o()),this._flushFns=[],this._whenQuietFns.length){const o=this._whenQuietFns;this._whenQuietFns=[],t.length?Im(t).onDone(()=>{o.forEach(s=>s())}):o.forEach(s=>s())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const o=new AC,s=[],u=new Map,d=[],m=new Map,y=new Map,b=new Map,C=new Set;this.disabledNodes.forEach(tt=>{C.add(tt);const It=this.driver.query(tt,".ng-animate-queued",!0);for(let Pt=0;Pt<It.length;Pt++)C.add(It[Pt])});const I=this.bodyNode,M=Array.from(this.statesByElement.keys()),O=nF(M,this.collectedEnterElements),L=new Map;let q=0;O.forEach((tt,It)=>{const Pt=bS+q++;L.set(It,Pt),tt.forEach(zn=>qc(zn,Pt))});const X=[],ae=new Set,Y=new Set;for(let tt=0;tt<this.collectedLeaveElements.length;tt++){const It=this.collectedLeaveElements[tt],Pt=It[Hc];Pt&&Pt.setForRemoval&&(X.push(It),ae.add(It),Pt.hasAnimation?this.driver.query(It,".ng-star-inserted",!0).forEach(zn=>ae.add(zn)):Y.add(It))}const Te=new Map,Le=nF(M,Array.from(ae));Le.forEach((tt,It)=>{const Pt=vC+q++;Te.set(It,Pt),tt.forEach(zn=>qc(zn,Pt))}),e.push(()=>{O.forEach((tt,It)=>{const Pt=L.get(It);tt.forEach(zn=>U_(zn,Pt))}),Le.forEach((tt,It)=>{const Pt=Te.get(It);tt.forEach(zn=>U_(zn,Pt))}),X.forEach(tt=>{this.processLeaveNode(tt)})});const ut=[],Et=[];for(let tt=this._namespaceList.length-1;tt>=0;tt--)this._namespaceList[tt].drainQueuedTransitions(t).forEach(Pt=>{const zn=Pt.player,os=Pt.element;if(ut.push(zn),this.collectedEnterElements.length){const ka=os[Hc];if(ka&&ka.setForMove){if(ka.previousTriggersValues&&ka.previousTriggersValues.has(Pt.triggerName)){const ev=ka.previousTriggersValues.get(Pt.triggerName),$m=this.statesByElement.get(Pt.element);$m&&$m[Pt.triggerName]&&($m[Pt.triggerName].value=ev)}return void zn.destroy()}}const Xh=!I||!this.driver.containsElement(I,os),Gu=Te.get(os),Gm=L.get(os),Ei=this._buildInstruction(Pt,o,Gm,Gu,Xh);if(Ei.errors&&Ei.errors.length)return void Et.push(Ei);if(Xh)return zn.onStart(()=>Ey(os,Ei.fromStyles)),zn.onDestroy(()=>Kh(os,Ei.toStyles)),void s.push(zn);if(Pt.isFallbackTransition)return zn.onStart(()=>Ey(os,Ei.fromStyles)),zn.onDestroy(()=>Kh(os,Ei.toStyles)),void s.push(zn);const Zj=[];Ei.timelines.forEach(ka=>{ka.stretchStartingKeyframe=!0,this.disabledNodes.has(ka.element)||Zj.push(ka)}),Ei.timelines=Zj,o.append(os,Ei.timelines),d.push({instruction:Ei,player:zn,element:os}),Ei.queriedElements.forEach(ka=>ju(m,ka,[]).push(zn)),Ei.preStyleProps.forEach((ka,ev)=>{const $m=Object.keys(ka);if($m.length){let tv=y.get(ev);tv||y.set(ev,tv=new Set),$m.forEach(y1=>tv.add(y1))}}),Ei.postStyleProps.forEach((ka,ev)=>{const $m=Object.keys(ka);let tv=b.get(ev);tv||b.set(ev,tv=new Set),$m.forEach(y1=>tv.add(y1))})});if(Et.length){const tt=[];Et.forEach(It=>{tt.push(`@${It.triggerName} has failed due to:\n`),It.errors.forEach(Pt=>tt.push(`- ${Pt}\n`))}),ut.forEach(It=>It.destroy()),this.reportError(tt)}const tr=new Map,Rr=new Map;d.forEach(tt=>{const It=tt.element;o.has(It)&&(Rr.set(It,It),this._beforeAnimationBuild(tt.player.namespaceId,tt.instruction,tr))}),s.forEach(tt=>{const It=tt.element;this._getPreviousPlayers(It,!1,tt.namespaceId,tt.triggerName,null).forEach(zn=>{ju(tr,It,[]).push(zn),zn.destroy()})});const Yi=X.filter(tt=>iF(tt,y,b)),qn=new Map;tF(qn,this.driver,Y,b,Pf).forEach(tt=>{iF(tt,y,b)&&Yi.push(tt)});const ra=new Map;O.forEach((tt,It)=>{tF(ra,this.driver,new Set(tt),y,"!")}),Yi.forEach(tt=>{const It=qn.get(tt),Pt=ra.get(tt);qn.set(tt,Object.assign(Object.assign({},It),Pt))});const ql=[],Mb=[],kb={};d.forEach(tt=>{const{element:It,player:Pt,instruction:zn}=tt;if(o.has(It)){if(C.has(It))return Pt.onDestroy(()=>Kh(It,zn.toStyles)),Pt.disabled=!0,Pt.overrideTotalTime(zn.totalTime),void s.push(Pt);let os=kb;if(Rr.size>1){let Gu=It;const Gm=[];for(;Gu=Gu.parentNode;){const Ei=Rr.get(Gu);if(Ei){os=Ei;break}Gm.push(Gu)}Gm.forEach(Ei=>Rr.set(Ei,os))}const Xh=this._buildAnimation(Pt.namespaceId,zn,tr,u,ra,qn);if(Pt.setRealPlayer(Xh),os===kb)ql.push(Pt);else{const Gu=this.playersByElement.get(os);Gu&&Gu.length&&(Pt.parentPlayer=Im(Gu)),s.push(Pt)}}else Ey(It,zn.fromStyles),Pt.onDestroy(()=>Kh(It,zn.toStyles)),Mb.push(Pt),C.has(It)&&s.push(Pt)}),Mb.forEach(tt=>{const It=u.get(tt.element);if(It&&It.length){const Pt=Im(It);tt.setRealPlayer(Pt)}}),s.forEach(tt=>{tt.parentPlayer?tt.syncPlayerEvents(tt.parentPlayer):tt.destroy()});for(let tt=0;tt<X.length;tt++){const It=X[tt],Pt=It[Hc];if(U_(It,vC),Pt&&Pt.hasAnimation)continue;let zn=[];if(m.size){let Xh=m.get(It);Xh&&Xh.length&&zn.push(...Xh);let Gu=this.driver.query(It,wS,!0);for(let Gm=0;Gm<Gu.length;Gm++){let Ei=m.get(Gu[Gm]);Ei&&Ei.length&&zn.push(...Ei)}}const os=zn.filter(Xh=>!Xh.destroyed);os.length?H8(this,It,os):this.processLeaveNode(It)}return X.length=0,ql.forEach(tt=>{this.players.push(tt),tt.onDone(()=>{tt.destroy();const It=this.players.indexOf(tt);this.players.splice(It,1)}),tt.play()}),ql}elementContainsData(e,t){let o=!1;const s=t[Hc];return s&&s.setForRemoval&&(o=!0),this.playersByElement.has(t)&&(o=!0),this.playersByQueriedElement.has(t)&&(o=!0),this.statesByElement.has(t)&&(o=!0),this._fetchNamespace(e).elementContainsData(t)||o}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,o,s,u){let d=[];if(t){const m=this.playersByQueriedElement.get(e);m&&(d=m)}else{const m=this.playersByElement.get(e);if(m){const y=!u||u==X0;m.forEach(b=>{b.queued||!y&&b.triggerName!=s||d.push(b)})}}return(o||s)&&(d=d.filter(m=>!(o&&o!=m.namespaceId||s&&s!=m.triggerName))),d}_beforeAnimationBuild(e,t,o){const u=t.element,d=t.isRemovalTransition?void 0:e,m=t.isRemovalTransition?void 0:t.triggerName;for(const y of t.timelines){const b=y.element,C=b!==u,I=ju(o,b,[]);this._getPreviousPlayers(b,C,d,m,t.toState).forEach(O=>{const L=O.getRealPlayer();L.beforeDestroy&&L.beforeDestroy(),O.destroy(),I.push(O)})}Ey(u,t.fromStyles)}_buildAnimation(e,t,o,s,u,d){const m=t.triggerName,y=t.element,b=[],C=new Set,I=new Set,M=t.timelines.map(L=>{const q=L.element;C.add(q);const X=q[Hc];if(X&&X.removedBeforeQueried)return new V_(L.duration,L.delay);const ae=q!==y,Y=function q8(i){const e=[];return rF(i,e),e}((o.get(q)||P8).map(tr=>tr.getRealPlayer())).filter(tr=>!!tr.element&&tr.element===q),Te=u.get(q),Le=d.get(q),ut=kP(0,this._normalizer,0,L.keyframes,Te,Le),Et=this._buildPlayer(L,ut,Y);if(L.subTimeline&&s&&I.add(q),ae){const tr=new FS(e,m,q);tr.setRealPlayer(Et),b.push(tr)}return Et});b.forEach(L=>{ju(this.playersByQueriedElement,L.element,[]).push(L),L.onDone(()=>function V8(i,e,t){let o;if(i instanceof Map){if(o=i.get(e),o){if(o.length){const s=o.indexOf(t);o.splice(s,1)}0==o.length&&i.delete(e)}}else if(o=i[e],o){if(o.length){const s=o.indexOf(t);o.splice(s,1)}0==o.length&&delete i[e]}return o}(this.playersByQueriedElement,L.element,L))}),C.forEach(L=>qc(L,BP));const O=Im(M);return O.onDestroy(()=>{C.forEach(L=>U_(L,BP)),Kh(y,t.toStyles)}),I.forEach(L=>{ju(s,L,[]).push(O)}),O}_buildPlayer(e,t,o){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,o):new V_(e.duration,e.delay)}}class FS{constructor(e,t,o){this.namespaceId=e,this.triggerName=t,this.element=o,this._player=new V_,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(o=>dS(e,t,void 0,o))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){ju(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function kC(i){return i&&1===i.nodeType}function eF(i,e){const t=i.style.display;return i.style.display=null!=e?e:"none",t}function tF(i,e,t,o,s){const u=[];t.forEach(y=>u.push(eF(y)));const d=[];o.forEach((y,b)=>{const C={};y.forEach(I=>{const M=C[I]=e.computeStyle(b,I,s);(!M||0==M.length)&&(b[Hc]=F8,d.push(b))}),i.set(b,C)});let m=0;return t.forEach(y=>eF(y,u[m++])),d}function nF(i,e){const t=new Map;if(i.forEach(m=>t.set(m,[])),0==e.length)return t;const s=new Set(e),u=new Map;function d(m){if(!m)return 1;let y=u.get(m);if(y)return y;const b=m.parentNode;return y=t.has(b)?b:s.has(b)?1:d(b),u.set(m,y),y}return e.forEach(m=>{const y=d(m);1!==y&&t.get(y).push(m)}),t}function qc(i,e){var t;null===(t=i.classList)||void 0===t||t.add(e)}function U_(i,e){var t;null===(t=i.classList)||void 0===t||t.remove(e)}function H8(i,e,t){Im(t).onDone(()=>i.processLeaveNode(e))}function rF(i,e){for(let t=0;t<i.length;t++){const o=i[t];o instanceof xP?rF(o.players,e):e.push(o)}}function iF(i,e,t){const o=t.get(i);if(!o)return!1;let s=e.get(i);return s?o.forEach(u=>s.add(u)):e.set(i,o),t.delete(i),!0}class RC{constructor(e,t,o){this.bodyNode=e,this._driver=t,this._normalizer=o,this._triggerCache={},this.onRemovalComplete=(s,u)=>{},this._transitionEngine=new B8(e,t,o),this._timelineEngine=new M8(e,t,o),this._transitionEngine.onRemovalComplete=(s,u)=>this.onRemovalComplete(s,u)}registerTrigger(e,t,o,s,u){const d=e+"-"+s;let m=this._triggerCache[d];if(!m){const y=[],b=TS(this._driver,u,y);if(y.length)throw new Error(`The animation trigger "${s}" has failed to build due to the following errors:\n - ${y.join("\n - ")}`);m=function T8(i,e,t){return new S8(i,e,t)}(s,b,this._normalizer),this._triggerCache[d]=m}this._transitionEngine.registerTrigger(t,s,m)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,o,s){this._transitionEngine.insertNode(e,t,o,s)}onRemove(e,t,o,s){this._transitionEngine.removeNode(e,t,s||!1,o)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,o,s){if("@"==o.charAt(0)){const[u,d]=RP(o);this._timelineEngine.command(u,t,d,s)}else this._transitionEngine.trigger(e,t,o,s)}listen(e,t,o,s,u){if("@"==o.charAt(0)){const[d,m]=RP(o);return this._timelineEngine.listen(d,t,m,u)}return this._transitionEngine.listen(e,t,o,s,u)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function oF(i,e){let t=null,o=null;return Array.isArray(e)&&e.length?(t=LS(e[0]),e.length>1&&(o=LS(e[e.length-1]))):e&&(t=LS(e)),t||o?new G8(i,t,o):null}let G8=(()=>{class i{constructor(t,o,s){this._element=t,this._startStyles=o,this._endStyles=s,this._state=0;let u=i.initialStylesByElement.get(t);u||i.initialStylesByElement.set(t,u={}),this._initialStyles=u}start(){this._state<1&&(this._startStyles&&Kh(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Kh(this._element,this._initialStyles),this._endStyles&&(Kh(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(i.initialStylesByElement.delete(this._element),this._startStyles&&(Ey(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ey(this._element,this._endStyles),this._endStyles=null),Kh(this._element,this._initialStyles),this._state=3)}}return i.initialStylesByElement=new WeakMap,i})();function LS(i){let e=null;const t=Object.keys(i);for(let o=0;o<t.length;o++){const s=t[o];$8(s)&&(e=e||{},e[s]=i[s])}return e}function $8(i){return"display"===i||"position"===i}const sF="animation",aF="animationend";class Q8{constructor(e,t,o,s,u,d,m){this._element=e,this._name=t,this._duration=o,this._delay=s,this._easing=u,this._fillMode=d,this._onDoneFn=m,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=y=>this._handleCallback(y)}apply(){(function Y8(i,e){const t=VS(i,"").trim();let o=0;t.length&&(o=function J8(i,e){let t=0;for(let o=0;o<i.length;o++)i.charAt(o)===e&&t++;return t}(t,",")+1,e=`${t}, ${e}`),OC(i,"",e)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),lF(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){uF(this._element,this._name,"paused")}resume(){uF(this._element,this._name,"running")}setPosition(e){const t=cF(this._element,this._name);this._position=e*this._duration,OC(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),o=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&o>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),lF(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function X8(i,e){const o=VS(i,"").split(","),s=BS(o,e);s>=0&&(o.splice(s,1),OC(i,"",o.join(",")))}(this._element,this._name))}}function uF(i,e,t){OC(i,"PlayState",t,cF(i,e))}function cF(i,e){const t=VS(i,"");return t.indexOf(",")>0?BS(t.split(","),e):BS([t],e)}function BS(i,e){for(let t=0;t<i.length;t++)if(i[t].indexOf(e)>=0)return t;return-1}function lF(i,e,t){t?i.removeEventListener(aF,e):i.addEventListener(aF,e)}function OC(i,e,t,o){const s=sF+e;if(null!=o){const u=i.style[s];if(u.length){const d=u.split(",");d[o]=t,t=d.join(",")}}i.style[s]=t}function VS(i,e){return i.style[sF+e]||""}class hF{constructor(e,t,o,s,u,d,m,y){this.element=e,this.keyframes=t,this.animationName=o,this._duration=s,this._delay=u,this._finalStyles=m,this._specialStyles=y,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=d||"linear",this.totalTime=s+u,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Q8(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(o=>o()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(o=>{"offset"!=o&&(e[o]=t?this._finalStyles[o]:IS(this.element,o))})}this.currentSnapshot=e}}class tK extends V_{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=PP(t)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class fF{constructor(){this._count=0}validateStyleProperty(e){return gS(e)}matchesElement(e,t){return!1}containsElement(e,t){return yS(e,t)}query(e,t,o){return vS(e,t,o)}computeStyle(e,t,o){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,o){o=o.map(m=>PP(m));let s=`@keyframes ${t} {\n`,u="";o.forEach(m=>{u=" ";const y=parseFloat(m.offset);s+=`${u}${100*y}% {\n`,u+=" ",Object.keys(m).forEach(b=>{const C=m[b];switch(b){case"offset":return;case"easing":return void(C&&(s+=`${u}animation-timing-function: ${C};\n`));default:return void(s+=`${u}${b}: ${C};\n`)}}),s+=`${u}}\n`}),s+="}\n";const d=document.createElement("style");return d.textContent=s,d}animate(e,t,o,s,u,d=[],m){const y=d.filter(X=>X instanceof hF),b={};qP(o,s)&&y.forEach(X=>{let ae=X.currentSnapshot;Object.keys(ae).forEach(Y=>b[Y]=ae[Y])});const C=function iK(i){let e={};return i&&(Array.isArray(i)?i:[i]).forEach(o=>{Object.keys(o).forEach(s=>{"offset"==s||"easing"==s||(e[s]=o[s])})}),e}(t=zP(e,t,b));if(0==o)return new tK(e,C);const I="gen_css_kf_"+this._count++,M=this.buildKeyframeElement(e,I,t);(function rK(i){var e;const t=null===(e=i.getRootNode)||void 0===e?void 0:e.call(i);return"undefined"!=typeof ShadowRoot&&t instanceof ShadowRoot?t:document.head})(e).appendChild(M);const L=oF(e,t),q=new hF(e,t,I,o,s,u,C,L);return q.onDestroy(()=>function oK(i){i.parentNode.removeChild(i)}(M)),q}}class mF{constructor(e,t,o,s){this.element=e,this.keyframes=t,this.options=o,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=o.duration,this._delay=o.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,o){return e.animate(t,o)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(o=>{"offset"!=o&&(e[o]=this._finished?t[o]:IS(this.element,o))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(o=>o()),t.length=0}}class sK{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(gF().toString()),this._cssKeyframesDriver=new fF}validateStyleProperty(e){return gS(e)}matchesElement(e,t){return!1}containsElement(e,t){return yS(e,t)}query(e,t,o){return vS(e,t,o)}computeStyle(e,t,o){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,o,s,u,d=[],m){if(!m&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,o,s,u,d);const C={duration:o,delay:s,fill:0==s?"both":"forwards"};u&&(C.easing=u);const I={},M=d.filter(L=>L instanceof mF);qP(o,s)&&M.forEach(L=>{let q=L.currentSnapshot;Object.keys(q).forEach(X=>I[X]=q[X])});const O=oF(e,t=zP(e,t=t.map(L=>Tm(L,!1)),I));return new mF(e,t,C,O)}}function gF(){return MP()&&Element.prototype.animate||{}}let uK=(()=>{class i extends TP{constructor(t,o){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(o.body,{id:"0",encapsulation:jr.None,styles:[],data:{animation:[]}})}build(t){const o=this._nextAnimationId.toString();this._nextAnimationId++;const s=Array.isArray(t)?SP(t):t;return yF(this._renderer,null,o,"register",[s]),new cK(o,this._renderer)}}return i.\u0275fac=function(t){return new(t||i)(ce(v0),ce(_n))},i.\u0275prov=Xe({token:i,factory:i.\u0275fac}),i})();class cK extends class W6{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new lK(this._id,e,t||{},this._renderer)}}class lK{constructor(e,t,o,s){this.id=e,this.element=t,this._renderer=s,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",o)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return yF(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function yF(i,e,t,o,s){return i.setProperty(e,`@@${t}:${o}`,s)}const vF="@.disabled";let hK=(()=>{class i{constructor(t,o,s){this.delegate=t,this.engine=o,this._zone=s,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),o.onRemovalComplete=(u,d)=>{const m=null==d?void 0:d.parentNode(u);m&&d.removeChild(m,u)}}createRenderer(t,o){const u=this.delegate.createRenderer(t,o);if(!(t&&o&&o.data&&o.data.animation)){let C=this._rendererCache.get(u);return C||(C=new _F("",u,this.engine),this._rendererCache.set(u,C)),C}const d=o.id,m=o.id+"-"+this._currentId;this._currentId++,this.engine.register(m,t);const y=C=>{Array.isArray(C)?C.forEach(y):this.engine.registerTrigger(d,m,t,C.name,C)};return o.data.animation.forEach(y),new dK(this,m,u,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,o,s){t>=0&&t<this._microtaskId?this._zone.run(()=>o(s)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(u=>{const[d,m]=u;d(m)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([o,s]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return i.\u0275fac=function(t){return new(t||i)(ce(v0),ce(RC),ce(An))},i.\u0275prov=Xe({token:i,factory:i.\u0275fac}),i})();class _F{constructor(e,t,o){this.namespaceId=e,this.delegate=t,this.engine=o,this.destroyNode=this.delegate.destroyNode?s=>t.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,o,s=!0){this.delegate.insertBefore(e,t,o),this.engine.onInsert(this.namespaceId,t,e,s)}removeChild(e,t,o){this.engine.onRemove(this.namespaceId,t,this.delegate,o)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,o,s){this.delegate.setAttribute(e,t,o,s)}removeAttribute(e,t,o){this.delegate.removeAttribute(e,t,o)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,o,s){this.delegate.setStyle(e,t,o,s)}removeStyle(e,t,o){this.delegate.removeStyle(e,t,o)}setProperty(e,t,o){"@"==t.charAt(0)&&t==vF?this.disableAnimations(e,!!o):this.delegate.setProperty(e,t,o)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,o){return this.delegate.listen(e,t,o)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class dK extends _F{constructor(e,t,o,s){super(t,o,s),this.factory=e,this.namespaceId=t}setProperty(e,t,o){"@"==t.charAt(0)?"."==t.charAt(1)&&t==vF?this.disableAnimations(e,o=void 0===o||!!o):this.engine.process(this.namespaceId,e,t.substr(1),o):this.delegate.setProperty(e,t,o)}listen(e,t,o){if("@"==t.charAt(0)){const s=function fK(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}(e);let u=t.substr(1),d="";return"@"!=u.charAt(0)&&([u,d]=function pK(i){const e=i.indexOf(".");return[i.substring(0,e),i.substr(e+1)]}(u)),this.engine.listen(this.namespaceId,s,u,d,m=>{this.factory.scheduleListenerCallback(m._data||-1,o,m)})}return this.delegate.listen(e,t,o)}}let mK=(()=>{class i extends RC{constructor(t,o,s){super(t.body,o,s)}ngOnDestroy(){this.flush()}}return i.\u0275fac=function(t){return new(t||i)(ce(_n),ce(_S),ce(kS))},i.\u0275prov=Xe({token:i,factory:i.\u0275fac}),i})();const H_=new Qe("AnimationModuleType"),bF=[{provide:TP,useClass:uK},{provide:kS,useFactory:function yK(){return new w8}},{provide:RC,useClass:mK},{provide:v0,useFactory:function vK(i,e,t){return new hK(i,e,t)},deps:[KE,RC,An]}],wF=[{provide:_S,useFactory:function gK(){return function aK(){return"function"==typeof gF()}()?new sK:new fF}},{provide:H_,useValue:"BrowserAnimations"},...bF],_K=[{provide:_S,useClass:FP},{provide:H_,useValue:"NoopAnimations"},...bF];let bK=(()=>{class i{static withConfig(t){return{ngModule:i,providers:t.disableAnimations?_K:wF}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=kn({type:i}),i.\u0275inj=Be({providers:wF,imports:[XO]}),i})();const EK=new Qe("mat-sanity-checks",{providedIn:"root",factory:function wK(){return!0}});let Jo=(()=>{class i{constructor(t,o,s){this._sanityChecks=o,this._document=s,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!eS()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return i.\u0275fac=function(t){return new(t||i)(ce(IP),ce(EK,8),ce(_n))},i.\u0275mod=kn({type:i}),i.\u0275inj=Be({imports:[[z0],z0]}),i})();function CF(i){return class extends i{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=W0(e)}}}function DF(i,e){return class extends i{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const o=t||this.defaultColor;o!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),o&&this._elementRef.nativeElement.classList.add(`mat-${o}`),this._color=o)}}}function IF(i){return class extends i{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=W0(e)}}}class DK{constructor(e,t,o){this._renderer=e,this.element=t,this.config=o,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const TF={enterDuration:225,exitDuration:150},jS=dC({passive:!0}),SF=["mousedown","touchstart"],AF=["mouseup","mouseleave","touchend","touchcancel"];class TK{constructor(e,t,o,s){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,s.isBrowser&&(this._containerElement=P_(o))}fadeInRipple(e,t,o={}){const s=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),u=Object.assign(Object.assign({},TF),o.animation);o.centered&&(e=s.left+s.width/2,t=s.top+s.height/2);const d=o.radius||function AK(i,e,t){const o=Math.max(Math.abs(i-t.left),Math.abs(i-t.right)),s=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(o*o+s*s)}(e,t,s),m=e-s.left,y=t-s.top,b=u.enterDuration,C=document.createElement("div");C.classList.add("mat-ripple-element"),C.style.left=m-d+"px",C.style.top=y-d+"px",C.style.height=2*d+"px",C.style.width=2*d+"px",null!=o.color&&(C.style.backgroundColor=o.color),C.style.transitionDuration=`${b}ms`,this._containerElement.appendChild(C),function SK(i){window.getComputedStyle(i).getPropertyValue("opacity")}(C),C.style.transform="scale(1)";const I=new DK(this,C,o);return I.state=0,this._activeRipples.add(I),o.persistent||(this._mostRecentTransientRipple=I),this._runTimeoutOutsideZone(()=>{const M=I===this._mostRecentTransientRipple;I.state=1,!o.persistent&&(!M||!this._isPointerDown)&&I.fadeOut()},b),I}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const o=e.element,s=Object.assign(Object.assign({},TF),e.config.animation);o.style.transitionDuration=`${s.exitDuration}ms`,o.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,o.remove()},s.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=P_(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(SF))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(AF),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=aS(e),o=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!o&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!uS(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let o=0;o<t.length;o++)this.fadeInRipple(t[o].clientX,t[o].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,jS)})})}_removeTriggerEvents(){this._triggerElement&&(SF.forEach(e=>{this._triggerElement.removeEventListener(e,this,jS)}),this._pointerUpEventsRegistered&&AF.forEach(e=>{this._triggerElement.removeEventListener(e,this,jS)}))}}const xK=new Qe("mat-ripple-global-options");let US=(()=>{class i{constructor(t,o,s,u,d){this._elementRef=t,this._animationMode=d,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=u||{},this._rippleRenderer=new TK(this,o,t,s)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,o=0,s){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,o,Object.assign(Object.assign({},this.rippleConfig),s)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return i.\u0275fac=function(t){return new(t||i)(ve(Ro),ve(An),ve($h),ve(xK,8),ve(H_,8))},i.\u0275dir=Bn({type:i,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,o){2&t&&Df("mat-ripple-unbounded",o.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),i})(),xF=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=kn({type:i}),i.\u0275inj=Be({imports:[[Jo],Jo]}),i})();const MK=["mat-button",""],kK=["*"],OK=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],NK=DF(CF(IF(class{constructor(i){this._elementRef=i}})));let Ff=(()=>{class i extends NK{constructor(t,o,s){super(t),this._focusMonitor=o,this._animationMode=s,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const u of OK)this._hasHostAttributes(u)&&this._getHostElement().classList.add(u);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,o){t?this._focusMonitor.focusVia(this._getHostElement(),t,o):this._getHostElement().focus(o)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(o=>this._getHostElement().hasAttribute(o))}}return i.\u0275fac=function(t){return new(t||i)(ve(Ro),ve(gC),ve(H_,8))},i.\u0275cmp=Ar({type:i,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,o){if(1&t&&CE(US,5),2&t){let s;Tf(s=Sf())&&(o.ripple=s.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,o){2&t&&(jh("disabled",o.disabled||null),Df("_mat-animation-noopable","NoopAnimations"===o._animationMode)("mat-button-disabled",o.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Bh],attrs:MK,ngContentSelectors:kK,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,o){1&t&&(cy(),Ce(0,"span",0),Uh(1),De(),Hn(2,"span",1),Hn(3,"span",2)),2&t&&(Xn(2),Df("mat-button-ripple-round",o.isRoundButton||o.isIconButton),so("matRippleDisabled",o._isRippleDisabled())("matRippleCentered",o.isIconButton)("matRippleTrigger",o._getHostElement()))},directives:[US],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),i})(),MF=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=kn({type:i}),i.\u0275inj=Be({imports:[[xF,Jo],Jo]}),i})(),PK=(()=>{class i{constructor(t){this.router=t,this.auth=new q0}ngOnInit(){var t;this.auth.isSignedIn()&&!(null===(t=this.auth.getAuth().currentUser)||void 0===t?void 0:t.emailVerified)?this.auth.sendVerificationEmail():this.router.navigate([""])}onResendClick(){this.auth.sendVerificationEmail()}}return i.\u0275fac=function(t){return new(t||i)(ve(Zs))},i.\u0275cmp=Ar({type:i,selectors:[["app-email-verification"]],decls:5,vars:0,consts:[[1,"email-verification"],["mat-flat-button","",3,"click"]],template:function(t,o){1&t&&(Ce(0,"div",0),Ce(1,"h1"),bt(2,"Your Email is Not Verified"),De(),Ce(3,"button",1),Pr("click",function(){return o.onResendClick()}),bt(4,"Resend Verification Email"),De(),De())},directives:[Ff],styles:[".email-verification[_ngcontent-%COMP%]{text-align:center;margin-top:128px}"]}),i})();const FK=["addListener","removeListener"],LK=["addEventListener","removeEventListener"],BK=["on","off"];function HS(i,e,t,o){if(me(t)&&(o=t,t=void 0),o)return HS(i,e,t).pipe(ST(o));const[s,u]=function UK(i){return me(i.addEventListener)&&me(i.removeEventListener)}(i)?LK.map(d=>m=>i[d](e,m,t)):function VK(i){return me(i.addListener)&&me(i.removeListener)}(i)?FK.map(kF(i,e)):function jK(i){return me(i.on)&&me(i.off)}(i)?BK.map(kF(i,e)):[];if(!s&&Rs(i))return nr(d=>HS(d,e,t))(W(i));if(!s)throw new TypeError("Invalid event target");return new de(d=>{const m=(...y)=>d.next(1<y.length?y:y[0]);return s(m),()=>u(m)})}function kF(i,e){return t=>o=>i[t](e,o)}const Z0={schedule(i){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:o}=Z0;o&&(e=o.requestAnimationFrame,t=o.cancelAnimationFrame);const s=e(u=>{t=void 0,i(u)});return new At(()=>null==t?void 0:t(s))},requestAnimationFrame(...i){const{delegate:e}=Z0;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...i)},cancelAnimationFrame(...i){const{delegate:e}=Z0;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...i)},delegate:void 0};new class qK extends oS{flush(e){this._active=!0,this._scheduled=void 0;const{actions:t}=this;let o,s=-1;e=e||t.shift();const u=t.length;do{if(o=e.execute(e.state,e.delay))break}while(++s<u&&(e=t.shift()));if(this._active=!1,o){for(;++s<u&&(e=t.shift());)e.unsubscribe();throw o}}}(class HK extends iS{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,o=0){return null!==o&&o>0?super.requestAsyncId(e,t,o):(e.actions.push(this),e._scheduled||(e._scheduled=Z0.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,o=0){if(null!=o&&o>0||null==o&&this.delay>0)return super.recycleAsyncId(e,t,o);0===e.actions.length&&(Z0.cancelAnimationFrame(t),e._scheduled=void 0)}});let qS,GK=1;const PC={};function RF(i){return i in PC&&(delete PC[i],!0)}const $K={setImmediate(i){const e=GK++;return PC[e]=!0,qS||(qS=Promise.resolve()),qS.then(()=>RF(e)&&i()),e},clearImmediate(i){RF(i)}},{setImmediate:KK,clearImmediate:WK}=$K,FC={setImmediate(...i){const{delegate:e}=FC;return((null==e?void 0:e.setImmediate)||KK)(...i)},clearImmediate(i){const{delegate:e}=FC;return((null==e?void 0:e.clearImmediate)||WK)(i)},delegate:void 0},zS=new class YK extends oS{flush(e){this._active=!0,this._scheduled=void 0;const{actions:t}=this;let o,s=-1;e=e||t.shift();const u=t.length;do{if(o=e.execute(e.state,e.delay))break}while(++s<u&&(e=t.shift()));if(this._active=!1,o){for(;++s<u&&(e=t.shift());)e.unsubscribe();throw o}}}(class QK extends iS{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,o=0){return null!==o&&o>0?super.requestAsyncId(e,t,o):(e.actions.push(this),e._scheduled||(e._scheduled=FC.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,o=0){if(null!=o&&o>0||null==o&&this.delay>0)return super.recycleAsyncId(e,t,o);0===e.actions.length&&(FC.clearImmediate(t),e._scheduled=void 0)}});function OF(i=0,e,t=pP){let o=-1;return null!=e&&(Na(e)?t=e:o=e),new de(s=>{let u=function JK(i){return i instanceof Date&&!isNaN(i)}(i)?+i-t.now():i;u<0&&(u=0);let d=0;return t.schedule(function(){s.closed||(s.next(d++),0<=o?this.schedule(void 0,o):s.complete())},u)})}function NF(i,e=pP){return function XK(i){return Ge((e,t)=>{let o=!1,s=null,u=null,d=!1;const m=()=>{if(null==u||u.unsubscribe(),u=null,o){o=!1;const b=s;s=null,t.next(b)}d&&t.complete()},y=()=>{u=null,d&&t.complete()};e.subscribe(new Ie(t,b=>{o=!0,s=b,u||W(i(b)).subscribe(u=new Ie(t,m,y))},()=>{d=!0,(!o||!u||u.closed)&&t.complete()}))})}(()=>OF(i,e))}let eW=(()=>{class i{constructor(t,o,s){this._ngZone=t,this._platform=o,this._scrolled=new et,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=s}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const o=this.scrollContainers.get(t);o&&(o.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new de(o=>{this._globalSubscription||this._addGlobalListener();const s=t>0?this._scrolled.pipe(NF(t)).subscribe(o):this._scrolled.subscribe(o);return this._scrolledCount++,()=>{s.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):St()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,o)=>this.deregister(o)),this._scrolled.complete()}ancestorScrolled(t,o){const s=this.getAncestorScrollContainers(t);return this.scrolled(o).pipe(Xo(u=>!u||s.indexOf(u)>-1))}getAncestorScrollContainers(t){const o=[];return this.scrollContainers.forEach((s,u)=>{this._scrollableContainsElement(u,t)&&o.push(u)}),o}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,o){let s=P_(o),u=t.getElementRef().nativeElement;do{if(s==u)return!0}while(s=s.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>HS(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return i.\u0275fac=function(t){return new(t||i)(ce(An),ce($h),ce(_n,8))},i.\u0275prov=Xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),PF=(()=>{class i{constructor(t,o,s){this._platform=t,this._change=new et,this._changeListener=u=>{this._change.next(u)},this._document=s,o.runOutsideAngular(()=>{if(t.isBrowser){const u=this._getWindow();u.addEventListener("resize",this._changeListener),u.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:o,height:s}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+s,right:t.left+o,height:s,width:o}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,o=this._getWindow(),s=t.documentElement,u=s.getBoundingClientRect();return{top:-u.top||t.body.scrollTop||o.scrollY||s.scrollTop||0,left:-u.left||t.body.scrollLeft||o.scrollX||s.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(NF(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return i.\u0275fac=function(t){return new(t||i)(ce($h),ce(An),ce(_n,8))},i.\u0275prov=Xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),GS=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=kn({type:i}),i.\u0275inj=Be({}),i})(),FF=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=kn({type:i}),i.\u0275inj=Be({imports:[[z0,GS],z0,GS]}),i})();class $S{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class KS extends $S{constructor(e,t,o,s){super(),this.component=e,this.viewContainerRef=t,this.injector=o,this.componentFactoryResolver=s}}class WS extends $S{constructor(e,t,o){super(),this.templateRef=e,this.viewContainerRef=t,this.context=o}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class nW extends $S{constructor(e){super(),this.element=e instanceof Ro?e.nativeElement:e}}class QS{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof KS?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof WS?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof nW?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class rW extends QS{constructor(e,t,o,s,u){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=o,this._defaultInjector=s,this.attachDomPortal=d=>{const m=d.element,y=this._document.createComment("dom-portal");m.parentNode.insertBefore(y,m),this.outletElement.appendChild(m),this._attachedPortal=d,super.setDisposeFn(()=>{y.parentNode&&y.parentNode.replaceChild(m,y)})},this._document=u}attachComponentPortal(e){const o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let s;return e.viewContainerRef?(s=e.viewContainerRef.createComponent(o,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>s.destroy())):(s=o.create(e.injector||this._defaultInjector),this._appRef.attachView(s.hostView),this.setDisposeFn(()=>{this._appRef.detachView(s.hostView),s.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(s)),this._attachedPortal=e,s}attachTemplatePortal(e){let t=e.viewContainerRef,o=t.createEmbeddedView(e.templateRef,e.context);return o.rootNodes.forEach(s=>this.outletElement.appendChild(s)),o.detectChanges(),this.setDisposeFn(()=>{let s=t.indexOf(o);-1!==s&&t.remove(s)}),this._attachedPortal=e,o}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let LF=(()=>{class i extends QS{constructor(t,o,s){super(),this._componentFactoryResolver=t,this._viewContainerRef=o,this._isInitialized=!1,this.attached=new $i,this.attachDomPortal=u=>{const d=u.element,m=this._document.createComment("dom-portal");u.setAttachedHost(this),d.parentNode.insertBefore(m,d),this._getRootNode().appendChild(d),this._attachedPortal=u,super.setDisposeFn(()=>{m.parentNode&&m.parentNode.replaceChild(d,m)})},this._document=s}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const o=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,u=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),d=o.createComponent(u,o.length,t.injector||o.injector);return o!==this._viewContainerRef&&this._getRootNode().appendChild(d.hostView.rootNodes[0]),super.setDisposeFn(()=>d.destroy()),this._attachedPortal=t,this._attachedRef=d,this.attached.emit(d),d}attachTemplatePortal(t){t.setAttachedHost(this);const o=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=o,this.attached.emit(o),o}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return i.\u0275fac=function(t){return new(t||i)(ve(wm),ve(Fu),ve(_n))},i.\u0275dir=Bn({type:i,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Bh]}),i})(),BF=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=kn({type:i}),i.\u0275inj=Be({}),i})();const VF=n6();class iW{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=co(-this._previousScrollPosition.left),e.style.top=co(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,o=e.style,s=this._document.body.style,u=o.scrollBehavior||"",d=s.scrollBehavior||"";this._isEnabled=!1,o.left=this._previousHTMLStyles.left,o.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),VF&&(o.scrollBehavior=s.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),VF&&(o.scrollBehavior=u,s.scrollBehavior=d)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,o=this._viewportRuler.getViewportSize();return t.scrollHeight>o.height||t.scrollWidth>o.width}}class oW{constructor(e,t,o,s){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=o,this._config=s,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class jF{enable(){}disable(){}attach(){}}function YS(i,e){return e.some(t=>i.bottom<t.top||i.top>t.bottom||i.right<t.left||i.left>t.right)}function UF(i,e){return e.some(t=>i.top<t.top||i.bottom>t.bottom||i.left<t.left||i.right>t.right)}class sW{constructor(e,t,o,s){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=o,this._config=s,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:o,height:s}=this._viewportRuler.getViewportSize();YS(t,[{width:o,height:s,bottom:s,right:o,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let aW=(()=>{class i{constructor(t,o,s,u){this._scrollDispatcher=t,this._viewportRuler=o,this._ngZone=s,this.noop=()=>new jF,this.close=d=>new oW(this._scrollDispatcher,this._ngZone,this._viewportRuler,d),this.block=()=>new iW(this._viewportRuler,this._document),this.reposition=d=>new sW(this._scrollDispatcher,this._viewportRuler,this._ngZone,d),this._document=u}}return i.\u0275fac=function(t){return new(t||i)(ce(eW),ce(PF),ce(An),ce(_n))},i.\u0275prov=Xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class XS{constructor(e){if(this.scrollStrategy=new jF,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const o of t)void 0!==e[o]&&(this[o]=e[o])}}}class uW{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}class cW{constructor(e,t,o,s,u,d,m,y,b){this._portalOutlet=e,this._host=t,this._pane=o,this._config=s,this._ngZone=u,this._keyboardDispatcher=d,this._document=m,this._location=y,this._outsideClickDispatcher=b,this._backdropElement=null,this._backdropClick=new et,this._attachments=new et,this._detachments=new et,this._locationChanges=At.EMPTY,this._backdropClickHandler=C=>this._backdropClick.next(C),this._keydownEvents=new et,this._outsidePointerEvents=new et,s.scrollStrategy&&(this._scrollStrategy=s.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=s.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){let t=this._portalOutlet.attach(e);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(ei(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){var e;const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(e=this._host)||void 0===e||e.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=co(this._config.width),e.height=co(this._config.height),e.minWidth=co(this._config.minWidth),e.minHeight=co(this._config.minHeight),e.maxWidth=co(this._config.maxWidth),e.maxHeight=co(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(!e)return;let t;const o=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",o),this._disposeBackdrop(e)),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",o)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(o,500))}_toggleClasses(e,t,o){const s=mP(t||[]).filter(u=>!!u);s.length&&(o?e.classList.add(...s):e.classList.remove(...s))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(K0(Fa(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.remove(),this._backdropElement===e&&(this._backdropElement=null))}}let JS=(()=>{class i{constructor(t,o){this._platform=o,this._document=t}ngOnDestroy(){var t;null===(t=this._containerElement)||void 0===t||t.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||eS()){const s=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let u=0;u<s.length;u++)s[u].remove()}const o=this._document.createElement("div");o.classList.add(t),eS()?o.setAttribute("platform","test"):this._platform.isBrowser||o.setAttribute("platform","server"),this._document.body.appendChild(o),this._containerElement=o}}return i.\u0275fac=function(t){return new(t||i)(ce(_n),ce($h))},i.\u0275prov=Xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const HF="cdk-overlay-connected-position-bounding-box",lW=/([A-Za-z%]+)$/;class hW{constructor(e,t,o,s,u){this._viewportRuler=t,this._document=o,this._platform=s,this._overlayContainer=u,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new et,this._resizeSubscription=At.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(HF),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,o=this._viewportRect,s=this._containerRect,u=[];let d;for(let m of this._preferredPositions){let y=this._getOriginPoint(e,s,m),b=this._getOverlayPoint(y,t,m),C=this._getOverlayFit(b,t,o,m);if(C.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(m,y);this._canFitWithFlexibleDimensions(C,b,o)?u.push({position:m,origin:y,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(y,m)}):(!d||d.overlayFit.visibleArea<C.visibleArea)&&(d={overlayFit:C,overlayPoint:b,originPoint:y,position:m,overlayRect:t})}if(u.length){let m=null,y=-1;for(const b of u){const C=b.boundingBoxRect.width*b.boundingBoxRect.height*(b.position.weight||1);C>y&&(y=C,m=b)}return this._isPushed=!1,void this._applyPosition(m.position,m.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(d.position,d.originPoint);this._applyPosition(d.position,d.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Dy(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(HF),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,o){let s,u;if("center"==o.originX)s=e.left+e.width/2;else{const d=this._isRtl()?e.right:e.left,m=this._isRtl()?e.left:e.right;s="start"==o.originX?d:m}return t.left<0&&(s-=t.left),u="center"==o.originY?e.top+e.height/2:"top"==o.originY?e.top:e.bottom,t.top<0&&(u-=t.top),{x:s,y:u}}_getOverlayPoint(e,t,o){let s,u;return s="center"==o.overlayX?-t.width/2:"start"===o.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,u="center"==o.overlayY?-t.height/2:"top"==o.overlayY?0:-t.height,{x:e.x+s,y:e.y+u}}_getOverlayFit(e,t,o,s){const u=zF(t);let{x:d,y:m}=e,y=this._getOffset(s,"x"),b=this._getOffset(s,"y");y&&(d+=y),b&&(m+=b);let M=0-m,O=m+u.height-o.height,L=this._subtractOverflows(u.width,0-d,d+u.width-o.width),q=this._subtractOverflows(u.height,M,O),X=L*q;return{visibleArea:X,isCompletelyWithinViewport:u.width*u.height===X,fitsInViewportVertically:q===u.height,fitsInViewportHorizontally:L==u.width}}_canFitWithFlexibleDimensions(e,t,o){if(this._hasFlexibleDimensions){const s=o.bottom-t.y,u=o.right-t.x,d=qF(this._overlayRef.getConfig().minHeight),m=qF(this._overlayRef.getConfig().minWidth),b=e.fitsInViewportHorizontally||null!=m&&m<=u;return(e.fitsInViewportVertically||null!=d&&d<=s)&&b}return!1}_pushOverlayOnScreen(e,t,o){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const s=zF(t),u=this._viewportRect,d=Math.max(e.x+s.width-u.width,0),m=Math.max(e.y+s.height-u.height,0),y=Math.max(u.top-o.top-e.y,0),b=Math.max(u.left-o.left-e.x,0);let C=0,I=0;return C=s.width<=u.width?b||-d:e.x<this._viewportMargin?u.left-o.left-e.x:0,I=s.height<=u.height?y||-m:e.y<this._viewportMargin?u.top-o.top-e.y:0,this._previousPushAmount={x:C,y:I},{x:e.x+C,y:e.y+I}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const o=this._getScrollVisibility(),s=new uW(e,o);this._positionChanges.next(s)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let o,s=e.overlayY;o="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let u=0;u<t.length;u++)t[u].style.transformOrigin=`${o} ${s}`}_calculateBoundingBoxRect(e,t){const o=this._viewportRect,s=this._isRtl();let u,d,m,C,I,M;if("top"===t.overlayY)d=e.y,u=o.height-d+this._viewportMargin;else if("bottom"===t.overlayY)m=o.height-e.y+2*this._viewportMargin,u=o.height-m+this._viewportMargin;else{const O=Math.min(o.bottom-e.y+o.top,e.y),L=this._lastBoundingBoxSize.height;u=2*O,d=e.y-O,u>L&&!this._isInitialRender&&!this._growAfterOpen&&(d=e.y-L/2)}if("end"===t.overlayX&&!s||"start"===t.overlayX&&s)M=o.width-e.x+this._viewportMargin,C=e.x-this._viewportMargin;else if("start"===t.overlayX&&!s||"end"===t.overlayX&&s)I=e.x,C=o.right-e.x;else{const O=Math.min(o.right-e.x+o.left,e.x),L=this._lastBoundingBoxSize.width;C=2*O,I=e.x-O,C>L&&!this._isInitialRender&&!this._growAfterOpen&&(I=e.x-L/2)}return{top:d,left:I,bottom:m,right:M,width:C,height:u}}_setBoundingBoxStyles(e,t){const o=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(o.height=Math.min(o.height,this._lastBoundingBoxSize.height),o.width=Math.min(o.width,this._lastBoundingBoxSize.width));const s={};if(this._hasExactPosition())s.top=s.left="0",s.bottom=s.right=s.maxHeight=s.maxWidth="",s.width=s.height="100%";else{const u=this._overlayRef.getConfig().maxHeight,d=this._overlayRef.getConfig().maxWidth;s.height=co(o.height),s.top=co(o.top),s.bottom=co(o.bottom),s.width=co(o.width),s.left=co(o.left),s.right=co(o.right),s.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",s.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",u&&(s.maxHeight=co(u)),d&&(s.maxWidth=co(d))}this._lastBoundingBoxSize=o,Dy(this._boundingBox.style,s)}_resetBoundingBoxStyles(){Dy(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Dy(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const o={},s=this._hasExactPosition(),u=this._hasFlexibleDimensions,d=this._overlayRef.getConfig();if(s){const C=this._viewportRuler.getViewportScrollPosition();Dy(o,this._getExactOverlayY(t,e,C)),Dy(o,this._getExactOverlayX(t,e,C))}else o.position="static";let m="",y=this._getOffset(t,"x"),b=this._getOffset(t,"y");y&&(m+=`translateX(${y}px) `),b&&(m+=`translateY(${b}px)`),o.transform=m.trim(),d.maxHeight&&(s?o.maxHeight=co(d.maxHeight):u&&(o.maxHeight="")),d.maxWidth&&(s?o.maxWidth=co(d.maxWidth):u&&(o.maxWidth="")),Dy(this._pane.style,o)}_getExactOverlayY(e,t,o){let s={top:"",bottom:""},u=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(u=this._pushOverlayOnScreen(u,this._overlayRect,o)),"bottom"===e.overlayY?s.bottom=this._document.documentElement.clientHeight-(u.y+this._overlayRect.height)+"px":s.top=co(u.y),s}_getExactOverlayX(e,t,o){let d,s={left:"",right:""},u=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(u=this._pushOverlayOnScreen(u,this._overlayRect,o)),d=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===d?s.right=this._document.documentElement.clientWidth-(u.x+this._overlayRect.width)+"px":s.left=co(u.x),s}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),o=this._scrollables.map(s=>s.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:UF(e,o),isOriginOutsideView:YS(e,o),isOverlayClipped:UF(t,o),isOverlayOutsideView:YS(t,o)}}_subtractOverflows(e,...t){return t.reduce((o,s)=>o-Math.max(s,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,o=this._viewportRuler.getViewportScrollPosition();return{top:o.top+this._viewportMargin,left:o.left+this._viewportMargin,right:o.left+e-this._viewportMargin,bottom:o.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&mP(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof Ro)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,o=e.height||0;return{top:e.y,bottom:e.y+o,left:e.x,right:e.x+t,height:o,width:t}}}function Dy(i,e){for(let t in e)e.hasOwnProperty(t)&&(i[t]=e[t]);return i}function qF(i){if("number"!=typeof i&&null!=i){const[e,t]=i.split(lW);return t&&"px"!==t?null:parseFloat(e)}return i||null}function zF(i){return{top:Math.floor(i.top),right:Math.floor(i.right),bottom:Math.floor(i.bottom),left:Math.floor(i.left),width:Math.floor(i.width),height:Math.floor(i.height)}}const GF="cdk-global-overlay-wrapper";class dW{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(GF),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,o=this._overlayRef.getConfig(),{width:s,height:u,maxWidth:d,maxHeight:m}=o,y=!("100%"!==s&&"100vw"!==s||d&&"100%"!==d&&"100vw"!==d),b=!("100%"!==u&&"100vh"!==u||m&&"100%"!==m&&"100vh"!==m);e.position=this._cssPosition,e.marginLeft=y?"0":this._leftOffset,e.marginTop=b?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,y?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=b?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,o=t.style;t.classList.remove(GF),o.justifyContent=o.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let fW=(()=>{class i{constructor(t,o,s,u){this._viewportRuler=t,this._document=o,this._platform=s,this._overlayContainer=u}global(){return new dW}flexibleConnectedTo(t){return new hW(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return i.\u0275fac=function(t){return new(t||i)(ce(PF),ce(_n),ce($h),ce(JS))},i.\u0275prov=Xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),$F=(()=>{class i{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const o=this._attachedOverlays.indexOf(t);o>-1&&this._attachedOverlays.splice(o,1),0===this._attachedOverlays.length&&this.detach()}}return i.\u0275fac=function(t){return new(t||i)(ce(_n))},i.\u0275prov=Xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),pW=(()=>{class i extends $F{constructor(t,o){super(t),this._ngZone=o,this._keydownListener=s=>{const u=this._attachedOverlays;for(let d=u.length-1;d>-1;d--)if(u[d]._keydownEvents.observers.length>0){const m=u[d]._keydownEvents;this._ngZone?this._ngZone.run(()=>m.next(s)):m.next(s);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return i.\u0275fac=function(t){return new(t||i)(ce(_n),ce(An,8))},i.\u0275prov=Xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),mW=(()=>{class i extends $F{constructor(t,o,s){super(t),this._platform=o,this._ngZone=s,this._cursorStyleIsSet=!1,this._pointerDownListener=u=>{this._pointerDownEventTarget=_y(u)},this._clickListener=u=>{const d=_y(u),m="click"===u.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:d;this._pointerDownEventTarget=null;const y=this._attachedOverlays.slice();for(let b=y.length-1;b>-1;b--){const C=y[b];if(C._outsidePointerEvents.observers.length<1||!C.hasAttached())continue;if(C.overlayElement.contains(d)||C.overlayElement.contains(m))break;const I=C._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>I.next(u)):I.next(u)}}}add(t){if(super.add(t),!this._isAttached){const o=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(o)):this._addEventListeners(o),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=o.style.cursor,o.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return i.\u0275fac=function(t){return new(t||i)(ce(_n),ce($h),ce(An,8))},i.\u0275prov=Xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),gW=0,q_=(()=>{class i{constructor(t,o,s,u,d,m,y,b,C,I,M){this.scrollStrategies=t,this._overlayContainer=o,this._componentFactoryResolver=s,this._positionBuilder=u,this._keyboardDispatcher=d,this._injector=m,this._ngZone=y,this._document=b,this._directionality=C,this._location=I,this._outsideClickDispatcher=M}create(t){const o=this._createHostElement(),s=this._createPaneElement(o),u=this._createPortalOutlet(s),d=new XS(t);return d.direction=d.direction||this._directionality.value,new cW(u,o,s,d,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const o=this._document.createElement("div");return o.id="cdk-overlay-"+gW++,o.classList.add("cdk-overlay-pane"),t.appendChild(o),o}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(I_)),new rW(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return i.\u0275fac=function(t){return new(t||i)(ce(aW),ce(JS),ce(wm),ce(fW),ce(pW),ce(ie),ce(An),ce(_n),ce(hC),ce(I0),ce(mW))},i.\u0275prov=Xe({token:i,factory:i.\u0275fac}),i})();const _W={provide:new Qe("cdk-connected-overlay-scroll-strategy"),deps:[q_],useFactory:function vW(i){return()=>i.scrollStrategies.reposition()}};let KF=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=kn({type:i}),i.\u0275inj=Be({providers:[q_,_W],imports:[[z0,BF,FF],FF]}),i})();function bW(i,e){}class ZS{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0}}const wW={dialogContainer:yC("dialogContainer",[Q0("void, exit",Vu({opacity:0,transform:"scale(0.7)"})),Q0("enter",Vu({transform:"none"})),B_("* => enter",L_("150ms cubic-bezier(0, 0, 0.2, 1)",Vu({transform:"none",opacity:1}))),B_("* => void, * => exit",L_("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Vu({opacity:0})))])};let EW=(()=>{class i extends QS{constructor(t,o,s,u,d,m,y,b){super(),this._elementRef=t,this._focusTrapFactory=o,this._changeDetectorRef=s,this._config=d,this._interactivityChecker=m,this._ngZone=y,this._focusMonitor=b,this._animationStateChanged=new $i,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=C=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(C)),this._ariaLabelledBy=d.ariaLabelledBy||null,this._document=u}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement()}attachComponentPortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,o){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{t.addEventListener("blur",()=>t.removeAttribute("tabindex")),t.addEventListener("mousedown",()=>t.removeAttribute("tabindex"))})),t.focus(o)}_focusByCssSelector(t,o){let s=this._elementRef.nativeElement.querySelector(t);s&&this._forceFocus(s,o)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(o=>{o||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const o=ZT(),s=this._elementRef.nativeElement;(!o||o===this._document.body||o===s||s.contains(o))&&(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=ZT())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,o=ZT();return t===o||t.contains(o)}}return i.\u0275fac=function(t){return new(t||i)(ve(Ro),ve(U6),ve(hy),ve(_n,8),ve(ZS),ve(_P),ve(An),ve(gC))},i.\u0275dir=Bn({type:i,viewQuery:function(t,o){if(1&t&&CE(LF,7),2&t){let s;Tf(s=Sf())&&(o._portalOutlet=s.first)}},features:[Bh]}),i})(),CW=(()=>{class i extends EW{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:t,totalTime:o}){"enter"===t?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:o})):"exit"===t&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:o}))}_onAnimationStart({toState:t,totalTime:o}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:o}):("exit"===t||"void"===t)&&this._animationStateChanged.next({state:"closing",totalTime:o})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return i.\u0275fac=function(){let e;return function(o){return(e||(e=cp(i)))(o||i)}}(),i.\u0275cmp=Ar({type:i,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,o){1&t&&vI("@dialogContainer.start",function(u){return o._onAnimationStart(u)})("@dialogContainer.done",function(u){return o._onAnimationDone(u)}),2&t&&(CI("id",o._id),jh("role",o._config.role)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledBy)("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null),DI("@dialogContainer",o._state))},features:[Bh],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,o){1&t&&Fc(0,bW,0,0,"ng-template",0)},directives:[LF],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[wW.dialogContainer]}}),i})(),DW=0;class eA{constructor(e,t,o="mat-dialog-"+DW++){this._overlayRef=e,this._containerInstance=t,this.id=o,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new et,this._afterClosed=new et,this._beforeClosed=new et,this._state=0,t._id=o,t._animationStateChanged.pipe(Xo(s=>"opened"===s.state),ei(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(Xo(s=>"closed"===s.state),ei(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),e.keydownEvents().pipe(Xo(s=>27===s.keyCode&&!this.disableClose&&!rS(s))).subscribe(s=>{s.preventDefault(),WF(this,"keyboard")}),e.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():WF(this,"mouse")})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Xo(t=>"closing"===t.state),ei(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(e){let t=this._getPositionStrategy();return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(e="",t=""){return this._overlayRef.updateSize({width:e,height:t}),this._overlayRef.updatePosition(),this}addPanelClass(e){return this._overlayRef.addPanelClass(e),this}removePanelClass(e){return this._overlayRef.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function WF(i,e,t){return void 0!==i._containerInstance&&(i._containerInstance._closeInteractionType=e),i.close(t)}const QF=new Qe("MatDialogData"),IW=new Qe("mat-dialog-default-options"),YF=new Qe("mat-dialog-scroll-strategy"),SW={provide:YF,deps:[q_],useFactory:function TW(i){return()=>i.scrollStrategies.block()}};let AW=(()=>{class i{constructor(t,o,s,u,d,m,y,b,C,I){this._overlay=t,this._injector=o,this._defaultOptions=s,this._parentDialog=u,this._overlayContainer=d,this._dialogRefConstructor=y,this._dialogContainerType=b,this._dialogDataToken=C,this._animationMode=I,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new et,this._afterOpenedAtThisLevel=new et,this._ariaHiddenElements=new Map,this._dialogAnimatingOpen=!1,this.afterAllClosed=AT(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(k0(void 0))),this._scrollStrategy=m}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,o){if(o=function xW(i,e){return Object.assign(Object.assign({},e),i)}(o,this._defaultOptions||new ZS),o.id&&this.getDialogById(o.id),this._dialogAnimatingOpen)return this._lastDialogRef;const s=this._createOverlay(o),u=this._attachDialogContainer(s,o);if("NoopAnimations"!==this._animationMode){const m=u._animationStateChanged.subscribe(y=>{"opening"===y.state&&(this._dialogAnimatingOpen=!0),"opened"===y.state&&(this._dialogAnimatingOpen=!1,m.unsubscribe())});this._animationStateSubscriptions||(this._animationStateSubscriptions=new At),this._animationStateSubscriptions.add(m)}const d=this._attachDialogContent(t,u,s,o);return this._lastDialogRef=d,this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(d),d.afterClosed().subscribe(()=>this._removeOpenDialog(d)),this.afterOpened.next(d),u._initializeWithAttachedContent(),d}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(o=>o.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._animationStateSubscriptions&&this._animationStateSubscriptions.unsubscribe()}_createOverlay(t){const o=this._getOverlayConfig(t);return this._overlay.create(o)}_getOverlayConfig(t){const o=new XS({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(o.backdropClass=t.backdropClass),o}_attachDialogContainer(t,o){const u=ie.create({parent:o&&o.viewContainerRef&&o.viewContainerRef.injector||this._injector,providers:[{provide:ZS,useValue:o}]}),d=new KS(this._dialogContainerType,o.viewContainerRef,u,o.componentFactoryResolver);return t.attach(d).instance}_attachDialogContent(t,o,s,u){const d=new this._dialogRefConstructor(s,o,u.id);if(t instanceof Ll)o.attachTemplatePortal(new WS(t,null,{$implicit:u.data,dialogRef:d}));else{const m=this._createInjector(u,d,o),y=o.attachComponentPortal(new KS(t,u.viewContainerRef,m,u.componentFactoryResolver));d.componentInstance=y.instance}return d.updateSize(u.width,u.height).updatePosition(u.position),d}_createInjector(t,o,s){const u=t&&t.viewContainerRef&&t.viewContainerRef.injector,d=[{provide:this._dialogContainerType,useValue:s},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:o}];return t.direction&&(!u||!u.get(hC,null,fe.Optional))&&d.push({provide:hC,useValue:{value:t.direction,change:St()}}),ie.create({parent:u||this._injector,providers:d})}_removeOpenDialog(t){const o=this.openDialogs.indexOf(t);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,u)=>{s?u.setAttribute("aria-hidden",s):u.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const o=t.parentElement.children;for(let s=o.length-1;s>-1;s--){let u=o[s];u!==t&&"SCRIPT"!==u.nodeName&&"STYLE"!==u.nodeName&&!u.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(u,u.getAttribute("aria-hidden")),u.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let o=t.length;for(;o--;)t[o].close()}}return i.\u0275fac=function(t){dE()},i.\u0275dir=Bn({type:i}),i})(),ew=(()=>{class i extends AW{constructor(t,o,s,u,d,m,y,b){super(t,o,u,m,y,d,eA,CW,QF,b)}}return i.\u0275fac=function(t){return new(t||i)(ce(q_),ce(ie),ce(I0,8),ce(IW,8),ce(YF),ce(i,12),ce(JS),ce(H_,8))},i.\u0275prov=Xe({token:i,factory:i.\u0275fac}),i})(),XF=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=kn({type:i}),i.\u0275inj=Be({providers:[ew,SW],imports:[[KF,BF,Jo],Jo]}),i})();const MW=["*",[["mat-card-footer"]]],kW=["*","mat-card-footer"],RW=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],OW=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let NW=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=Bn({type:i,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),i})(),tA=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=Bn({type:i,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),i})(),PW=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=Bn({type:i,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),i})(),nA=(()=>{class i{constructor(){this.align="start"}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=Bn({type:i,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(t,o){2&t&&Df("mat-card-actions-align-end","end"===o.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),i})(),FW=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=Bn({type:i,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-card-image"]}),i})(),rA=(()=>{class i{constructor(t){this._animationMode=t}}return i.\u0275fac=function(t){return new(t||i)(ve(H_,8))},i.\u0275cmp=Ar({type:i,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,o){2&t&&Df("_mat-animation-noopable","NoopAnimations"===o._animationMode)},exportAs:["matCard"],ngContentSelectors:kW,decls:2,vars:0,template:function(t,o){1&t&&(cy(MW),Uh(0),Uh(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),i})(),iA=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=Ar({type:i,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:OW,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(t,o){1&t&&(cy(RW),Uh(0),Ce(1,"div",0),Uh(2,1),De(),Uh(3,2))},encapsulation:2,changeDetection:0}),i})(),JF=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=kn({type:i}),i.\u0275inj=Be({imports:[[Jo],Jo]}),i})();function LW(i,e){if(1&i){const t=Cf();Ce(0,"div"),Hn(1,"input",6,7),Hn(3,"input",8,9),Ce(5,"button",10),Pr("click",function(){Bi(t);const s=Pu(2),u=Pu(4);return Lc().onLogin(s,u)}),bt(6,"LogIn"),De(),De()}}function BW(i,e){if(1&i){const t=Cf();Ce(0,"div"),Hn(1,"input",11,12),Hn(3,"input",8,13),Hn(5,"input",14,15),Ce(7,"button",10),Pr("click",function(){Bi(t);const s=Pu(2),u=Pu(4),d=Pu(6);return Lc().onRegisterClick(s,u,d)}),bt(8,"Create"),De(),De()}}function VW(i,e){if(1&i){const t=Cf();Ce(0,"div"),Hn(1,"input",11,16),Ce(3,"button",10),Pr("click",function(){Bi(t);const s=Pu(2);return Lc().onResetClick(s)}),bt(4,"Reset"),De(),De()}}let ZF=(()=>{class i{constructor(t){this.dialogRef=t,this.state=Hu.LOGIN,this.firebasetsAuth=new q0}ngOnInit(){}onLogin(t,o){let s=t.value,u=o.value;this.isNotEmpty(s)&&this.isNotEmpty(u)&&this.firebasetsAuth.signInWith({email:s,password:u,onComplete:d=>{this.dialogRef.close()},onFail:d=>{alert(d)}})}onResetClick(t){let o=t.value;this.isNotEmpty(o)&&this.firebasetsAuth.sendPasswordResetEmail({email:o,onComplete:s=>{this.dialogRef.close()}})}onRegisterClick(t,o,s){let u=t.value,d=o.value,m=s.value;this.isNotEmpty(u)&&this.isNotEmpty(d)&&this.isNotEmpty(m)&&this.isAMatch(d,m)&&this.firebasetsAuth.createAccountWith({email:u,password:d,onComplete:y=>{alert("Account is Created"),this.dialogRef.close()},onFail:y=>{alert("Failed to create an account")}})}isNotEmpty(t){return null!=t&&t.length>0}isAMatch(t,o){return t==o}onForgetPasswordClick(){this.state=Hu.FORGET_PASSWORD}onCreateAccountClick(){this.state=Hu.REGISTER}onLogInClick(){this.state=Hu.LOGIN}isLogInState(){return this.state==Hu.LOGIN}isRegisterState(){return this.state==Hu.REGISTER}isForgetPasswordState(){return this.state==Hu.FORGET_PASSWORD}getStateText(){switch(this.state){case Hu.LOGIN:return"LogIn";case Hu.REGISTER:return"Register";case Hu.FORGET_PASSWORD:return"Forget Password"}}}return i.\u0275fac=function(t){return new(t||i)(ve(eA))},i.\u0275cmp=Ar({type:i,selectors:[["app-authenticator"]],decls:15,vars:4,consts:[[1,"auth"],[1,"auth_content","mat-headline"],[1,"mat-title"],[4,"ngIf"],["align","end",1,"mat-headline"],["mat-flat-button","",3,"click"],["placeholder","Email","required",""],["loginEmail",""],["type","password","placeholder","Password"],["loginPassword",""],["mat-flat-button","","color","warn",3,"click"],["placeholder","Email"],["registerEmail",""],["registerPassword",""],["type","password","placeholder","Confirm Password"],["registerConfirmPassword",""],["resetEmail",""]],template:function(t,o){1&t&&(Ce(0,"div",0),Ce(1,"mat-card",1),Ce(2,"mat-card-header"),Ce(3,"mat-card-title",2),bt(4),De(),De(),Fc(5,LW,7,0,"div",3),Fc(6,BW,9,0,"div",3),Fc(7,VW,5,0,"div",3),Ce(8,"mat-card-actions",4),Ce(9,"button",5),Pr("click",function(){return o.onForgetPasswordClick()}),bt(10,"Forget Password"),De(),Ce(11,"button",5),Pr("click",function(){return o.onCreateAccountClick()}),bt(12,"Create An Account"),De(),Ce(13,"button",5),Pr("click",function(){return o.onLogInClick()}),bt(14,"LogIn"),De(),De(),De(),De()),2&t&&(Xn(4),Fl(o.getStateText()),Xn(1),so("ngIf",o.isLogInState()),Xn(1),so("ngIf",o.isRegisterState()),Xn(1),so("ngIf",o.isForgetPasswordState()))},directives:[rA,iA,tA,A0,Ff,nA],styles:[".auth[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:16px;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}.auth_content[_ngcontent-%COMP%]{width:100%;max-width:450px;padding:24px}button[_ngcontent-%COMP%]{margin:9px}input[_ngcontent-%COMP%]{width:100%;padding:16px;margin:9px 0;border-radius:5px;outline:none;border:1px solid #2C3333;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}"]}),i})();var Hu=(()=>{return(i=Hu||(Hu={}))[i.LOGIN=0]="LOGIN",i[i.FORGET_PASSWORD=1]="FORGET_PASSWORD",i[i.REGISTER=2]="REGISTER",Hu;var i})();let eL=(()=>{class i{constructor(t){this.loginSheet=t}ngOnInit(){}onLoginClick(){this.loginSheet.open(ZF)}}return i.\u0275fac=function(t){return new(t||i)(ve(ew))},i.\u0275cmp=Ar({type:i,selectors:[["app-home"]],decls:18,vars:0,consts:[["id","home_page"],["id","home_page_landing"],["id","landing-left"],["id","landing-left-content"],[2,"color","#270082"],[2,"color","red","font-size","40px"],["mat-flat-button","","color","warn",3,"click"]],template:function(t,o){1&t&&(Ce(0,"div",0),Ce(1,"div",1),Ce(2,"div",2),Ce(3,"div",3),Ce(4,"h1"),bt(5,"Social "),Ce(6,"span",4),bt(7,"Media"),De(),Ce(8,"span",5),bt(9," App"),De(),De(),Hn(10,"br"),Ce(11,"p"),bt(12,"Share your favorite stories! "),Ce(13,"span"),bt(14," #ConnectMe"),De(),De(),Hn(15,"br"),Ce(16,"button",6),Pr("click",function(){return o.onLoginClick()}),bt(17,"Get Started"),De(),De(),De(),De(),De())},directives:[Ff],styles:["#home_page[_ngcontent-%COMP%]{width:100%;height:100%}#home_page_landing[_ngcontent-%COMP%]{width:100%;height:100%;background:linear-gradient(rgba(255,255,255,.5),rgba(255,255,255,.5)),url(2.bdf3528ebc270c7a.jpg);background-size:cover;background-position:center;display:grid;grid-template-columns:50% 50%;grid-template-rows:100%}#bg-op[_ngcontent-%COMP%]{opacity:.5}#landing-left[_ngcontent-%COMP%]{display:flex;color:#000;justify-content:center;align-items:center}#landing-left-content[_ngcontent-%COMP%]{text-align:right;padding:35px 16px 16px 48px;margin-top:50px}#landing-left-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:100px;font-weight:bolder;color:#1a1a40;font-family:Indie Flower,cursive;letter-spacing:2px}#landing-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:32px;font-family:Indie Flower,cursive}#landing-left-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:30px;padding:6px;border-radius:12px}"]}),i})();$t(739);class z_{constructor(){this.listeners=new Map}appendArray(e){return Bu._getFirestore().FieldValue.arrayUnion(e)}increment(e){return Bu._getFirestore().FieldValue.increment(e)}genDocId(){return Bu.getFirestore().collection("TEMP").doc().id}all(e){const t=Bu.getFirestore().batch();for(let o of e.operations)o.getOperation(t);return new Promise((o,s)=>{t.commit().then(()=>{try{e.onComplete()}catch(u){}o()}).catch(u=>{try{e.onFail(u)}catch(d){}s(u)})})}create(e){return new Promise((t,o)=>{if(null==e.data||null==e.data)throw new Error("Error creating data. Data is null or undefined.");if(this.isCollectionPath(e.path)){let s=this.genCollectionReference(e.path).doc();s.set(e.data).then(()=>{try{e.onComplete(s.id)}catch(u){}t(s.id)}).catch(u=>{try{e.onFail(u)}catch(d){}o(u)})}else if(this.isDocumentPath(e.path)){let s=this.genDocumentReference(e.path);s.set(e.data).then(()=>{try{e.onComplete(s.id)}catch(u){}t(s.id)}).catch(u=>{try{e.onFail(u)}catch(d){}o(u)})}})}delete(e){return new Promise((t,o)=>{this.checkDocumentPathValidity(e.path),this.genDocumentReference(e.path).delete().then(()=>{try{e.onComplete()}catch(s){}t()}).catch(s=>{try{e.onFail(s)}catch(u){}o(s)})})}update(e){return new Promise((t,o)=>{this.checkDocumentPathValidity(e.path);const s=this.genDocumentReference(e.path);s.update(e.data).then(()=>{try{e.onComplete(s)}catch(u){}t(s)}).catch(u=>{try{e.onFail(u)}catch(d){}o(u)})})}getCollection(e){let t=this.genCollectionReference(e.path);return new Promise((null!=e.where||null!=e.where)&&e.where.length>0?(o,s)=>{let u;const d=Array(e.where)[0];for(let m=0;m<d.length;m++)u=null==u?d[m].getQuery(t):d[m].concatQuery(u);u.get().then(m=>{try{e.onComplete(m)}catch(y){}o(m)}).catch(m=>{try{e.onFail(m)}catch(y){}s(m)})}:(o,s)=>{t.get().then(u=>{try{e.onComplete(u)}catch(d){}o(u)}).catch(u=>{try{e.onFail(u)}catch(d){}s(u)})})}getDocument(e){return new Promise((t,o)=>{this.genDocumentReference(e.path).get().then(s=>{try{e.onComplete(s)}catch(u){}t(s)}).catch(s=>{try{e.onFail(s)}catch(u){}o(s)})})}listenToDocument(e){this.validateListenerName(e.name),this.addListener(e.name,this.genDocumentReference(e.path).onSnapshot(t=>{try{e.onUpdate(t)}catch(o){}}))}listenToCollection(e){this.validateListenerName(e.name);let t=this.genCollectionReference(e.path);if((null!=e.where||null!=e.where)&&e.where.length>0){let o;const s=Array(e.where)[0];for(let u=0;u<s.length;u++)o=null==o?s[u].getQuery(t):s[u].concatQuery(o);this.addListener(e.name,o.onSnapshot(u=>{try{e.onUpdate(u)}catch(d){}}))}else this.addListener(e.name,t.onSnapshot(o=>{try{e.onUpdate(o)}catch(s){}}))}genCollectionReference(e){this.checkCollectionPathValidity(e);const t=Array(e)[0];let o,s;for(let u=0;u<t.length;u++)u%2==0?o=null==o?Bu.getFirestore().collection(t[u]):s.collection(t[u]):s=o.doc(t[u]);return o}genDocumentReference(e){this.checkDocumentPathValidity(e);const t=Array(e)[0];let o,s;for(let u=0;u<t.length;u++)u%2==0?o=null==o?Bu.getFirestore().collection(t[u]):s.collection(t[u]):s=o.doc(t[u]);return s}addListener(e,t){return this.listeners.set(e,t),t}stopListeningTo(e){try{this.listeners.get(e)(),this.listeners.delete(e)}catch(t){}}stopListeningToAll(){this.listeners.forEach((e,t,o)=>{this.stopListeningTo(t)})}validateListenerName(e){if(null==e||null==e||"string"!=typeof e||e.trim().length<=0)throw"Listener name cannot be empty.";if(null!=this.listeners.get(e))throw`Listener name: ${e} is already taken.`}checkCollectionPathValidity(e){if(null==e||null==e||e.length<=0||!this.isCollectionPath(e))throw"Not a valid path to a collection."}isCollectionPath(e){return Array(e)[0].length%2==1}checkDocumentPathValidity(e){if(null==e||null==e||e.length<=0||!this.isDocumentPath(e))throw"Not a valid path to a document."}isDocumentPath(e){return Array(e)[0].length%2==0}}class tL{constructor(e,t){this.field=e,this.direction=t}getQuery(e){return e.orderBy(this.field,this.direction)}concatQuery(e){return e.orderBy(this.field,this.direction)}}class jW{constructor(e){this.limit=e}getQuery(e){return e.limit(this.limit)}concatQuery(e){return e.limit(this.limit)}}$t(550);class UW{constructor(){this.listeners=new Map}downloadToLocalStorage(e){return new Promise((t,o)=>{if(e instanceof Array)this.getDownloadUrl({path:e,onComplete:s=>{t(s),window.open(s,"Download")},onFail:s=>{o(s)}});else try{window.open(e,"Download"),t()}catch(s){o(s)}})}upload(e){return new Promise((t,o)=>{let s=null,u=this.genStorageRef(e.path);s=null==e.data.metadata||null==e.data.metadata?u.put(e.data.data):u.put(e.data.data,e.data.metadata),s.on("state_changed",d=>{try{e.onUpload(d)}catch(m){}},d=>{o(d);try{e.onFail(d)}catch(m){}},()=>{u.getDownloadURL().then(d=>{t(d);try{e.onComplete(d)}catch(m){}})}),this.listeners.set(e.uploadName,s)})}deleteWithUrl(e){return new Promise((t,o)=>{Bu.getStorage().refFromURL(e.url).delete().then(()=>{t();try{e.onComplete()}catch(u){}}).catch(u=>{o(u);try{e.onFail(u)}catch(d){}})})}delete(e){return new Promise((t,o)=>{this.genStorageRef(e.path).delete().then(()=>{t();try{e.onComplete()}catch(u){}}).catch(u=>{o(u);try{e.onFail(u)}catch(d){}})})}getDownloadUrl(e){return new Promise((t,o)=>{const s=this.genStorageRef(e.path);try{s.getDownloadURL().then(u=>{t(u);try{e.onComplete(u)}catch(d){}})}catch(u){o(u);try{e.onFail(u)}catch(d){}}})}genStorageRef(e){let t=Bu.getStorage().ref();for(let o=0;o<e.length;o++)t=t.child(e[o]);return t}}class zW{}class Sm{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const o=t.indexOf(":");if(o>0){const s=t.slice(0,o),u=s.toLowerCase(),d=t.slice(o+1).trim();this.maybeSetNormalizedName(s,u),this.headers.has(u)?this.headers.get(u).push(d):this.headers.set(u,[d])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let o=e[t];const s=t.toLowerCase();"string"==typeof o&&(o=[o]),o.length>0&&(this.headers.set(s,o),this.maybeSetNormalizedName(t,s))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Sm?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Sm;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Sm?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let o=e.value;if("string"==typeof o&&(o=[o]),0===o.length)return;this.maybeSetNormalizedName(e.name,t);const s=("a"===e.op?this.headers.get(t):void 0)||[];s.push(...o),this.headers.set(t,s);break;case"d":const u=e.value;if(u){let d=this.headers.get(t);if(!d)return;d=d.filter(m=>-1===u.indexOf(m)),0===d.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,d)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class GW{encodeKey(e){return nL(e)}encodeValue(e){return nL(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const KW=/%(\d[a-f0-9])/gi,WW={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function nL(i){return encodeURIComponent(i).replace(KW,(e,t)=>{var o;return null!==(o=WW[t])&&void 0!==o?o:e})}function rL(i){return`${i}`}class Am{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new GW,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function $W(i,e){const t=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(s=>{const u=s.indexOf("="),[d,m]=-1==u?[e.decodeKey(s),""]:[e.decodeKey(s.slice(0,u)),e.decodeValue(s.slice(u+1))],y=t.get(d)||[];y.push(m),t.set(d,y)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const o=e.fromObject[t];this.map.set(t,Array.isArray(o)?o:[o])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(o=>{const s=e[o];Array.isArray(s)?s.forEach(u=>{t.push({param:o,value:u,op:"a"})}):t.push({param:o,value:s,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(o=>t+"="+this.encoder.encodeValue(o)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Am({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(rL(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let o=this.map.get(e.param)||[];const s=o.indexOf(rL(e.value));-1!==s&&o.splice(s,1),o.length>0?this.map.set(e.param,o):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class QW{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function iL(i){return"undefined"!=typeof ArrayBuffer&&i instanceof ArrayBuffer}function oL(i){return"undefined"!=typeof Blob&&i instanceof Blob}function sL(i){return"undefined"!=typeof FormData&&i instanceof FormData}class tw{constructor(e,t,o,s){let u;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function YW(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||s?(this.body=void 0!==o?o:null,u=s):u=o,u&&(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params)),this.headers||(this.headers=new Sm),this.context||(this.context=new QW),this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=t;else{const m=t.indexOf("?");this.urlWithParams=t+(-1===m?"?":m<t.length-1?"&":"")+d}}else this.params=new Am,this.urlWithParams=t}serializeBody(){return null===this.body?null:iL(this.body)||oL(this.body)||sL(this.body)||function XW(i){return"undefined"!=typeof URLSearchParams&&i instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Am?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||sL(this.body)?null:oL(this.body)?this.body.type||null:iL(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Am?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const o=e.method||this.method,s=e.url||this.url,u=e.responseType||this.responseType,d=void 0!==e.body?e.body:this.body,m=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,y=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let b=e.headers||this.headers,C=e.params||this.params;const I=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(b=Object.keys(e.setHeaders).reduce((M,O)=>M.set(O,e.setHeaders[O]),b)),e.setParams&&(C=Object.keys(e.setParams).reduce((M,O)=>M.set(O,e.setParams[O]),C)),new tw(o,s,d,{params:C,headers:b,context:I,reportProgress:y,responseType:u,withCredentials:m})}}var Es=(()=>((Es=Es||{})[Es.Sent=0]="Sent",Es[Es.UploadProgress=1]="UploadProgress",Es[Es.ResponseHeader=2]="ResponseHeader",Es[Es.DownloadProgress=3]="DownloadProgress",Es[Es.Response=4]="Response",Es[Es.User=5]="User",Es))();class oA extends class JW{constructor(e,t=200,o="OK"){this.headers=e.headers||new Sm,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||o,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(e={}){super(e),this.type=Es.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new oA({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function sA(i,e){return{body:e,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials}}let uL=(()=>{class i{constructor(t){this.handler=t}request(t,o,s={}){let u;if(t instanceof tw)u=t;else{let y,b;y=s.headers instanceof Sm?s.headers:new Sm(s.headers),s.params&&(b=s.params instanceof Am?s.params:new Am({fromObject:s.params})),u=new tw(t,o,void 0!==s.body?s.body:null,{headers:y,context:s.context,params:b,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const d=St(u).pipe(A_(y=>this.handler.handle(y)));if(t instanceof tw||"events"===s.observe)return d;const m=d.pipe(Xo(y=>y instanceof oA));switch(s.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return m.pipe(je(y=>{if(null!==y.body&&!(y.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return y.body}));case"blob":return m.pipe(je(y=>{if(null!==y.body&&!(y.body instanceof Blob))throw new Error("Response is not a Blob.");return y.body}));case"text":return m.pipe(je(y=>{if(null!==y.body&&"string"!=typeof y.body)throw new Error("Response is not a string.");return y.body}));default:return m.pipe(je(y=>y.body))}case"response":return m;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(t,o={}){return this.request("DELETE",t,o)}get(t,o={}){return this.request("GET",t,o)}head(t,o={}){return this.request("HEAD",t,o)}jsonp(t,o){return this.request("JSONP",t,{params:(new Am).append(o,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,o={}){return this.request("OPTIONS",t,o)}patch(t,o,s={}){return this.request("PATCH",t,sA(s,o))}post(t,o,s={}){return this.request("POST",t,sA(s,o))}put(t,o,s={}){return this.request("PUT",t,sA(s,o))}}return i.\u0275fac=function(t){return new(t||i)(ce(zW))},i.\u0275prov=Xe({token:i,factory:i.\u0275fac}),i})();const e7=["*"];let LC;function nw(i){var e;return(null===(e=function t7(){if(void 0===LC&&(LC=null,"undefined"!=typeof window)){const i=window;void 0!==i.trustedTypes&&(LC=i.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return LC}())||void 0===e?void 0:e.createHTML(i))||i}function cL(i){return Error(`Unable to find icon with the name "${i}"`)}function lL(i){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${i}".`)}function hL(i){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${i}".`)}class Iy{constructor(e,t,o){this.url=e,this.svgText=t,this.options=o}}let BC=(()=>{class i{constructor(t,o,s,u){this._httpClient=t,this._sanitizer=o,this._errorHandler=u,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=s}addSvgIcon(t,o,s){return this.addSvgIconInNamespace("",t,o,s)}addSvgIconLiteral(t,o,s){return this.addSvgIconLiteralInNamespace("",t,o,s)}addSvgIconInNamespace(t,o,s,u){return this._addSvgIconConfig(t,o,new Iy(s,null,u))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,o,s,u){const d=this._sanitizer.sanitize(hn.HTML,s);if(!d)throw hL(s);const m=nw(d);return this._addSvgIconConfig(t,o,new Iy("",m,u))}addSvgIconSet(t,o){return this.addSvgIconSetInNamespace("",t,o)}addSvgIconSetLiteral(t,o){return this.addSvgIconSetLiteralInNamespace("",t,o)}addSvgIconSetInNamespace(t,o,s){return this._addSvgIconSetConfig(t,new Iy(o,null,s))}addSvgIconSetLiteralInNamespace(t,o,s){const u=this._sanitizer.sanitize(hn.HTML,o);if(!u)throw hL(o);const d=nw(u);return this._addSvgIconSetConfig(t,new Iy("",d,s))}registerFontClassAlias(t,o=t){return this._fontCssClassesByAlias.set(t,o),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const o=this._sanitizer.sanitize(hn.RESOURCE_URL,t);if(!o)throw lL(t);const s=this._cachedIconsByUrl.get(o);return s?St(VC(s)):this._loadSvgIconFromConfig(new Iy(t,null)).pipe(bs(u=>this._cachedIconsByUrl.set(o,u)),je(u=>VC(u)))}getNamedSvgIcon(t,o=""){const s=dL(o,t);let u=this._svgIconConfigs.get(s);if(u)return this._getSvgFromConfig(u);if(u=this._getIconConfigFromResolvers(o,t),u)return this._svgIconConfigs.set(s,u),this._getSvgFromConfig(u);const d=this._iconSetConfigs.get(o);return d?this._getSvgFromIconSetConfigs(t,d):function HW(i,e){const t=me(i)?i:()=>i,o=s=>s.error(t());return new de(e?s=>e.schedule(o,0,s):o)}(cL(s))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?St(VC(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(je(o=>VC(o)))}_getSvgFromIconSetConfigs(t,o){const s=this._extractIconWithNameFromAnySet(t,o);return s?St(s):function qW(...i){const e=zl(i),{args:t,keys:o}=tN(i),s=new de(u=>{const{length:d}=t;if(!d)return void u.complete();const m=new Array(d);let y=d,b=d;for(let C=0;C<d;C++){let I=!1;W(t[C]).subscribe(new Ie(u,M=>{I||(I=!0,b--),m[C]=M},()=>y--,void 0,()=>{(!y||!I)&&(b||u.next(o?nN(o,m):m),u.complete())}))}});return e?s.pipe(ST(e)):s}(o.filter(d=>!d.svgText).map(d=>this._loadSvgIconSetFromConfig(d).pipe(Rf(m=>{const b=`Loading icon set URL: ${this._sanitizer.sanitize(hn.RESOURCE_URL,d.url)} failed: ${m.message}`;return this._errorHandler.handleError(new Error(b)),St(null)})))).pipe(je(()=>{const d=this._extractIconWithNameFromAnySet(t,o);if(!d)throw cL(t);return d}))}_extractIconWithNameFromAnySet(t,o){for(let s=o.length-1;s>=0;s--){const u=o[s];if(u.svgText&&u.svgText.toString().indexOf(t)>-1){const d=this._svgElementFromConfig(u),m=this._extractSvgIconFromSet(d,t,u.options);if(m)return m}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(bs(o=>t.svgText=o),je(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?St(null):this._fetchIcon(t).pipe(bs(o=>t.svgText=o))}_extractSvgIconFromSet(t,o,s){const u=t.querySelector(`[id="${o}"]`);if(!u)return null;const d=u.cloneNode(!0);if(d.removeAttribute("id"),"svg"===d.nodeName.toLowerCase())return this._setSvgAttributes(d,s);if("symbol"===d.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(d),s);const m=this._svgElementFromString(nw("<svg></svg>"));return m.appendChild(d),this._setSvgAttributes(m,s)}_svgElementFromString(t){const o=this._document.createElement("DIV");o.innerHTML=t;const s=o.querySelector("svg");if(!s)throw Error("<svg> tag not found");return s}_toSvgElement(t){const o=this._svgElementFromString(nw("<svg></svg>")),s=t.attributes;for(let u=0;u<s.length;u++){const{name:d,value:m}=s[u];"id"!==d&&o.setAttribute(d,m)}for(let u=0;u<t.childNodes.length;u++)t.childNodes[u].nodeType===this._document.ELEMENT_NODE&&o.appendChild(t.childNodes[u].cloneNode(!0));return o}_setSvgAttributes(t,o){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),o&&o.viewBox&&t.setAttribute("viewBox",o.viewBox),t}_fetchIcon(t){var o;const{url:s,options:u}=t,d=null!==(o=null==u?void 0:u.withCredentials)&&void 0!==o&&o;if(!this._httpClient)throw function n7(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==s)throw Error(`Cannot fetch icon from URL "${s}".`);const m=this._sanitizer.sanitize(hn.RESOURCE_URL,s);if(!m)throw lL(s);const y=this._inProgressUrlFetches.get(m);if(y)return y;const b=this._httpClient.get(m,{responseType:"text",withCredentials:d}).pipe(je(C=>nw(C)),uN(()=>this._inProgressUrlFetches.delete(m)),rd());return this._inProgressUrlFetches.set(m,b),b}_addSvgIconConfig(t,o,s){return this._svgIconConfigs.set(dL(t,o),s),this}_addSvgIconSetConfig(t,o){const s=this._iconSetConfigs.get(t);return s?s.push(o):this._iconSetConfigs.set(t,[o]),this}_svgElementFromConfig(t){if(!t.svgElement){const o=this._svgElementFromString(t.svgText);this._setSvgAttributes(o,t.options),t.svgElement=o}return t.svgElement}_getIconConfigFromResolvers(t,o){for(let s=0;s<this._resolvers.length;s++){const u=this._resolvers[s](o,t);if(u)return i7(u)?new Iy(u.url,null,u.options):new Iy(u,null)}}}return i.\u0275fac=function(t){return new(t||i)(ce(uL,8),ce(TT),ce(_n,8),ce(Ya))},i.\u0275prov=Xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function VC(i){return i.cloneNode(!0)}function dL(i,e){return i+":"+e}function i7(i){return!(!i.url||!i.options)}const o7=DF(class{constructor(i){this._elementRef=i}}),s7=new Qe("mat-icon-location",{providedIn:"root",factory:function a7(){const i=va(_n),e=i?i.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),fL=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],u7=fL.map(i=>`[${i}]`).join(", "),c7=/^url\(['"]?#(.*?)['"]?\)$/;let rw=(()=>{class i extends o7{constructor(t,o,s,u,d){super(t),this._iconRegistry=o,this._location=u,this._errorHandler=d,this._inline=!1,this._currentIconFetch=At.EMPTY,s||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=W0(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const o=this._cleanupFontValue(t);o!==this._fontSet&&(this._fontSet=o,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const o=this._cleanupFontValue(t);o!==this._fontIcon&&(this._fontIcon=o,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const o=t.split(":");switch(o.length){case 1:return["",o[0]];case 2:return o;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const o=this._location.getPathname();o!==this._previousPath&&(this._previousPath=o,this._prependPathToReferences(o))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const o=t.querySelectorAll("style");for(let u=0;u<o.length;u++)o[u].textContent+=" ";const s=this._location.getPathname();this._previousPath=s,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(s),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let o=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();o--;){const s=t.childNodes[o];(1!==s.nodeType||"svg"===s.nodeName.toLowerCase())&&s.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,o=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();o!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),o&&t.classList.add(o),this._previousFontSetClass=o),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const o=this._elementsWithExternalReferences;o&&o.forEach((s,u)=>{s.forEach(d=>{u.setAttribute(d.name,`url('${t}#${d.value}')`)})})}_cacheChildrenWithExternalReferences(t){const o=t.querySelectorAll(u7),s=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let u=0;u<o.length;u++)fL.forEach(d=>{const m=o[u],y=m.getAttribute(d),b=y?y.match(c7):null;if(b){let C=s.get(m);C||(C=[],s.set(m,C)),C.push({name:d,value:b[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[o,s]=this._splitIconName(t);o&&(this._svgNamespace=o),s&&(this._svgName=s),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(s,o).pipe(ei(1)).subscribe(u=>this._setSvgElement(u),u=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${o}:${s}! ${u.message}`))})}}}return i.\u0275fac=function(t){return new(t||i)(ve(Ro),ve(BC),gc("aria-hidden"),ve(s7),ve(Ya))},i.\u0275cmp=Ar({type:i,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,o){2&t&&(jh("data-mat-icon-type",o._usingFontIcon()?"font":"svg")("data-mat-icon-name",o._svgName||o.fontIcon)("data-mat-icon-namespace",o._svgNamespace||o.fontSet),Df("mat-icon-inline",o.inline)("mat-icon-no-color","primary"!==o.color&&"accent"!==o.color&&"warn"!==o.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[Bh],ngContentSelectors:e7,decls:1,vars:0,template:function(t,o){1&t&&(cy(),Uh(0))},styles:[".mat-icon{-webkit-user-select:none;-moz-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),i})(),pL=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=kn({type:i}),i.\u0275inj=Be({imports:[[Jo],Jo]}),i})();function l7(i,e){1&i&&(Ce(0,"div",9),Hn(1,"img",10),De())}let h7=(()=>{class i{constructor(t,o){this.dialog=t,this.router=o,this.auth=new q0,this.firestore=new z_,this.storage=new UW}ngOnInit(){}onPostClick(t){let o=t.value;o.length<=0||(this.selectedImageFile?this.uploadImagePost(o):this.uploadPost(o))}uploadImagePost(t){let o=this.firestore.genDocId();this.storage.upload({uploadName:"upload Image Post",path:["Posts",o,"image"],data:{data:this.selectedImageFile},onComplete:s=>{this.firestore.create({path:["Posts",o],data:{comment:t,creatorId:this.auth.getAuth().currentUser.uid,imageUrl:s,timestamp:Bu.getFirestoreTimestamp()},onComplete:u=>{alert("Post is Uploaded"),this.dialog.close()}})}})}uploadPost(t){this.firestore.create({path:["Posts"],data:{comment:t,creatorId:this.auth.getAuth().currentUser.uid,timestamp:Bu.getFirestoreTimestamp()},onComplete:o=>{alert("Post is Uploaded"),this.dialog.close()}})}onPhotoSelected(t){if(this.selectedImageFile=t.files[0],!this.selectedImageFile)return;let o=new FileReader;o.readAsDataURL(this.selectedImageFile),o.addEventListener("loadend",s=>{let u=o.result.toString();document.getElementById("post-preview-image").src=u})}}return i.\u0275fac=function(t){return new(t||i)(ve(eA),ve(Zs))},i.\u0275cmp=Ar({type:i,selectors:[["app-create-post"]],decls:17,vars:1,consts:[["placeholder","Type Message..."],["commentInput",""],["class","post-preview",4,"ngIf"],["align","end"],["mat-button","","color","warn"],["for","photo-upload"],["id","photo-upload","type","file","accept","image/*",3,"change"],["photoSelector",""],["mat-flat-button","","color","warn",3,"click"],[1,"post-preview"],["id","post-preview-image"]],template:function(t,o){if(1&t){const s=Cf();Ce(0,"mat-card"),Ce(1,"mat-card-header"),Ce(2,"mat-card-title"),bt(3,"Create Post"),De(),De(),Ce(4,"div"),Hn(5,"textarea",0,1),De(),Fc(7,l7,2,0,"div",2),Ce(8,"mat-card-actions",3),Ce(9,"button",4),Ce(10,"label",5),Ce(11,"input",6,7),Pr("change",function(){Bi(s);const d=Pu(12);return o.onPhotoSelected(d)}),De(),Ce(13,"mat-icon"),bt(14,"insert_photo"),De(),De(),De(),Ce(15,"button",8),Pr("click",function(){Bi(s);const d=Pu(6);return o.onPostClick(d)}),bt(16,"Post"),De(),De(),De()}2&t&&(Xn(7),so("ngIf",o.selectedImageFile))},directives:[rA,iA,tA,A0,nA,Ff,rw],styles:["#photo-upload[_ngcontent-%COMP%]{display:none}textarea[_ngcontent-%COMP%]{font-size:1.5em;padding:1em;resize:none;width:250px;min-height:200px;border:none;outline:none}.post-preview[_ngcontent-%COMP%]{text-align:right;margin-top:16px}#post-preview-image[_ngcontent-%COMP%]{object-fit:cover;object-position:center;width:150px;height:100px;border-radius:1em;border:1px dashed gray}"]}),i})();function d7(i,e){1&i&&Hn(0,"app-post",3),2&i&&so("postData",e.$implicit)}let mL=(()=>{class i{constructor(t){this.dialog=t,this.posts=[],this.firestore=new z_}ngOnInit(){this.getPosts()}onCreatePostClick(){this.dialog.open(h7)}getPosts(){this.firestore.getCollection({path:["Posts"],where:[new tL("timestamp","desc"),new jW(10)],onComplete:t=>{t.docs.forEach(o=>{let s=o.data();s.postId=o.id,this.posts.push(s)})},onFail:t=>{}})}}return i.\u0275fac=function(t){return new(t||i)(ve(ew))},i.\u0275cmp=Ar({type:i,selectors:[["app-post-feed"]],decls:5,vars:1,consts:[["id","post-feed"],[3,"postData",4,"ngFor","ngForOf"],["mat-fab","","color","warn","id","post-button",3,"click"],[3,"postData"]],template:function(t,o){1&t&&(Ce(0,"div",0),Fc(1,d7,1,1,"app-post",1),De(),Ce(2,"button",2),Pr("click",function(){return o.onCreatePostClick()}),Ce(3,"mat-icon"),bt(4,"add"),De(),De()),2&t&&(Xn(1),so("ngForOf",o.posts))},styles:["#post-button[_ngcontent-%COMP%]{position:fixed;bottom:2em;right:2em}#post-feed[_ngcontent-%COMP%]{max-width:500px;margin-top:5em;margin-left:auto;margin-right:auto}"]}),i})();const f7=[{path:"",component:eL},{path:"emailVerification",component:PK},{path:"postfeed",component:mL},{path:"profilepage",component:(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=Ar({type:i,selectors:[["app-profile-page"]],decls:31,vars:0,consts:[[1,"form_s"],[1,"number"],["type","text","name","field1","placeholder","Your Name *"],["type","email","name","field2","placeholder","Your Email *"],["type","number","name","field5","placeholder","Your Contact *"],["type","date","id","birthday","name","birthday"],["name","field3","placeholder","Bio"],["type","file","id","myFile","name","field4"],["mat-flat-button","","color","primary"],["mat-flat-button","","color","warn"]],template:function(t,o){1&t&&(Ce(0,"div",0),Ce(1,"form"),Ce(2,"fieldset"),Ce(3,"legend"),Ce(4,"span",1),bt(5,"1"),De(),bt(6,"User Info"),De(),Hn(7,"input",2),Hn(8,"input",3),Hn(9,"input",4),Hn(10,"input",5),De(),Ce(11,"fieldset"),Ce(12,"legend"),Ce(13,"span",1),bt(14,"2"),De(),bt(15," Additional Info"),De(),Hn(16,"textarea",6),De(),Ce(17,"fieldset"),Ce(18,"legend"),Ce(19,"span",1),bt(20,"3"),De(),bt(21," Upload Photo"),De(),Hn(22,"input",7),bt(23,"Upload Profile Photo "),De(),Hn(24,"br"),Hn(25,"br"),Ce(26,"button",8),bt(27,"Submit"),De(),bt(28,"\xa0\xa0 "),Ce(29,"button",9),bt(30,"Edit"),De(),De(),De())},directives:[Ff],styles:[".form_s[_ngcontent-%COMP%]{max-width:500px;margin:10px auto;padding:30px 20px 20px;background:#f4f7f8;border-radius:8px;font-family:Georgia,Times New Roman,Times,serif}.form_s[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]{border:none}.form_s[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]{font-size:1.4em;margin-bottom:10px}.form_s[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .form_s[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%], .form_s[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%], .form_s[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%], .form_s[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%], .form_s[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{font-family:Georgia,Times New Roman,Times,serif;background:rgba(255,255,255,.1);border:none;border-radius:4px;font-size:15px;margin:0 0 30px;outline:0;padding:10px;width:100%;box-sizing:border-box;background-color:#e8eeef;color:#8a97a0;box-shadow:0 1px #00000008 inset}.form_s[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus, .form_s[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%]:focus, .form_s[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]:focus, .form_s[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]:focus, .form_s[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%], .form_s[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{background:#d2d9dd}.form_s[_ngcontent-%COMP%]   .number[_ngcontent-%COMP%]{background:#1abc9c;color:#fff;height:30px;width:30px;display:inline-block;font-size:.8em;margin-right:4px;line-height:30px;text-align:center;text-shadow:0 1px 0 rgba(255,255,255,.2);border-radius:15px 15px 15px 0}"]}),i})()},{path:"**",component:eL}];let p7=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=kn({type:i}),i.\u0275inj=Be({imports:[[oP.forRoot(f7)],oP]}),i})();function gL(i,e){return e?t=>QE(e.pipe(ei(1),function m7(){return Ge((i,e)=>{i.subscribe(new Ie(e,Me))})}()),t.pipe(gL(i))):nr((t,o)=>i(t,o).pipe(ei(1),function g7(i){return je(()=>i)}(t)))}function yL(i,e=sS){const t=OF(i,e);return gL(()=>t)}const y7=["mat-menu-item",""];function v7(i,e){1&i&&(function ji(){pe.lFrame.currentNamespace=st}(),Ce(0,"svg",2),Hn(1,"polygon",3),De())}const vL=["*"];function _7(i,e){if(1&i){const t=Cf();Ce(0,"div",0),Pr("keydown",function(s){return Bi(t),Lc()._handleKeydown(s)})("click",function(){return Bi(t),Lc().closed.emit("click")})("@transformMenu.start",function(s){return Bi(t),Lc()._onAnimationStart(s)})("@transformMenu.done",function(s){return Bi(t),Lc()._onAnimationDone(s)}),Ce(1,"div",1),Uh(2),De(),De()}if(2&i){const t=Lc();so("id",t.panelId)("ngClass",t._classList)("@transformMenu",t._panelAnimationState),jh("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null)}}const jC={transformMenu:yC("transformMenu",[Q0("void",Vu({opacity:0,transform:"scale(0.8)"})),B_("void => enter",L_("120ms cubic-bezier(0, 0, 0.2, 1)",Vu({opacity:1,transform:"scale(1)"}))),B_("* => void",L_("100ms 25ms linear",Vu({opacity:0})))]),fadeInItems:yC("fadeInItems",[Q0("showing",Vu({opacity:1})),B_("void => *",[Vu({opacity:0}),L_("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},b7=new Qe("MatMenuContent"),aA=new Qe("MAT_MENU_PANEL"),w7=IF(CF(class{}));let UC=(()=>{class i extends w7{constructor(t,o,s,u,d){var m;super(),this._elementRef=t,this._document=o,this._focusMonitor=s,this._parentMenu=u,this._changeDetectorRef=d,this.role="menuitem",this._hovered=new et,this._focused=new et,this._highlighted=!1,this._triggersSubmenu=!1,null===(m=null==u?void 0:u.addItem)||void 0===m||m.call(u,this)}focus(t,o){this._focusMonitor&&t?this._focusMonitor.focusVia(this._getHostElement(),t,o):this._getHostElement().focus(o),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){var t;const o=this._elementRef.nativeElement.cloneNode(!0),s=o.querySelectorAll("mat-icon, .material-icons");for(let u=0;u<s.length;u++)s[u].remove();return(null===(t=o.textContent)||void 0===t?void 0:t.trim())||""}_setHighlighted(t){var o;this._highlighted=t,null===(o=this._changeDetectorRef)||void 0===o||o.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return i.\u0275fac=function(t){return new(t||i)(ve(Ro),ve(_n),ve(gC),ve(aA,8),ve(hy))},i.\u0275cmp=Ar({type:i,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(t,o){1&t&&Pr("click",function(u){return o._checkDisabled(u)})("mouseenter",function(){return o._handleMouseEnter()}),2&t&&(jh("role",o.role)("tabindex",o._getTabIndex())("aria-disabled",o.disabled.toString())("disabled",o.disabled||null),Df("mat-menu-item",!0)("mat-menu-item-highlighted",o._highlighted)("mat-menu-item-submenu-trigger",o._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[Bh],attrs:y7,ngContentSelectors:vL,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(t,o){1&t&&(cy(),Uh(0),Hn(1,"div",0),Fc(2,v7,2,0,"svg",1)),2&t&&(Xn(1),so("matRippleDisabled",o.disableRipple||o.disabled)("matRippleTrigger",o._getHostElement()),Xn(1),so("ngIf",o._triggersSubmenu))},directives:[US,A0],encapsulation:2,changeDetection:0}),i})();const _L=new Qe("mat-menu-default-options",{providedIn:"root",factory:function E7(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let C7=0,iw=(()=>{class i{constructor(t,o,s,u){this._elementRef=t,this._ngZone=o,this._defaultOptions=s,this._changeDetectorRef=u,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new w_,this._tabSubscription=At.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new et,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new $i,this.close=this.closed,this.panelId="mat-menu-panel-"+C7++}get xPosition(){return this._xPosition}set xPosition(t){this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){this._yPosition=t,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(t){this._overlapTrigger=W0(t)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=W0(t)}set panelClass(t){const o=this._previousPanelClass;o&&o.length&&o.split(" ").forEach(s=>{this._classList[s]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(s=>{this._classList[s]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(t){this.panelClass=t}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new x6(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(k0(this._directDescendantItems),kf(t=>Fa(...t.map(o=>o._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t)),this._directDescendantItems.changes.subscribe(t=>{var o;const s=this._keyManager;if("enter"===this._panelAnimationState&&(null===(o=s.activeItem)||void 0===o?void 0:o._hasFocus())){const u=t.toArray(),d=Math.max(0,Math.min(u.length-1,s.activeItemIndex||0));u[d]&&!u[d].disabled?s.setActiveItem(d):s.setNextItemActive()}})}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(k0(this._directDescendantItems),kf(o=>Fa(...o.map(s=>s._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){const o=t.keyCode,s=this._keyManager;switch(o){case 27:rS(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===o||40===o)&&s.setFocusOrigin("keyboard"),void s.onKeydown(t)}t.stopPropagation()}focusFirstItem(t="program"){this.lazyContent?this._ngZone.onStable.pipe(ei(1)).subscribe(()=>this._focusFirstItem(t)):this._focusFirstItem(t)}_focusFirstItem(t){const o=this._keyManager;if(o.setFocusOrigin(t).setFirstItemActive(),!o.activeItem&&this._directDescendantItems.length){let s=this._directDescendantItems.first._getHostElement().parentElement;for(;s;){if("menu"===s.getAttribute("role")){s.focus();break}s=s.parentElement}}}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){const o=Math.min(this._baseElevation+t,24),s=`${this._elevationPrefix}${o}`,u=Object.keys(this._classList).find(d=>d.startsWith(this._elevationPrefix));(!u||u===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[s]=!0,this._previousElevation=s)}setPositionClasses(t=this.xPosition,o=this.yPosition){var s;const u=this._classList;u["mat-menu-before"]="before"===t,u["mat-menu-after"]="after"===t,u["mat-menu-above"]="above"===o,u["mat-menu-below"]="below"===o,null===(s=this._changeDetectorRef)||void 0===s||s.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(t){this._animationDone.next(t),this._isAnimating=!1}_onAnimationStart(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(k0(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(o=>o._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return i.\u0275fac=function(t){return new(t||i)(ve(Ro),ve(An),ve(_L),ve(hy))},i.\u0275dir=Bn({type:i,contentQueries:function(t,o,s){if(1&t&&(E_(s,b7,5),E_(s,UC,5),E_(s,UC,4)),2&t){let u;Tf(u=Sf())&&(o.lazyContent=u.first),Tf(u=Sf())&&(o._allItems=u),Tf(u=Sf())&&(o.items=u)}},viewQuery:function(t,o){if(1&t&&CE(Ll,5),2&t){let s;Tf(s=Sf())&&(o.templateRef=s.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),i})(),D7=(()=>{class i extends iw{constructor(t,o,s,u){super(t,o,s,u),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return i.\u0275fac=function(t){return new(t||i)(ve(Ro),ve(An),ve(_L),ve(hy))},i.\u0275cmp=Ar({type:i,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(t,o){2&t&&jh("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[aR([{provide:aA,useExisting:i}]),Bh],ngContentSelectors:vL,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(t,o){1&t&&(cy(),Fc(0,_7,3,6,"ng-template"))},directives:[HE],styles:["mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]{pointer-events:none}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n"],encapsulation:2,data:{animation:[jC.transformMenu,jC.fadeInItems]},changeDetection:0}),i})();const bL=new Qe("mat-menu-scroll-strategy"),T7={provide:bL,deps:[q_],useFactory:function I7(i){return()=>i.scrollStrategies.reposition()}},EL=dC({passive:!0});let S7=(()=>{class i{constructor(t,o,s,u,d,m,y,b,C){this._overlay=t,this._element=o,this._viewContainerRef=s,this._menuItemInstance=m,this._dir=y,this._focusMonitor=b,this._ngZone=C,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=At.EMPTY,this._hoverSubscription=At.EMPTY,this._menuCloseSubscription=At.EMPTY,this._handleTouchStart=I=>{uS(I)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new $i,this.onMenuOpen=this.menuOpened,this.menuClosed=new $i,this.onMenuClose=this.menuClosed,this._scrollStrategy=u,this._parentMaterialMenu=d instanceof iw?d:void 0,o.nativeElement.addEventListener("touchstart",this._handleTouchStart,EL),m&&(m._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.subscribe(o=>{this._destroyMenu(o),("click"===o||"tab"===o)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(o)})))}ngAfterContentInit(){this._checkMenu(),this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,EL),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){if(this._menuOpen)return;this._checkMenu();const t=this._createOverlay(),o=t.getConfig(),s=o.positionStrategy;this._setPosition(s),o.hasBackdrop=null==this.menu.hasBackdrop?!this.triggersSubmenu():this.menu.hasBackdrop,t.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(),this.menu instanceof iw&&(this.menu._startAnimation(),this.menu._directDescendantItems.changes.pipe(K0(this.menu.close)).subscribe(()=>{s.withLockedPosition(!1).reapplyLastPosition(),s.withLockedPosition(!0)}))}closeMenu(){this.menu.close.emit()}focus(t,o){this._focusMonitor&&t?this._focusMonitor.focusVia(this._element,t,o):this._element.nativeElement.focus(o)}updatePosition(){var t;null===(t=this._overlayRef)||void 0===t||t.updatePosition()}_destroyMenu(t){if(!this._overlayRef||!this.menuOpen)return;const o=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===t||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,o instanceof iw?(o._resetAnimation(),o.lazyContent?o._animationDone.pipe(Xo(s=>"void"===s.toState),ei(1),K0(o.lazyContent._attached)).subscribe({next:()=>o.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),o.lazyContent&&o.lazyContent.detach())}_initMenu(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this.menu.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(){if(this.menu.setElevation){let t=0,o=this.menu.parentMenu;for(;o;)t++,o=o.parentMenu;this.menu.setElevation(t)}}_setIsMenuOpen(t){this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(t)}_checkMenu(){}_createOverlay(){if(!this._overlayRef){const t=this._getOverlayConfig();this._subscribeToPositions(t.positionStrategy),this._overlayRef=this._overlay.create(t),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(){return new XS({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:this.menu.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(t){this.menu.setPositionClasses&&t.positionChanges.subscribe(o=>{const s="start"===o.connectionPair.overlayX?"after":"before",u="top"===o.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>this.menu.setPositionClasses(s,u)):this.menu.setPositionClasses(s,u)})}_setPosition(t){let[o,s]="before"===this.menu.xPosition?["end","start"]:["start","end"],[u,d]="above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],[m,y]=[u,d],[b,C]=[o,s],I=0;this.triggersSubmenu()?(C=o="before"===this.menu.xPosition?"start":"end",s=b="end"===o?"start":"end",I="bottom"===u?8:-8):this.menu.overlapTrigger||(m="top"===u?"bottom":"top",y="top"===d?"bottom":"top"),t.withPositions([{originX:o,originY:m,overlayX:b,overlayY:u,offsetY:I},{originX:s,originY:m,overlayX:C,overlayY:u,offsetY:I},{originX:o,originY:y,overlayX:b,overlayY:d,offsetY:-I},{originX:s,originY:y,overlayX:C,overlayY:d,offsetY:-I}])}_menuClosingActions(){const t=this._overlayRef.backdropClick(),o=this._overlayRef.detachments();return Fa(t,this._parentMaterialMenu?this._parentMaterialMenu.closed:St(),this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(Xo(d=>d!==this._menuItemInstance),Xo(()=>this._menuOpen)):St(),o)}_handleMousedown(t){aS(t)||(this._openedBy=0===t.button?"mouse":void 0,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){const o=t.keyCode;(13===o||32===o)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===o&&"ltr"===this.dir||37===o&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(Xo(t=>t===this._menuItemInstance&&!t.disabled),yL(0,zS)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof iw&&this.menu._isAnimating?this.menu._animationDone.pipe(ei(1),yL(0,zS),K0(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(){return(!this._portal||this._portal.templateRef!==this.menu.templateRef)&&(this._portal=new WS(this.menu.templateRef,this._viewContainerRef)),this._portal}}return i.\u0275fac=function(t){return new(t||i)(ve(q_),ve(Ro),ve(Fu),ve(bL),ve(aA,8),ve(UC,10),ve(hC,8),ve(gC),ve(An))},i.\u0275dir=Bn({type:i,hostAttrs:["aria-haspopup","true"],hostVars:2,hostBindings:function(t,o){1&t&&Pr("click",function(u){return o._handleClick(u)})("mousedown",function(u){return o._handleMousedown(u)})("keydown",function(u){return o._handleKeydown(u)}),2&t&&jh("aria-expanded",o.menuOpen||null)("aria-controls",o.menuOpen?o.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),i})(),A7=(()=>{class i extends S7{}return i.\u0275fac=function(){let e;return function(o){return(e||(e=cp(i)))(o||i)}}(),i.\u0275dir=Bn({type:i,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[Bh]}),i})(),CL=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=kn({type:i}),i.\u0275inj=Be({providers:[T7],imports:[[_T,Jo,xF,KF],GS,Jo]}),i})();const x7=function(i,e){return{active:i,idle:e}};let M7=(()=>{class i{constructor(){this.firestore=new z_,this.auth=new q0}ngOnInit(){}onContinueClick(t,o){let s=t.value,u=o.value;this.firestore.create({path:["Users",this.auth.getAuth().currentUser.uid],data:{publicName:s,description:u},onComplete:d=>{alert("Profile is Created"),t.value="",o.value=""},onFail:d=>{}})}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=Ar({type:i,selectors:[["app-profile"]],inputs:{show:"show"},decls:8,vars:4,consts:[[1,"profile",3,"ngClass"],[1,"profile-content"],["placeholder","Name"],["nameInput",""],["placeholder","Description"],["descriptionInput",""],["mat-flat-button","","color","warn",3,"click"]],template:function(t,o){if(1&t){const s=Cf();Ce(0,"div",0),Ce(1,"div",1),Hn(2,"input",2,3),Hn(4,"textarea",4,5),Ce(6,"button",6),Pr("click",function(){Bi(s);const d=Pu(3),m=Pu(5);return o.onContinueClick(d,m)}),bt(7,"Continue"),De(),De(),De()}2&t&&so("ngClass",function gR(i,e,t,o,s){return vR(ye(),gi(),i,e,t,o,s)}(1,x7,o.show,!o.show))},directives:[HE,Ff],styles:[".profile[_ngcontent-%COMP%]{position:fixed;top:0%;right:0%;height:100vh;background-color:#1d1d1d;z-index:9;transition-duration:.5s;overflow:hidden;display:flex;justify-content:center;align-items:center}.active[_ngcontent-%COMP%]{width:100vw}.idle[_ngcontent-%COMP%]{width:0}.profile-content[_ngcontent-%COMP%]{width:100%;max-width:500px;padding:32px;box-sizing:border-box}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:16px;border-radius:1em;margin-bottom:.5em;resize:none;outline:none;border:1px solid gray;box-sizing:border-box}"]}),i})();function k7(i,e){if(1&i){const t=Cf();Ce(0,"button",10),Pr("click",function(){return Bi(t),Lc().onLoginClick()}),Ce(1,"mat-icon"),bt(2,"login"),De(),bt(3,"Log In"),De()}}function R7(i,e){if(1&i&&(Ce(0,"button",11),Ce(1,"mat-icon"),bt(2,"account_circle"),De(),bt(3),Ce(4,"mat-icon"),bt(5,"expand_more"),De(),De()),2&i){const t=Lc();so("matMenuTriggerFor",Pu(11)),Xn(3),f0("",t.getUsername()," ")}}let Ty=(()=>{class i{constructor(t,o){this.loginSheet=t,this.router=o,this.title="SocialMediaApp",this.auth=new q0,this.firestore=new z_,this.userHasProfile=!0,this.auth.listenToSignInStateChanges(s=>{this.auth.checkSignInState({whenSignedIn:u=>{},whenSignedOut:u=>{i.userDocument=null},whenSignedInAndEmailNotVerified:u=>{this.router.navigate(["emailVerification"])},whenSignedInAndEmailVerified:u=>{this.getUserProfile()},whenChanged:u=>{}})})}static getUserDocument(){return i.userDocument}getUsername(){try{return i.userDocument.publicName}catch(t){}}getUserProfile(){var t;this.firestore.listenToDocument({name:"Getting Document",path:["Users",null===(t=this.auth.getAuth().currentUser)||void 0===t?void 0:t.uid],onUpdate:o=>{i.userDocument=o.data(),this.userHasProfile=o.exists,i.userDocument.userId=this.auth.getAuth().currentUser.uid,this.userHasProfile&&this.router.navigate(["postfeed"])}})}loggedIn(){return this.auth.isSignedIn()}onLoginClick(){this.loginSheet.open(ZF)}onLogoutClick(){this.auth.signOut(),this.router.navigate([""])}onProfileClick(){this.router.navigate(["profilepage"])}onHomeClick(){this.router.navigate(["postfeed"])}}return i.userDocument={publicName:"",description:"",userId:""},i.\u0275fac=function(t){return new(t||i)(ve(ew),ve(Zs))},i.\u0275cmp=Ar({type:i,selectors:[["app-root"]],decls:19,vars:3,consts:[[1,"nav-bar"],[1,"nav-bar-content"],[1,"nav-bar-left"],[1,"nav-bar-items",2,"font-size","28px","font-family","'Monoton', cursive"],[1,"nav-bar-right"],["class","nav-bar-items","mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","mat-raised-button","","class","nav-bar-items","color","primary",3,"matMenuTriggerFor",4,"ngIf"],["userMenu","matMenu"],["mat-menu-item","",3,"click"],[3,"show"],["mat-raised-button","","color","primary",1,"nav-bar-items",3,"click"],["mat-raised-button","","mat-raised-button","","color","primary",1,"nav-bar-items",3,"matMenuTriggerFor"]],template:function(t,o){1&t&&(Ce(0,"div",0),Ce(1,"div",1),Ce(2,"div",2),Ce(3,"div",3),bt(4,"ConnectMe"),De(),De(),Ce(5,"div",4),Fc(6,k7,4,0,"button",5),Fc(7,R7,6,2,"button",6),De(),De(),bt(8,"\xa0\n"),De(),Hn(9,"router-outlet"),Ce(10,"mat-menu",null,7),Ce(12,"button",8),Pr("click",function(){return o.onHomeClick()}),bt(13,"Home"),De(),Ce(14,"button",8),Pr("click",function(){return o.onProfileClick()}),bt(15,"Profile"),De(),Ce(16,"button",8),Pr("click",function(){return o.onLogoutClick()}),bt(17,"Logout"),De(),De(),Hn(18,"app-profile",9)),2&t&&(Xn(6),so("ngIf",!o.loggedIn()),Xn(1),so("ngIf",o.loggedIn()&&o.userHasProfile),Xn(11),so("show",o.loggedIn()&&!o.userHasProfile))},directives:[A0,Ff,rw,A7,HT,D7,UC,M7],styles:[".nav-bar[_ngcontent-%COMP%]{position:fixed;top:0px;left:0px;width:100%;height:80px;z-index:10}.nav-bar-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:50% 50%;height:100%}.nav-bar-left[_ngcontent-%COMP%], .nav-bar-right[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%;padding:0 32px;color:#000;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}.nav-bar-right[_ngcontent-%COMP%]{justify-content:flex-end}.nav-bar-items[_ngcontent-%COMP%]{font-size:16px;display:inline-block;cursor:pointer;margin-right:16px}"]}),i})();const G_=$t(707),uA_firebaseConfig={apiKey:"AIzaSyCPPUMSXiSLzJK5t-UhIgt1bhBThU6ioSg",authDomain:"socialmediaproject-8cc6c.firebaseapp.com",projectId:"socialmediaproject-8cc6c",storageBucket:"socialmediaproject-8cc6c.appspot.com",messagingSenderId:"140920579719",appId:"1:140920579719:web:21f489f7476156ee9b3a22",measurementId:"G-ESH0CLY5GM"};function DL(i,e,t,o,s,u,d){try{var m=i[u](d),y=m.value}catch(b){return void t(b)}m.done?e(y):Promise.resolve(y).then(o,s)}function We(i){return function(){var e=this,t=arguments;return new Promise(function(o,s){var u=i.apply(e,t);function d(y){DL(u,o,s,d,m,"next",y)}function m(y){DL(u,o,s,d,m,"throw",y)}d(void 0)})}}const IL=function(i){const e=[];let t=0;for(let o=0;o<i.length;o++){let s=i.charCodeAt(o);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=63&s|128):55296==(64512&s)&&o+1<i.length&&56320==(64512&i.charCodeAt(o+1))?(s=65536+((1023&s)<<10)+(1023&i.charCodeAt(++o)),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=63&s|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=63&s|128)}return e},TL={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let s=0;s<i.length;s+=3){const u=i[s],d=s+1<i.length,m=d?i[s+1]:0,y=s+2<i.length,b=y?i[s+2]:0;let M=(15&m)<<2|b>>6,O=63&b;y||(O=64,d||(M=64)),o.push(t[u>>2],t[(3&u)<<4|m>>4],t[M],t[O])}return o.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(IL(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):function(i){const e=[];let t=0,o=0;for(;t<i.length;){const s=i[t++];if(s<128)e[o++]=String.fromCharCode(s);else if(s>191&&s<224){const u=i[t++];e[o++]=String.fromCharCode((31&s)<<6|63&u)}else if(s>239&&s<365){const y=((7&s)<<18|(63&i[t++])<<12|(63&i[t++])<<6|63&i[t++])-65536;e[o++]=String.fromCharCode(55296+(y>>10)),e[o++]=String.fromCharCode(56320+(1023&y))}else{const u=i[t++],d=i[t++];e[o++]=String.fromCharCode((15&s)<<12|(63&u)<<6|63&d)}}return e.join("")}(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let s=0;s<i.length;){const u=t[i.charAt(s++)],m=s<i.length?t[i.charAt(s)]:0;++s;const b=s<i.length?t[i.charAt(s)]:64;++s;const I=s<i.length?t[i.charAt(s)]:64;if(++s,null==u||null==m||null==b||null==I)throw Error();o.push(u<<2|m>>4),64!==b&&(o.push(m<<4&240|b>>2),64!==I&&o.push(b<<6&192|I))}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}},HC=function(i){return function(i){const e=IL(i);return TL.encodeByteArray(e,!0)}(i).replace(/\./g,"")};class V7{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,o)=>{t?this.reject(t):this.resolve(o),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,o))}}}function qC(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class zC extends Error{constructor(e,t,o){super(t),this.code=e,this.customData=o,this.name="FirebaseError",Object.setPrototypeOf(this,zC.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xL.prototype.create)}}class xL{constructor(e,t,o){this.service=e,this.serviceName=t,this.errors=o}create(e,...t){const o=t[0]||{},s=`${this.service}/${e}`,u=this.errors[e],d=u?function Y7(i,e){return i.replace(X7,(t,o)=>{const s=e[o];return null!=s?String(s):`<${o}?>`})}(u,o):"Error";return new zC(s,`${this.serviceName}: ${d} (${s}).`,o)}}const X7=/\{\$([^}]+)}/g;function lA(i,e){if(i===e)return!0;const t=Object.keys(i),o=Object.keys(e);for(const s of t){if(!o.includes(s))return!1;const u=i[s],d=e[s];if(kL(u)&&kL(d)){if(!lA(u,d))return!1}else if(u!==d)return!1}for(const s of o)if(!t.includes(s))return!1;return!0}function kL(i){return null!==i&&"object"==typeof i}function xm(i){return i&&i._delegate?i._delegate:i}function ow(i,e){return new Promise((t,o)=>{i.onsuccess=s=>{t(s.target.result)},i.onerror=s=>{var u;o(`${e}: ${null===(u=s.target.error)||void 0===u?void 0:u.message}`)}})}class RL{constructor(e){this._db=e,this.objectStoreNames=this._db.objectStoreNames}transaction(e,t){return new OL(this._db.transaction.call(this._db,e,t))}createObjectStore(e,t){return new NL(this._db.createObjectStore(e,t))}close(){this._db.close()}}class OL{constructor(e){this._transaction=e,this.complete=new Promise((t,o)=>{this._transaction.oncomplete=function(){t()},this._transaction.onerror=()=>{o(this._transaction.error)},this._transaction.onabort=()=>{o(this._transaction.error)}})}objectStore(e){return new NL(this._transaction.objectStore(e))}}class NL{constructor(e){this._store=e}index(e){return new PL(this._store.index(e))}createIndex(e,t,o){return new PL(this._store.createIndex(e,t,o))}get(e){return ow(this._store.get(e),"Error reading from IndexedDB")}put(e,t){return ow(this._store.put(e,t),"Error writing to IndexedDB")}delete(e){return ow(this._store.delete(e),"Error deleting from IndexedDB")}clear(){return ow(this._store.clear(),"Error clearing IndexedDB object store")}}class PL{constructor(e){this._index=e}get(e){return ow(this._index.get(e),"Error reading from IndexedDB")}}class sw{constructor(e,t,o){this.name=e,this.instanceFactory=t,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Sy="[DEFAULT]";class sQ{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const o=new V7;if(this.instancesDeferred.set(t,o),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&o.resolve(s)}catch(s){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const o=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),s=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(o)&&!this.shouldAutoInitialize()){if(s)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:o})}catch(u){if(s)return null;throw u}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function uQ(i){return"EAGER"===i.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Sy})}catch(t){}for(const[t,o]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:s});o.resolve(u)}catch(u){}}}}clearInstance(e=Sy){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return We(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(o=>"INTERNAL"in o).map(o=>o.INTERNAL.delete()),...t.filter(o=>"_delete"in o).map(o=>o._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Sy){return this.instances.has(e)}getOptions(e=Sy){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:o,options:t});for(const[u,d]of this.instancesDeferred.entries())o===this.normalizeInstanceIdentifier(u)&&d.resolve(s);return s}onInit(e,t){var o;const s=this.normalizeInstanceIdentifier(t),u=null!==(o=this.onInitCallbacks.get(s))&&void 0!==o?o:new Set;u.add(e),this.onInitCallbacks.set(s,u);const d=this.instances.get(s);return d&&e(d,s),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const o=this.onInitCallbacks.get(t);if(o)for(const s of o)try{s(e,t)}catch(u){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let o=this.instances.get(e);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(i=e,i===Sy?void 0:i),options:t}),this.instances.set(e,o),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(o,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,o)}catch(s){}var i;return o||null}normalizeInstanceIdentifier(e=Sy){return this.component?this.component.multipleInstances?e:Sy:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class cQ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new sQ(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const pA=[];var er=(()=>{return(i=er||(er={}))[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT",er;var i})();const FL={debug:er.DEBUG,verbose:er.VERBOSE,info:er.INFO,warn:er.WARN,error:er.ERROR,silent:er.SILENT},lQ=er.INFO,hQ={[er.DEBUG]:"log",[er.VERBOSE]:"log",[er.INFO]:"info",[er.WARN]:"warn",[er.ERROR]:"error"},dQ=(i,e,...t)=>{if(e<i.logLevel)return;const o=(new Date).toISOString(),s=hQ[e];if(!s)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[s](`[${o}]  ${i.name}:`,...t)};class LL{constructor(e){this.name=e,this._logLevel=lQ,this._logHandler=dQ,this._userLogHandler=null,pA.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in er))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?FL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,er.DEBUG,...e),this._logHandler(this,er.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,er.VERBOSE,...e),this._logHandler(this,er.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,er.INFO,...e),this._logHandler(this,er.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,er.WARN,...e),this._logHandler(this,er.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,er.ERROR,...e),this._logHandler(this,er.ERROR,...e)}}class fQ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function pQ(i){const e=i.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){const o=t.getImmediate();return`${o.library}/${o.version}`}return null}).filter(t=>t).join(" ")}}const mA="@firebase/app",gA=new LL("@firebase/app"),yA="[DEFAULT]",jQ={[mA]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ay=new Map,$C=new Map;function UQ(i,e){try{i.container.addComponent(e)}catch(t){gA.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function KC(i){const e=i.name;if($C.has(e))return gA.debug(`There were multiple attempts to register component ${e}.`),!1;$C.set(e,i);for(const t of Ay.values())UQ(t,i);return!0}const Mm=new xL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class qQ{constructor(e,t,o){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new sw("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Mm.create("app-deleted",{appName:this._name})}}function $_(i,e,t){var o;let s=null!==(o=jQ[i])&&void 0!==o?o:i;t&&(s+=`-${t}`);const u=s.match(/\s|\//),d=e.match(/\s|\//);if(u||d){const m=[`Unable to register library "${s}" with version "${e}":`];return u&&m.push(`library name "${s}" contains illegal characters (whitespace or "/")`),u&&d&&m.push("and"),d&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void gA.warn(m.join(" "))}KC(new sw(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const aw="firebase-heartbeat-store";let _A=null;function jL(){return _A||(_A=function oQ(i,e,t){return new Promise((o,s)=>{try{const u=indexedDB.open(i,e);u.onsuccess=d=>{o(new RL(d.target.result))},u.onerror=d=>{var m;s(`Error opening indexedDB: ${null===(m=d.target.error)||void 0===m?void 0:m.message}`)},u.onupgradeneeded=d=>{t(new RL(u.result),d.oldVersion,d.newVersion,new OL(u.transaction))}}catch(u){s(`Error opening indexedDB: ${u.message}`)}})}("firebase-heartbeat-database",1,(i,e)=>{0===e&&i.createObjectStore(aw)}).catch(i=>{throw Mm.create("storage-open",{originalErrorMessage:i.message})})),_A}function bA(){return(bA=We(function*(i){try{return(yield jL()).transaction(aw).objectStore(aw).get(HL(i))}catch(e){throw Mm.create("storage-get",{originalErrorMessage:e.message})}})).apply(this,arguments)}function UL(i,e){return wA.apply(this,arguments)}function wA(){return(wA=We(function*(i,e){try{const o=(yield jL()).transaction(aw,"readwrite");return yield o.objectStore(aw).put(e,HL(i)),o.complete}catch(t){throw Mm.create("storage-set",{originalErrorMessage:t.message})}})).apply(this,arguments)}function HL(i){return`${i.name}!${i.options.appId}`}class JQ{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new eY(t),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}triggerHeartbeat(){var e=this;return We(function*(){const o=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=qL();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==s&&!e._heartbeatsCache.heartbeats.some(u=>u.date===s))return e._heartbeatsCache.heartbeats.push({date:s,agent:o}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(u=>{const d=new Date(u.date).valueOf();return Date.now()-d<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return We(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=qL(),{heartbeatsToSend:o,unsentEntries:s}=function ZQ(i,e=1024){const t=[];let o=i.slice();for(const s of i){const u=t.find(d=>d.agent===s.agent);if(u){if(u.dates.push(s.date),zL(t)>e){u.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),zL(t)>e){t.pop();break}o=o.slice(1)}return{heartbeatsToSend:t,unsentEntries:o}}(e._heartbeatsCache.heartbeats),u=HC(JSON.stringify({version:2,heartbeats:o}));return e._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(e._heartbeatsCache.heartbeats=s,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),u})()}}function qL(){return(new Date).toISOString().substring(0,10)}class eY{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return We(function*(){return!!function K7(){return"object"==typeof indexedDB}()&&function W7(){return new Promise((i,e)=>{try{let t=!0;const o="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(o);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(o),i(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var u;e((null===(u=s.error)||void 0===u?void 0:u.message)||"")}}catch(t){e(t)}})}().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return We(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function QQ(i){return bA.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return We(function*(){var o;if(yield t._canUseIndexedDBPromise){const u=yield t.read();return UL(t.app,{lastSentHeartbeatDate:null!==(o=e.lastSentHeartbeatDate)&&void 0!==o?o:u.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return We(function*(){var o;if(yield t._canUseIndexedDBPromise){const u=yield t.read();return UL(t.app,{lastSentHeartbeatDate:null!==(o=e.lastSentHeartbeatDate)&&void 0!==o?o:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...e.heartbeats]})}})()}}function zL(i){return HC(JSON.stringify({version:2,heartbeats:i})).length}!function tY(i){KC(new sw("platform-logger",e=>new fQ(e),"PRIVATE")),KC(new sw("heartbeat",e=>new JQ(e),"PRIVATE")),$_(mA,"0.7.20",i),$_(mA,"0.7.20","esm2017"),$_("fire-js","")}(""),$_("firebase","9.6.10","app");let GL=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=kn({type:i}),i.\u0275inj=Be({imports:[[_T,Jo,gP],Jo]}),i})(),$L=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=kn({type:i}),i.\u0275inj=Be({imports:[[Jo],Jo]}),i})(),KL=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=kn({type:i}),i.\u0275inj=Be({imports:[[K6,Jo],Jo]}),i})();const uY=[MF,XF,GL,JF,$L,pL,CL,KL];let cY=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=kn({type:i}),i.\u0275inj=Be({imports:[[uY],MF,XF,GL,JF,$L,pL,CL,KL]}),i})();const lY=function(i){return{"comment-container":!0,"creator-comment-container":i}},hY=function(i){return{comment:!0,"creator-comment":i}};function dY(i,e){if(1&i&&(Ce(0,"div",6),Ce(1,"div"),Ce(2,"p",7),bt(3),De(),Ce(4,"p",6),bt(5),De(),De(),De()),2&i){const t=e.$implicit,o=Lc();so("ngClass",NI(4,lY,o.isCommentCreator(t))),Xn(3),Fl(null==t?null:t.creatorName),Xn(1),so("ngClass",NI(6,hY,o.isCommentCreator(t))),Xn(1),Fl(null==t?null:t.comment)}}let fY=(()=>{class i{constructor(t){this.postId=t,this.firestore=new z_,this.comments=[],this.count1=0}ngOnInit(){this.getComments()}isCommentCreator(t){try{return t.creatorId==Ty.getUserDocument().userId}catch(o){}}getComments(){this.firestore.listenToCollection({name:"Post Comments",path:["Posts",this.postId,"PostComments"],where:[new tL("timestamp","asc")],onUpdate:t=>{t.docChanges().forEach(o=>{"added"==o.type&&this.comments.unshift(o.doc.data())})}})}onSendClick(t){t.value.length>0&&this.firestore.create({path:["Posts",this.postId,"PostComments"],data:{comment:t.value,creatorId:Ty.getUserDocument().userId,creatorName:Ty.getUserDocument().publicName,timestamp:Bu.getFirestoreTimestamp()},onComplete:o=>{t.value="",this.count1=this.count1++}})}}return i.\u0275fac=function(t){return new(t||i)(ve(QF))},i.\u0275cmp=Ar({type:i,selectors:[["app-reply"]],decls:10,vars:1,consts:[["id","reply-box"],[3,"ngClass",4,"ngFor","ngForOf"],["id","reply-action-bar"],["mat-flat-button","","color","warn",3,"click"],["placeholder","Comment..."],["commentInput",""],[3,"ngClass"],[1,"comment-name"]],template:function(t,o){if(1&t){const s=Cf();Ce(0,"p"),bt(1,"Reply"),De(),Ce(2,"div",0),Fc(3,dY,6,8,"div",1),De(),Ce(4,"div",2),Ce(5,"button",3),Pr("click",function(){Bi(s);const d=Pu(9);return o.onSendClick(d)}),Ce(6,"mat-icon"),bt(7,"send"),De(),De(),Hn(8,"input",4,5),De()}2&t&&(Xn(3),so("ngForOf",o.comments))},directives:[pT,HE,Ff,rw],styles:["#reply-box[_ngcontent-%COMP%]{width:100%;height:300px;overflow:auto;min-width:400px;max-width:600px;padding:0 1em;box-sizing:border-box}#reply-action-bar[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:3em 1fr;margin-top:16px;direction:rtl}input[_ngcontent-%COMP%]{padding:1em 2em 1em 1em;border:1px solid gray;outline:none;width:100%;direction:ltr;box-sizing:border-box}.comment-container[_ngcontent-%COMP%]{display:flex}.comment-name[_ngcontent-%COMP%]{font-size:.9em}.comment[_ngcontent-%COMP%]{border-radius:16px;background-color:#dcdcdc;padding:16px}.creator-comment-container[_ngcontent-%COMP%]{justify-content:flex-end;text-align:end}.creator-comment[_ngcontent-%COMP%]{background-color:tomato;color:#fff}"]}),i})();var rt,pY="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Lf={},EA=EA||{},zt=pY||self;function WC(){}function CA(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function uw(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var DA="closure_uid_"+(1e9*Math.random()>>>0),gY=0;function yY(i,e,t){return i.call.apply(i.bind,arguments)}function vY(i,e,t){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,o),i.apply(e,s)}}return function(){return i.apply(e,arguments)}}function Cs(i,e,t){return(Cs=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?yY:vY).apply(null,arguments)}function QC(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function Ds(i,e){function t(){}t.prototype=e.prototype,i.Z=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.Vb=function(o,s,u){for(var d=Array(arguments.length-2),m=2;m<arguments.length;m++)d[m-2]=arguments[m];return e.prototype[s].apply(o,d)}}function km(){this.s=this.s,this.o=this.o}var bY={};km.prototype.s=!1,km.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function mY(i){return Object.prototype.hasOwnProperty.call(i,DA)&&i[DA]||(i[DA]=++gY)}(this);delete bY[i]}},km.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const WL=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1},QL=Array.prototype.forEach?function(i,e,t){Array.prototype.forEach.call(i,e,t)}:function(i,e,t){const o=i.length,s="string"==typeof i?i.split(""):i;for(let u=0;u<o;u++)u in s&&e.call(t,s[u],u,i)};function YL(i){return Array.prototype.concat.apply([],arguments)}function IA(i){const e=i.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=i[o];return t}return[]}function YC(i){return/^[\s\xa0]*$/.test(i)}var xa,XL=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function Aa(i,e){return-1!=i.indexOf(e)}function TA(i,e){return i<e?-1:i>e?1:0}e:{var JL=zt.navigator;if(JL){var ZL=JL.userAgent;if(ZL){xa=ZL;break e}}xa=""}function SA(i,e,t){for(const o in i)e.call(t,i[o],o,i)}function e2(i){const e={};for(const t in i)e[t]=i[t];return e}var t2="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function n2(i,e){let t,o;for(let s=1;s<arguments.length;s++){for(t in o=arguments[s],o)i[t]=o[t];for(let u=0;u<t2.length;u++)t=t2[u],Object.prototype.hasOwnProperty.call(o,t)&&(i[t]=o[t])}}function AA(i){return AA[" "](i),i}AA[" "]=WC;var XC,i,CY=Aa(xa,"Opera"),K_=Aa(xa,"Trident")||Aa(xa,"MSIE"),r2=Aa(xa,"Edge"),xA=r2||K_,o2=Aa(xa,"Gecko")&&!(Aa(xa.toLowerCase(),"webkit")&&!Aa(xa,"Edge"))&&!(Aa(xa,"Trident")||Aa(xa,"MSIE"))&&!Aa(xa,"Edge"),DY=Aa(xa.toLowerCase(),"webkit")&&!Aa(xa,"Edge");function s2(){var i=zt.document;return i?i.documentMode:void 0}e:{var MA="",kA=(i=xa,o2?/rv:([^\);]+)(\)|;)/.exec(i):r2?/Edge\/([\d\.]+)/.exec(i):K_?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):DY?/WebKit\/(\S+)/.exec(i):CY?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(kA&&(MA=kA?kA[1]:""),K_){var RA=s2();if(null!=RA&&RA>parseFloat(MA)){XC=String(RA);break e}}XC=MA}var IY={};var SY=zt.document&&K_&&(s2()||parseInt(XC,10))||void 0,AY=function(){if(!zt.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{zt.addEventListener("test",WC,e),zt.removeEventListener("test",WC,e)}catch(t){}return i}();function ea(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}function cw(i,e){if(ea.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(o2){e:{try{AA(e.nodeName);var s=!0;break e}catch(u){}s=!1}s||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:xY[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&cw.Z.h.call(this)}}ea.prototype.h=function(){this.defaultPrevented=!0},Ds(cw,ea);var xY={2:"touch",3:"pen",4:"mouse"};cw.prototype.h=function(){cw.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var lw="closure_listenable_"+(1e6*Math.random()|0),MY=0;function kY(i,e,t,o,s){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.ia=s,this.key=++MY,this.ca=this.fa=!1}function JC(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function ZC(i){this.src=i,this.g={},this.h=0}function NA(i,e){var t=e.type;if(t in i.g){var u,o=i.g[t],s=WL(o,e);(u=0<=s)&&Array.prototype.splice.call(o,s,1),u&&(JC(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function PA(i,e,t,o){for(var s=0;s<i.length;++s){var u=i[s];if(!u.ca&&u.listener==e&&u.capture==!!t&&u.ia==o)return s}return-1}ZC.prototype.add=function(i,e,t,o,s){var u=i.toString();(i=this.g[u])||(i=this.g[u]=[],this.h++);var d=PA(i,e,o,s);return-1<d?(e=i[d],t||(e.fa=!1)):((e=new kY(e,this.src,u,!!o,s)).fa=t,i.push(e)),e};var FA="closure_lm_"+(1e6*Math.random()|0),LA={};function u2(i,e,t,o,s){if(o&&o.once)return l2(i,e,t,o,s);if(Array.isArray(e)){for(var u=0;u<e.length;u++)u2(i,e[u],t,o,s);return null}return t=UA(t),i&&i[lw]?i.N(e,t,uw(o)?!!o.capture:!!o,s):c2(i,e,t,!1,o,s)}function c2(i,e,t,o,s,u){if(!e)throw Error("Invalid event type");var d=uw(s)?!!s.capture:!!s,m=VA(i);if(m||(i[FA]=m=new ZC(i)),(t=m.add(e,t,o,d,u)).proxy)return t;if(o=function RY(){var e=OY;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=o,o.src=i,o.listener=t,i.addEventListener)AY||(s=d),void 0===s&&(s=!1),i.addEventListener(e.toString(),o,s);else if(i.attachEvent)i.attachEvent(d2(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return t}function l2(i,e,t,o,s){if(Array.isArray(e)){for(var u=0;u<e.length;u++)l2(i,e[u],t,o,s);return null}return t=UA(t),i&&i[lw]?i.O(e,t,uw(o)?!!o.capture:!!o,s):c2(i,e,t,!0,o,s)}function h2(i,e,t,o,s){if(Array.isArray(e))for(var u=0;u<e.length;u++)h2(i,e[u],t,o,s);else o=uw(o)?!!o.capture:!!o,t=UA(t),i&&i[lw]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=PA(u=i.g[e],t,o,s))&&(JC(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete i.g[e],i.h--))):i&&(i=VA(i))&&(e=i.g[e.toString()],i=-1,e&&(i=PA(e,t,o,s)),(t=-1<i?e[i]:null)&&BA(t))}function BA(i){if("number"!=typeof i&&i&&!i.ca){var e=i.src;if(e&&e[lw])NA(e.i,i);else{var t=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(t,o,i.capture):e.detachEvent?e.detachEvent(d2(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=VA(e))?(NA(t,i),0==t.h&&(t.src=null,e[FA]=null)):JC(i)}}}function d2(i){return i in LA?LA[i]:LA[i]="on"+i}function OY(i,e){if(i.ca)i=!0;else{e=new cw(e,this);var t=i.listener,o=i.ia||i.src;i.fa&&BA(i),i=t.call(o,e)}return i}function VA(i){return(i=i[FA])instanceof ZC?i:null}var jA="__closure_events_fn_"+(1e9*Math.random()>>>0);function UA(i){return"function"==typeof i?i:(i[jA]||(i[jA]=function(e){return i.handleEvent(e)}),i[jA])}function Zo(){km.call(this),this.i=new ZC(this),this.P=this,this.I=null}function Is(i,e){var t,o=i.I;if(o)for(t=[];o;o=o.I)t.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new ea(e,i);else if(e instanceof ea)e.target=e.target||i;else{var s=e;n2(e=new ea(o,i),s)}if(s=!0,t)for(var u=t.length-1;0<=u;u--){var d=e.g=t[u];s=eD(d,o,!0,e)&&s}if(s=eD(d=e.g=i,o,!0,e)&&s,s=eD(d,o,!1,e)&&s,t)for(u=0;u<t.length;u++)s=eD(d=e.g=t[u],o,!1,e)&&s}function eD(i,e,t,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var s=!0,u=0;u<e.length;++u){var d=e[u];if(d&&!d.ca&&d.capture==t){var m=d.listener,y=d.ia||d.src;d.fa&&NA(i.i,d),s=!1!==m.call(y,o)&&s}}return s&&!o.defaultPrevented}Ds(Zo,km),Zo.prototype[lw]=!0,Zo.prototype.removeEventListener=function(i,e,t,o){h2(this,i,e,t,o)},Zo.prototype.M=function(){if(Zo.Z.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],o=0;o<t.length;o++)JC(t[o]);delete i.g[e],i.h--}}this.I=null},Zo.prototype.N=function(i,e,t,o){return this.i.add(String(i),e,!1,t,o)},Zo.prototype.O=function(i,e,t,o){return this.i.add(String(i),e,!0,t,o)};var HA=zt.JSON.stringify;function NY(){var i=p2;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var zA,f2=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new FY,i=>i.reset());class FY{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function LY(i){zt.setTimeout(()=>{throw i},0)}function qA(i,e){zA||function BY(){var i=zt.Promise.resolve(void 0);zA=function(){i.then(VY)}}(),GA||(zA(),GA=!0),p2.add(i,e)}var GA=!1,p2=new class PY{constructor(){this.h=this.g=null}add(e,t){const o=f2.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}};function VY(){for(var i;i=NY();){try{i.h.call(i.g)}catch(t){LY(t)}var e=f2;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}GA=!1}function tD(i,e){Zo.call(this),this.h=i||1,this.g=e||zt,this.j=Cs(this.kb,this),this.l=Date.now()}function $A(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function KA(i,e,t){if("function"==typeof i)t&&(i=Cs(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Cs(i.handleEvent,i)}return 2147483647<Number(e)?-1:zt.setTimeout(i,e||0)}function m2(i){i.g=KA(()=>{i.g=null,i.i&&(i.i=!1,m2(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}Ds(tD,Zo),(rt=tD.prototype).da=!1,rt.S=null,rt.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Is(this,"tick"),this.da&&($A(this),this.start()))}},rt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},rt.M=function(){tD.Z.M.call(this),$A(this),delete this.g};class jY extends km{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:m2(this)}M(){super.M(),this.g&&(zt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hw(i){km.call(this),this.h=i,this.g={}}Ds(hw,km);var g2=[];function y2(i,e,t,o){Array.isArray(t)||(t&&(g2[0]=t.toString()),t=g2);for(var s=0;s<t.length;s++){var u=u2(e,t[s],o||i.handleEvent,!1,i.h||i);if(!u)break;i.g[u.key]=u}}function v2(i){SA(i.g,function(e,t){this.g.hasOwnProperty(t)&&BA(e)},i),i.g={}}function nD(){this.g=!0}function W_(i,e,t,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function zY(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var o=t[i];if(!(2>o.length)){var s=o[1];if(Array.isArray(s)&&!(1>s.length)){var u=s[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var d=1;d<s.length;d++)s[d]=""}}}return HA(t)}catch(m){return e}}(i,t)+(o?" "+o:"")})}hw.prototype.M=function(){hw.Z.M.call(this),v2(this)},hw.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},nD.prototype.Aa=function(){this.g=!1},nD.prototype.info=function(){};var xy={},_2=null;function rD(){return _2=_2||new Zo}function b2(i){ea.call(this,xy.Ma,i)}function dw(i){const e=rD();Is(e,new b2(e,i))}function w2(i,e){ea.call(this,xy.STAT_EVENT,i),this.stat=e}function Ma(i){const e=rD();Is(e,new w2(e,i))}function E2(i,e){ea.call(this,xy.Na,i),this.size=e}function fw(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return zt.setTimeout(function(){i()},e)}xy.Ma="serverreachability",Ds(b2,ea),xy.STAT_EVENT="statevent",Ds(w2,ea),xy.Na="timingevent",Ds(E2,ea);var iD={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},C2={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function WA(){}function I2(){}WA.prototype.h=null;var XA,pw={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function QA(){ea.call(this,"d")}function YA(){ea.call(this,"c")}function oD(){}function mw(i,e,t,o){this.l=i,this.j=e,this.m=t,this.X=o||1,this.V=new hw(this),this.P=GY,this.W=new tD(i=xA?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new T2}function T2(){this.i=null,this.g="",this.h=!1}Ds(QA,ea),Ds(YA,ea),Ds(oD,WA),oD.prototype.g=function(){return new XMLHttpRequest},oD.prototype.i=function(){return{}},XA=new oD;var GY=45e3,JA={},sD={};function ZA(i,e,t){i.K=1,i.v=hD(Bf(e)),i.s=t,i.U=!0,S2(i,null)}function S2(i,e){i.F=Date.now(),gw(i),i.A=Bf(i.v);var t=i.A,o=i.X;Array.isArray(o)||(o=[String(o)]),F2(t.h,"t",o),i.C=0,t=i.l.H,i.h=new T2,i.g=oB(i.l,t?e:null,!i.s),0<i.O&&(i.L=new jY(Cs(i.Ia,i,i.g),i.O)),y2(i.V,i.g,"readystatechange",i.gb),e=i.H?e2(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,e)):(i.u="GET",i.g.ea(i.A,i.u,null,e)),dw(1),function UY(i,e,t,o,s,u){i.info(function(){if(i.g)if(u)for(var d="",m=u.split("&"),y=0;y<m.length;y++){var b=m[y].split("=");if(1<b.length){var C=b[0];b=b[1];var I=C.split("_");d=2<=I.length&&"type"==I[1]?d+(C+"=")+b+"&":d+(C+"=redacted&")}}else d=null;else d=u;return"XMLHTTP REQ ("+o+") [attempt "+s+"]: "+e+"\n"+t+"\n"+d})}(i.j,i.u,i.A,i.m,i.X,i.s)}function A2(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function x2(i,e,t){let s,o=!0;for(;!i.I&&i.C<t.length;){if(s=$Y(i,t),s==sD){4==e&&(i.o=4,Ma(14),o=!1),W_(i.j,i.m,null,"[Incomplete Response]");break}if(s==JA){i.o=4,Ma(15),W_(i.j,i.m,t,"[Invalid Chunk]"),o=!1;break}W_(i.j,i.m,s,null),ex(i,s)}A2(i)&&s!=sD&&s!=JA&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,Ma(16),o=!1),i.i=i.i&&o,o?0<t.length&&!i.aa&&(i.aa=!0,(e=i.l).g==i&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),hx(e),e.L=!0,Ma(11))):(W_(i.j,i.m,t,"[Invalid Chunked Response]"),My(i),yw(i))}function $Y(i,e){var t=i.C,o=e.indexOf("\n",t);return-1==o?sD:(t=Number(e.substring(t,o)),isNaN(t)?JA:(o+=1)+t>e.length?sD:(e=e.substr(o,t),i.C=o+t,e))}function gw(i){i.Y=Date.now()+i.P,M2(i,i.P)}function M2(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=fw(Cs(i.eb,i),e)}function aD(i){i.B&&(zt.clearTimeout(i.B),i.B=null)}function yw(i){0==i.l.G||i.I||tB(i.l,i)}function My(i){aD(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,$A(i.W),v2(i.V),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function ex(i,e){try{var t=i.l;if(0!=t.G&&(t.g==i||rx(t.i,i)))if(t.I=i.N,!i.J&&rx(t.i,i)&&3==t.G){try{var o=t.Ca.g.parse(e)}catch(b){o=null}if(Array.isArray(o)&&3==o.length){var s=o;if(0==s[0])e:if(t.u)t.ta=s[1],0<t.ta-t.U&&37500>s[2]&&t.N&&0==t.A&&!t.v&&(t.v=fw(Cs(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<i.F))break e;yD(t),mD(t)}lx(t),Ma(18)}if(1>=V2(t.i)&&t.ka){try{t.ka()}catch(b){}t.ka=void 0}}else Oy(t,11)}else if((i.J||t.g==i)&&yD(t),!YC(e))for(s=t.Ca.g.parse(e),e=0;e<s.length;e++){let b=s[e];if(t.U=b[0],b=b[1],2==t.G)if("c"==b[0]){t.J=b[1],t.la=b[2];const C=b[3];null!=C&&(t.ma=C,t.h.info("VER="+t.ma));const I=b[4];null!=I&&(t.za=I,t.h.info("SVER="+t.za));const M=b[5];null!=M&&"number"==typeof M&&0<M&&(t.K=o=1.5*M,t.h.info("backChannelRequestTimeoutMs_="+o)),o=t;const O=i.g;if(O){const L=O.g?O.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(L){var u=o.i;!u.g&&(Aa(L,"spdy")||Aa(L,"quic")||Aa(L,"h2"))&&(u.j=u.l,u.g=new Set,u.h&&(ix(u,u.h),u.h=null))}if(o.D){const q=O.g?O.g.getResponseHeader("X-HTTP-Session-Id"):null;q&&(o.sa=q,si(o.F,o.D,q))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-i.F,t.h.info("Handshake RTT: "+t.O+"ms"));var d=i;if((o=t).oa=iB(o,o.H?o.la:null,o.W),d.J){j2(o.i,d);var m=d,y=o.K;y&&m.setTimeout(y),m.B&&(aD(m),gw(m)),o.g=d}else Z2(o);0<t.l.length&&gD(t)}else"stop"!=b[0]&&"close"!=b[0]||Oy(t,7);else 3==t.G&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?Oy(t,7):ux(t):"noop"!=b[0]&&t.j&&t.j.wa(b),t.A=0)}dw(4)}catch(b){}}function tx(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(CA(i)||"string"==typeof i)QL(i,e,void 0);else{if(i.T&&"function"==typeof i.T)var t=i.T();else if(i.R&&"function"==typeof i.R)t=void 0;else if(CA(i)||"string"==typeof i){t=[];for(var o=i.length,s=0;s<o;s++)t.push(s)}else for(s in t=[],o=0,i)t[o++]=s;o=function KY(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(CA(i)){for(var e=[],t=i.length,o=0;o<t;o++)e.push(i[o]);return e}for(o in e=[],t=0,i)e[t++]=i[o];return e}(i),s=o.length;for(var u=0;u<s;u++)e.call(void 0,o[u],t&&t[u],i)}}function Q_(i,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var o=0;o<t;o+=2)this.set(arguments[o],arguments[o+1])}else if(i)if(i instanceof Q_)for(t=i.T(),o=0;o<t.length;o++)this.set(t[o],i.get(t[o]));else for(o in i)this.set(o,i[o])}function nx(i){if(i.i!=i.g.length){for(var e=0,t=0;e<i.g.length;){var o=i.g[e];ky(i.h,o)&&(i.g[t++]=o),e++}i.g.length=t}if(i.i!=i.g.length){var s={};for(t=e=0;e<i.g.length;)ky(s,o=i.g[e])||(i.g[t++]=o,s[o]=1),e++;i.g.length=t}}function ky(i,e){return Object.prototype.hasOwnProperty.call(i,e)}(rt=mw.prototype).setTimeout=function(i){this.P=i},rt.gb=function(i){i=i.target;const e=this.L;e&&3==Vf(i)?e.l():this.Ia(i)},rt.Ia=function(i){try{if(i==this.g)e:{const C=Vf(this.g);var e=this.g.Da();const I=this.g.ba();if(!(3>C)&&(3!=C||xA||this.g&&(this.h.h||this.g.ga()||W2(this.g)))){this.I||4!=C||7==e||dw(8==e||0>=I?3:2),aD(this);var t=this.g.ba();this.N=t;t:if(A2(this)){var o=W2(this.g);i="";var s=o.length,u=4==Vf(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){My(this),yw(this);var d="";break t}this.h.i=new zt.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:u&&e==s-1});o.splice(0,s),this.h.g+=i,this.C=0,d=this.h.g}else d=this.g.ga();if(this.i=200==t,function HY(i,e,t,o,s,u,d){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+s+"]: "+e+"\n"+t+"\n"+u+" "+d})}(this.j,this.u,this.A,this.m,this.X,C,t),this.i){if(this.$&&!this.J){t:{if(this.g){var m,y=this.g;if((m=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!YC(m)){var b=m;break t}}b=null}if(!(t=b)){this.i=!1,this.o=3,Ma(12),My(this),yw(this);break e}W_(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ex(this,t)}this.U?(x2(this,C,d),xA&&this.i&&3==C&&(y2(this.V,this.W,"tick",this.fb),this.W.start())):(W_(this.j,this.m,d,null),ex(this,d)),4==C&&My(this),this.i&&!this.I&&(4==C?tB(this.l,this):(this.i=!1,gw(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,Ma(12)):(this.o=0,Ma(13)),My(this),yw(this)}}}catch(C){}},rt.fb=function(){if(this.g){var i=Vf(this.g),e=this.g.ga();this.C<e.length&&(aD(this),x2(this,i,e),this.i&&4!=i&&gw(this))}},rt.cancel=function(){this.I=!0,My(this)},rt.eb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function qY(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(dw(3),Ma(17)),My(this),this.o=2,yw(this)):M2(this,this.Y-i)},(rt=Q_.prototype).R=function(){nx(this);for(var i=[],e=0;e<this.g.length;e++)i.push(this.h[this.g[e]]);return i},rt.T=function(){return nx(this),this.g.concat()},rt.get=function(i,e){return ky(this.h,i)?this.h[i]:e},rt.set=function(i,e){ky(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=e},rt.forEach=function(i,e){for(var t=this.T(),o=0;o<t.length;o++){var s=t[o],u=this.get(s);i.call(e,u,s,this)}};var k2=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ry(i,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof Ry){this.g=void 0!==e?e:i.g,uD(this,i.j),this.s=i.s,cD(this,i.i),lD(this,i.m),this.l=i.l,e=i.h;var t=new bw;t.i=e.i,e.g&&(t.g=new Q_(e.g),t.h=e.h),R2(this,t),this.o=i.o}else i&&(t=String(i).match(k2))?(this.g=!!e,uD(this,t[1]||"",!0),this.s=vw(t[2]||""),cD(this,t[3]||"",!0),lD(this,t[4]),this.l=vw(t[5]||"",!0),R2(this,t[6]||"",!0),this.o=vw(t[7]||"")):(this.g=!!e,this.h=new bw(null,this.g))}function Bf(i){return new Ry(i)}function uD(i,e,t){i.j=t?vw(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function cD(i,e,t){i.i=t?vw(e,!0):e}function lD(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function R2(i,e,t){e instanceof bw?(i.h=e,function nX(i,e){e&&!i.j&&(Rm(i),i.i=null,i.g.forEach(function(t,o){var s=o.toLowerCase();o!=s&&(N2(this,o),F2(this,s,t))},i)),i.j=e}(i.h,i.g)):(t||(e=_w(e,eX)),i.h=new bw(e,i.g))}function si(i,e,t){i.h.set(e,t)}function hD(i){return si(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function vw(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function _w(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,XY),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function XY(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Ry.prototype.toString=function(){var i=[],e=this.j;e&&i.push(_w(e,O2,!0),":");var t=this.i;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(_w(e,O2,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&i.push("/"),i.push(_w(t,"/"==t.charAt(0)?ZY:JY,!0))),(t=this.h.toString())&&i.push("?",t),(t=this.o)&&i.push("#",_w(t,tX)),i.join("")};var O2=/[#\/\?@]/g,JY=/[#\?:]/g,ZY=/[#\?]/g,eX=/[#\?@]/g,tX=/#/g;function bw(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Rm(i){i.g||(i.g=new Q_,i.h=0,i.i&&function WY(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var o=i[t].indexOf("="),s=null;if(0<=o){var u=i[t].substring(0,o);s=i[t].substring(o+1)}else u=i[t];e(u,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function N2(i,e){Rm(i),e=Y_(i,e),ky(i.g.h,e)&&(i.i=null,i.h-=i.g.get(e).length,ky((i=i.g).h,e)&&(delete i.h[e],i.i--,i.g.length>2*i.i&&nx(i)))}function P2(i,e){return Rm(i),e=Y_(i,e),ky(i.g.h,e)}function F2(i,e,t){N2(i,e),0<t.length&&(i.i=null,i.g.set(Y_(i,e),IA(t)),i.h+=t.length)}function Y_(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function L2(i){this.l=i||iX,i=zt.PerformanceNavigationTiming?0<(i=zt.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(zt.g&&zt.g.Ea&&zt.g.Ea()&&zt.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(rt=bw.prototype).add=function(i,e){Rm(this),this.i=null,i=Y_(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},rt.forEach=function(i,e){Rm(this),this.g.forEach(function(t,o){QL(t,function(s){i.call(e,s,o,this)},this)},this)},rt.T=function(){Rm(this);for(var i=this.g.R(),e=this.g.T(),t=[],o=0;o<e.length;o++)for(var s=i[o],u=0;u<s.length;u++)t.push(e[o]);return t},rt.R=function(i){Rm(this);var e=[];if("string"==typeof i)P2(this,i)&&(e=YL(e,this.g.get(Y_(this,i))));else{i=this.g.R();for(var t=0;t<i.length;t++)e=YL(e,i[t])}return e},rt.set=function(i,e){return Rm(this),this.i=null,P2(this,i=Y_(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},rt.get=function(i,e){return i&&0<(i=this.R(i)).length?String(i[0]):e},rt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],e=this.g.T(),t=0;t<e.length;t++){var o=e[t],s=encodeURIComponent(String(o));o=this.R(o);for(var u=0;u<o.length;u++){var d=s;""!==o[u]&&(d+="="+encodeURIComponent(String(o[u]))),i.push(d)}}return this.i=i.join("&")};var iX=10;function B2(i){return!!i.h||!!i.g&&i.g.size>=i.j}function V2(i){return i.h?1:i.g?i.g.size:0}function rx(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function ix(i,e){i.g?i.g.add(e):i.h=e}function j2(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function U2(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.D);return e}return IA(i.i)}function ox(){}function oX(){this.g=new ox}function sX(i,e,t){const o=t||"";try{tx(i,function(s,u){let d=s;uw(s)&&(d=HA(s)),e.push(o+u+"="+encodeURIComponent(d))})}catch(s){throw e.push(o+"type="+encodeURIComponent("_badmap")),s}}function dD(i,e,t,o,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(o)}catch(u){}}function ww(i){this.l=i.$b||null,this.j=i.ib||!1}function fD(i,e){Zo.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=sx,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}L2.prototype.cancel=function(){if(this.i=U2(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},ox.prototype.stringify=function(i){return zt.JSON.stringify(i,void 0)},ox.prototype.parse=function(i){return zt.JSON.parse(i,void 0)},Ds(ww,WA),ww.prototype.g=function(){return new fD(this.l,this.j)},ww.prototype.i=function(i){return function(){return i}}({}),Ds(fD,Zo);var sx=0;function H2(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function Ew(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Cw(i)}function Cw(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(rt=fD.prototype).open=function(i,e){if(this.readyState!=sx)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Cw(this)},rt.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||zt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},rt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ew(this)),this.readyState=sx},rt.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Cw(this)),this.g&&(this.readyState=3,Cw(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==zt.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;H2(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},rt.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?Ew(this):Cw(this),3==this.readyState&&H2(this)}},rt.Ua=function(i){this.g&&(this.response=this.responseText=i,Ew(this))},rt.Ta=function(i){this.g&&(this.response=i,Ew(this))},rt.ha=function(){this.g&&Ew(this)},rt.setRequestHeader=function(i,e){this.v.append(i,e)},rt.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},rt.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(fD.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var uX=zt.JSON.parse;function lo(i){Zo.call(this),this.headers=new Q_,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=q2,this.K=this.L=!1}Ds(lo,Zo);var q2="",cX=/^https?$/i,lX=["POST","PUT"];function dX(i){return"content-type"==i.toLowerCase()}function z2(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,G2(i),pD(i)}function G2(i){i.D||(i.D=!0,Is(i,"complete"),Is(i,"error"))}function $2(i){if(i.h&&void 0!==EA&&(!i.C[1]||4!=Vf(i)||2!=i.ba()))if(i.v&&4==Vf(i))KA(i.Fa,0,i);else if(Is(i,"readystatechange"),4==Vf(i)){i.h=!1;try{const m=i.ba();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===m){var s=String(i.H).match(k2)[1]||null;if(!s&&zt.self&&zt.self.location){var u=zt.self.location.protocol;s=u.substr(0,u.length-1)}o=!cX.test(s?s.toLowerCase():"")}t=o}if(t)Is(i,"complete"),Is(i,"success");else{i.m=6;try{var d=2<Vf(i)?i.g.statusText:""}catch(y){d=""}i.j=d+" ["+i.ba()+"]",G2(i)}}finally{pD(i)}}}function pD(i,e){if(i.g){K2(i);const t=i.g,o=i.C[0]?WC:null;i.g=null,i.C=null,e||Is(i,"ready");try{t.onreadystatechange=o}catch(s){}}}function K2(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(zt.clearTimeout(i.A),i.A=null)}function Vf(i){return i.g?i.g.readyState:0}function W2(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case q2:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(e){return null}}function ax(i,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=function fX(i){let e="";return SA(i,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):si(i,e,t))}function Dw(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function Q2(i){this.za=0,this.l=[],this.h=new nD,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Dw("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Dw("baseRetryDelayMs",5e3,i),this.$a=Dw("retryDelaySeedMs",1e4,i),this.Ya=Dw("forwardChannelMaxRetries",2,i),this.ra=Dw("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new L2(i&&i.concurrentRequestLimit),this.Ca=new oX,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function ux(i){if(Y2(i),3==i.G){var e=i.V++,t=Bf(i.F);si(t,"SID",i.J),si(t,"RID",e),si(t,"TYPE","terminate"),Iw(i,t),(e=new mw(i,i.h,e,void 0)).K=2,e.v=hD(Bf(t)),t=!1,zt.navigator&&zt.navigator.sendBeacon&&(t=zt.navigator.sendBeacon(e.v.toString(),"")),!t&&zt.Image&&((new Image).src=e.v,t=!0),t||(e.g=oB(e.l,null),e.g.ea(e.v)),e.F=Date.now(),gw(e)}rB(i)}function mD(i){i.g&&(hx(i),i.g.cancel(),i.g=null)}function Y2(i){mD(i),i.u&&(zt.clearTimeout(i.u),i.u=null),yD(i),i.i.cancel(),i.m&&("number"==typeof i.m&&zt.clearTimeout(i.m),i.m=null)}function cx(i,e){i.l.push(new class{constructor(i,e){this.h=i,this.g=e}}(i.Za++,e)),3==i.G&&gD(i)}function gD(i){B2(i.i)||i.m||(i.m=!0,qA(i.Ha,i),i.C=0)}function X2(i,e){var t;t=e?e.m:i.V++;const o=Bf(i.F);si(o,"SID",i.J),si(o,"RID",t),si(o,"AID",i.U),Iw(i,o),i.o&&i.s&&ax(o,i.o,i.s),t=new mw(i,i.h,t,i.C+1),null===i.o&&(t.H=i.s),e&&(i.l=e.D.concat(i.l)),e=J2(i,t,1e3),t.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),ix(i.i,t),ZA(t,o,e)}function Iw(i,e){i.j&&tx({},function(t,o){si(e,o,t)})}function J2(i,e,t){t=Math.min(i.l.length,t);var o=i.j?Cs(i.j.Oa,i.j,i):null;e:{var s=i.l;let u=-1;for(;;){const d=["count="+t];-1==u?0<t?(u=s[0].h,d.push("ofs="+u)):u=0:d.push("ofs="+u);let m=!0;for(let y=0;y<t;y++){let b=s[y].h;const C=s[y].g;if(b-=u,0>b)u=Math.max(0,s[y].h-100),m=!1;else try{sX(C,d,"req"+b+"_")}catch(I){o&&o(C)}}if(m){o=d.join("&");break e}}}return i=i.l.splice(0,t),e.D=i,o}function Z2(i){i.g||i.u||(i.Y=1,qA(i.Ga,i),i.A=0)}function lx(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=fw(Cs(i.Ga,i),nB(i,i.A)),i.A++,0))}function hx(i){null!=i.B&&(zt.clearTimeout(i.B),i.B=null)}function eB(i){i.g=new mw(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var e=Bf(i.oa);si(e,"RID","rpc"),si(e,"SID",i.J),si(e,"CI",i.N?"0":"1"),si(e,"AID",i.U),Iw(i,e),si(e,"TYPE","xmlhttp"),i.o&&i.s&&ax(e,i.o,i.s),i.K&&i.g.setTimeout(i.K);var t=i.g;i=i.la,t.K=1,t.v=hD(Bf(e)),t.s=null,t.U=!0,S2(t,i)}function yD(i){null!=i.v&&(zt.clearTimeout(i.v),i.v=null)}function tB(i,e){var t=null;if(i.g==e){yD(i),hx(i),i.g=null;var o=2}else{if(!rx(i.i,e))return;t=e.D,j2(i.i,e),o=1}if(i.I=e.N,0!=i.G)if(e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.F;var s=i.C;Is(o=rD(),new E2(o,t,e,s)),gD(i)}else Z2(i);else if(3==(s=e.o)||0==s&&0<i.I||!(1==o&&function pX(i,e){return!(V2(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=e.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=fw(Cs(i.Ha,i,e),nB(i,i.C)),i.C++,0)))}(i,e)||2==o&&lx(i)))switch(t&&0<t.length&&(e=i.i,e.i=e.i.concat(t)),s){case 1:Oy(i,5);break;case 4:Oy(i,10);break;case 3:Oy(i,6);break;default:Oy(i,2)}}function nB(i,e){let t=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(t*=2),t*e}function Oy(i,e){if(i.h.info("Error code "+e),2==e){var t=null;i.j&&(t=null);var o=Cs(i.jb,i);t||(t=new Ry("//www.google.com/images/cleardot.gif"),zt.location&&"http"==zt.location.protocol||uD(t,"https"),hD(t)),function aX(i,e){const t=new nD;if(zt.Image){const o=new Image;o.onload=QC(dD,t,o,"TestLoadImage: loaded",!0,e),o.onerror=QC(dD,t,o,"TestLoadImage: error",!1,e),o.onabort=QC(dD,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=QC(dD,t,o,"TestLoadImage: timeout",!1,e),zt.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(t.toString(),o)}else Ma(2);i.G=0,i.j&&i.j.va(e),rB(i),Y2(i)}function rB(i){i.G=0,i.I=-1,i.j&&((0!=U2(i.i).length||0!=i.l.length)&&(i.i.i.length=0,IA(i.l),i.l.length=0),i.j.ua())}function iB(i,e,t){let o=function QY(i){return i instanceof Ry?Bf(i):new Ry(i,void 0)}(t);if(""!=o.i)e&&cD(o,e+"."+o.i),lD(o,o.m);else{const s=zt.location;o=function YY(i,e,t,o){var s=new Ry(null,void 0);return i&&uD(s,i),e&&cD(s,e),t&&lD(s,t),o&&(s.l=o),s}(s.protocol,e?e+"."+s.hostname:s.hostname,+s.port,t)}return i.aa&&SA(i.aa,function(s,u){si(o,u,s)}),t=i.sa,(e=i.D)&&t&&si(o,e,t),si(o,"VER",i.ma),Iw(i,o),o}function oB(i,e,t){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new lo(t&&i.Ba&&!i.qa?new ww({ib:!0}):i.qa)).L=i.H,e}function sB(){}function vD(){if(K_&&!(10<=Number(SY)))throw Error("Environmental error: no available transport.")}function qu(i,e){Zo.call(this),this.g=new Q2(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.P=i,(i=e&&e.httpHeadersOverwriteParam)&&!YC(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!YC(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new X_(this)}function aB(i){QA.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function uB(){YA.call(this),this.status=1}function X_(i){this.g=i}(rt=lo.prototype).ea=function(i,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():XA.g(),this.C=function D2(i){return i.h||(i.h=i.i())}(this.u?this.u:XA),this.g.onreadystatechange=Cs(this.Fa,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(u){return void z2(this,u)}i=t||"";const s=new Q_(this.headers);o&&tx(o,function(u,d){s.set(d,u)}),o=function wY(i){e:{var e=dX;const t=i.length,o="string"==typeof i?i.split(""):i;for(let s=0;s<t;s++)if(s in o&&e.call(void 0,o[s],s,i)){e=s;break e}e=-1}return 0>e?null:"string"==typeof i?i.charAt(e):i[e]}(s.T()),t=zt.FormData&&i instanceof zt.FormData,!(0<=WL(lX,e))||o||t||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach(function(u,d){this.g.setRequestHeader(d,u)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{K2(this),0<this.B&&((this.K=function hX(i){return K_&&function TY(){return function EY(i){var e=IY;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=XL(String(XC)).split("."),t=XL("9").split("."),o=Math.max(e.length,t.length);for(let d=0;0==i&&d<o;d++){var s=e[d]||"",u=t[d]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==s[0].length&&0==u[0].length)break;i=TA(0==s[1].length?0:parseInt(s[1],10),0==u[1].length?0:parseInt(u[1],10))||TA(0==s[2].length,0==u[2].length)||TA(s[2],u[2]),s=s[3],u=u[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Cs(this.pa,this)):this.A=KA(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(u){z2(this,u)}},rt.pa=function(){void 0!==EA&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Is(this,"timeout"),this.abort(8))},rt.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Is(this,"complete"),Is(this,"abort"),pD(this))},rt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),pD(this,!0)),lo.Z.M.call(this)},rt.Fa=function(){this.s||(this.F||this.v||this.l?$2(this):this.cb())},rt.cb=function(){$2(this)},rt.ba=function(){try{return 2<Vf(this)?this.g.status:-1}catch(i){return-1}},rt.ga=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},rt.Qa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),uX(e)}},rt.Da=function(){return this.m},rt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(rt=Q2.prototype).ma=8,rt.G=1,rt.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch(e){}},rt.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;const s=new mw(this,this.h,i,void 0);let u=this.s;if(this.P&&(u?(u=e2(u),n2(u,this.P)):u=this.P),null===this.o&&(s.H=u),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var o=this.l[t];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=J2(this,s,e),si(t=Bf(this.F),"RID",i),si(t,"CVER",22),this.D&&si(t,"X-HTTP-Session-Id",this.D),Iw(this,t),this.o&&u&&ax(t,this.o,u),ix(this.i,s),this.Ra&&si(t,"TYPE","init"),this.ja?(si(t,"$req",e),si(t,"SID","null"),s.$=!0,ZA(s,t,null)):ZA(s,t,e),this.G=2}}else 3==this.G&&(i?X2(this,i):0==this.l.length||B2(this.i)||X2(this))},rt.Ga=function(){if(this.u=null,eB(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=fw(Cs(this.bb,this),i)}},rt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ma(10),mD(this),eB(this))},rt.ab=function(){null!=this.v&&(this.v=null,mD(this),lx(this),Ma(19))},rt.jb=function(i){i?(this.h.info("Successfully pinged google.com"),Ma(2)):(this.h.info("Failed to ping google.com"),Ma(1))},(rt=sB.prototype).xa=function(){},rt.wa=function(){},rt.va=function(){},rt.ua=function(){},rt.Oa=function(){},vD.prototype.g=function(i,e){return new qu(i,e)},Ds(qu,Zo),qu.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,t=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),qA(Cs(i.hb,i,e))),Ma(0),i.W=e,i.aa=t||{},i.N=i.X,i.F=iB(i,null,i.W),gD(i)},qu.prototype.close=function(){ux(this.g)},qu.prototype.u=function(i){if("string"==typeof i){var e={};e.__data__=i,cx(this.g,e)}else this.v?((e={}).__data__=HA(i),cx(this.g,e)):cx(this.g,i)},qu.prototype.M=function(){this.g.j=null,delete this.j,ux(this.g),delete this.g,qu.Z.M.call(this)},Ds(aB,QA),Ds(uB,YA),Ds(X_,sB),X_.prototype.xa=function(){Is(this.g,"a")},X_.prototype.wa=function(i){Is(this.g,new aB(i))},X_.prototype.va=function(i){Is(this.g,new uB(i))},X_.prototype.ua=function(){Is(this.g,"b")},vD.prototype.createWebChannel=vD.prototype.g,qu.prototype.send=qu.prototype.u,qu.prototype.open=qu.prototype.m,qu.prototype.close=qu.prototype.close,iD.NO_ERROR=0,iD.TIMEOUT=8,iD.HTTP_ERROR=6,C2.COMPLETE="complete",I2.EventType=pw,pw.OPEN="a",pw.CLOSE="b",pw.ERROR="c",pw.MESSAGE="d",Zo.prototype.listen=Zo.prototype.N,lo.prototype.listenOnce=lo.prototype.O,lo.prototype.getLastError=lo.prototype.La,lo.prototype.getLastErrorCode=lo.prototype.Da,lo.prototype.getStatus=lo.prototype.ba,lo.prototype.getResponseJson=lo.prototype.Qa,lo.prototype.getResponseText=lo.prototype.ga,lo.prototype.send=lo.prototype.ea;var mX=Lf.createWebChannelTransport=function(){return new vD},gX=Lf.getStatEventTarget=function(){return rD()},dx=Lf.ErrorCode=iD,yX=Lf.EventType=C2,vX=Lf.Event=xy,cB=Lf.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},_X=Lf.FetchXmlHttpFactory=ww,_D=Lf.WebChannel=I2,bX=Lf.XhrIo=lo;const lB="@firebase/firestore";class Ts{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ts.UNAUTHENTICATED=new Ts(null),Ts.GOOGLE_CREDENTIALS=new Ts("google-credentials-uid"),Ts.FIRST_PARTY=new Ts("first-party-uid"),Ts.MOCK_USER=new Ts("mock-user");let J_="9.6.10";const Om=new LL("@firebase/firestore");function fx(){return Om.logLevel}function Ne(i,...e){if(Om.logLevel<=er.DEBUG){const t=e.map(px);Om.debug(`Firestore (${J_}): ${i}`,...t)}}function ho(i,...e){if(Om.logLevel<=er.ERROR){const t=e.map(px);Om.error(`Firestore (${J_}): ${i}`,...t)}}function bD(i,...e){if(Om.logLevel<=er.WARN){const t=e.map(px);Om.warn(`Firestore (${J_}): ${i}`,...t)}}function px(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(t){return i}}function ct(i="Unexpected state"){const e=`FIRESTORE (${J_}) INTERNAL ASSERTION FAILED: `+i;throw ho(e),new Error(e)}function Bt(i,e){i||ct()}function $e(i,e){return i}const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends zC{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class es{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class hB{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wX{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ts.UNAUTHENTICATED))}shutdown(){}}class CX{constructor(e){this.t=e,this.currentUser=Ts.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var o=this;let s=this.i;const u=b=>this.i!==s?(s=this.i,t(b)):Promise.resolve();let d=new es;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new es,e.enqueueRetryable(()=>u(this.currentUser))};const m=()=>{const b=d;e.enqueueRetryable(We(function*(){yield b.promise,yield u(o.currentUser)}))},y=b=>{Ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(b=>y(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?y(b):(Ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new es)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(Ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Bt("string"==typeof o.accessToken),new hB(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Bt(null===e||"string"==typeof e),new Ts(e)}}class DX{constructor(e,t,o){this.type="FirstParty",this.user=Ts.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const s=e.auth.getAuthHeaderValueForFirstParty([]);s&&this.headers.set("Authorization",s),o&&this.headers.set("X-Goog-Iam-Authorization-Token",o)}}class IX{constructor(e,t,o){this.h=e,this.l=t,this.m=o}getToken(){return Promise.resolve(new DX(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Ts.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class dB{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class TX{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const o=u=>{null!=u.error&&Ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.p;return this.p=u.token,Ne("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>o(u))};const s=u=>{Ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.g.onInit(u=>s(u)),setTimeout(()=>{if(!this.appCheck){const u=this.g.getImmediate({optional:!0});u?s(u):Ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Bt("string"==typeof t.token),this.p=t.token,new dB(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class zu{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=o=>this.I(o),this.T=o=>t.writeSequenceNumber(o))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function SX(i){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<i;o++)t[o]=Math.floor(256*Math.random());return t}zu.A=-1;class fB{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const s=SX(40);for(let u=0;u<s.length;++u)o.length<20&&s[u]<t&&(o+=e.charAt(s[u]%e.length))}return o}}function gn(i,e){return i<e?-1:i>e?1:0}function Z_(i,e,t){return i.length===e.length&&i.every((o,s)=>t(o,e[s]))}class fo{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ae(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ae(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ae(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return fo.fromMillis(Date.now())}static fromDate(e){return fo.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new fo(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?gn(this.nanoseconds,e.nanoseconds):gn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Nt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Nt(e)}static min(){return new Nt(new fo(0,0))}static max(){return new Nt(new fo(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function mB(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Ny(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function gB(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class Tw{constructor(e,t,o){void 0===t?t=0:t>e.length&&ct(),void 0===o?o=e.length-t:o>e.length-t&&ct(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===Tw.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Tw?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let s=0;s<o;s++){const u=e.get(s),d=t.get(s);if(u<d)return-1;if(u>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Nn extends Tw{construct(e,t,o){return new Nn(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new Ae(ue.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(s=>s.length>0))}return new Nn(t)}static emptyPath(){return new Nn([])}}const AX=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ss extends Tw{construct(e,t,o){return new Ss(e,t,o)}static isValidIdentifier(e){return AX.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ss.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ss(["__name__"])}static fromServerFormat(e){const t=[];let o="",s=0;const u=()=>{if(0===o.length)throw new Ae(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let d=!1;for(;s<e.length;){const m=e[s];if("\\"===m){if(s+1===e.length)throw new Ae(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[s+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new Ae(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=y,s+=2}else"`"===m?(d=!d,s++):"."!==m||d?(o+=m,s++):(u(),s++)}if(u(),d)throw new Ae(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ss(t)}static emptyPath(){return new Ss([])}}class eb{constructor(e){this.fields=e,e.sort(Ss.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Z_(this.fields,e.fields,(t,o)=>t.isEqual(o))}}class No{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new No(t)}static fromUint8Array(e){const t=function(o){let s="";for(let u=0;u<o.length;++u)s+=String.fromCharCode(o[u]);return s}(e);return new No(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return gn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}No.EMPTY_BYTE_STRING=new No("");const xX=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nm(i){if(Bt(!!i),"string"==typeof i){let e=0;const t=xX.exec(i);if(Bt(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Oi(i.seconds),nanos:Oi(i.nanos)}}function Oi(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Py(i){return"string"==typeof i?No.fromBase64String(i):No.fromUint8Array(i)}function mx(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function yB(i){const e=i.mapValue.fields.__previous_value__;return mx(e)?yB(e):e}function Sw(i){const e=Nm(i.mapValue.fields.__local_write_time__.timestampValue);return new fo(e.seconds,e.nanos)}class MX{constructor(e,t,o,s,u,d,m,y){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=s,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.useFetchStreams=y}}class Pm{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Pm("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Pm&&e.projectId===this.projectId&&e.database===this.database}}function Fy(i){return null==i}function Aw(i){return 0===i&&1/i==-1/0}class qe{constructor(e){this.path=e}static fromPath(e){return new qe(Nn.fromString(e))}static fromName(e){return new qe(Nn.fromString(e).popFirst(5))}static empty(){return new qe(Nn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Nn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Nn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new qe(new Nn(e.slice()))}}function Ly(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?mx(i)?4:DB(i)?9:10:ct()}function Wh(i,e){if(i===e)return!0;const t=Ly(i);if(t!==Ly(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Sw(i).isEqual(Sw(e));case 3:return function(o,s){if("string"==typeof o.timestampValue&&"string"==typeof s.timestampValue&&o.timestampValue.length===s.timestampValue.length)return o.timestampValue===s.timestampValue;const u=Nm(o.timestampValue),d=Nm(s.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return s=e,Py(i.bytesValue).isEqual(Py(s.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,s){return Oi(o.geoPointValue.latitude)===Oi(s.geoPointValue.latitude)&&Oi(o.geoPointValue.longitude)===Oi(s.geoPointValue.longitude)}(i,e);case 2:return function(o,s){if("integerValue"in o&&"integerValue"in s)return Oi(o.integerValue)===Oi(s.integerValue);if("doubleValue"in o&&"doubleValue"in s){const u=Oi(o.doubleValue),d=Oi(s.doubleValue);return u===d?Aw(u)===Aw(d):isNaN(u)&&isNaN(d)}return!1}(i,e);case 9:return Z_(i.arrayValue.values||[],e.arrayValue.values||[],Wh);case 10:return function(o,s){const u=o.mapValue.fields||{},d=s.mapValue.fields||{};if(mB(u)!==mB(d))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(void 0===d[m]||!Wh(u[m],d[m])))return!1;return!0}(i,e);default:return ct()}var s}function xw(i,e){return void 0!==(i.values||[]).find(t=>Wh(t,e))}function Fm(i,e){if(i===e)return 0;const t=Ly(i),o=Ly(e);if(t!==o)return gn(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return gn(i.booleanValue,e.booleanValue);case 2:return function(s,u){const d=Oi(s.integerValue||s.doubleValue),m=Oi(u.integerValue||u.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(i,e);case 3:return wB(i.timestampValue,e.timestampValue);case 4:return wB(Sw(i),Sw(e));case 5:return gn(i.stringValue,e.stringValue);case 6:return function(s,u){const d=Py(s),m=Py(u);return d.compareTo(m)}(i.bytesValue,e.bytesValue);case 7:return function(s,u){const d=s.split("/"),m=u.split("/");for(let y=0;y<d.length&&y<m.length;y++){const b=gn(d[y],m[y]);if(0!==b)return b}return gn(d.length,m.length)}(i.referenceValue,e.referenceValue);case 8:return function(s,u){const d=gn(Oi(s.latitude),Oi(u.latitude));return 0!==d?d:gn(Oi(s.longitude),Oi(u.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(s,u){const d=s.values||[],m=u.values||[];for(let y=0;y<d.length&&y<m.length;++y){const b=Fm(d[y],m[y]);if(b)return b}return gn(d.length,m.length)}(i.arrayValue,e.arrayValue);case 10:return function(s,u){const d=s.fields||{},m=Object.keys(d),y=u.fields||{},b=Object.keys(y);m.sort(),b.sort();for(let C=0;C<m.length&&C<b.length;++C){const I=gn(m[C],b[C]);if(0!==I)return I;const M=Fm(d[m[C]],y[b[C]]);if(0!==M)return M}return gn(m.length,b.length)}(i.mapValue,e.mapValue);default:throw ct()}}function wB(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return gn(i,e);const t=Nm(i),o=Nm(e),s=gn(t.seconds,o.seconds);return 0!==s?s:gn(t.nanos,o.nanos)}function tb(i){return gx(i)}function gx(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const s=Nm(o);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Py(i.bytesValue).toBase64():"referenceValue"in i?qe.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let s="[",u=!0;for(const d of o.values||[])u?u=!1:s+=",",s+=gx(d);return s+"]"}(i.arrayValue):"mapValue"in i?function(o){const s=Object.keys(o.fields||{}).sort();let u="{",d=!0;for(const m of s)d?d=!1:u+=",",u+=`${m}:${gx(o.fields[m])}`;return u+"}"}(i.mapValue):ct();var e}function yx(i){return!!i&&"integerValue"in i}function Mw(i){return!!i&&"arrayValue"in i}function EB(i){return!!i&&"nullValue"in i}function CB(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function wD(i){return!!i&&"mapValue"in i}function kw(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Ny(i.mapValue.fields,(t,o)=>e.mapValue.fields[t]=kw(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=kw(i.arrayValue.values[t]);return e}return Object.assign({},i)}function DB(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}class ta{constructor(e){this.value=e}static empty(){return new ta({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!wD(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=kw(t)}setAll(e){let t=Ss.emptyPath(),o={},s=[];e.forEach((d,m)=>{if(!t.isImmediateParentOf(m)){const y=this.getFieldsMap(t);this.applyChanges(y,o,s),o={},s=[],t=m.popLast()}d?o[m.lastSegment()]=kw(d):s.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,o,s)}delete(e){const t=this.field(e.popLast());wD(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Wh(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let s=t.mapValue.fields[e.get(o)];wD(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,o){Ny(t,(s,u)=>e[s]=u);for(const s of o)delete e[s]}clone(){return new ta(kw(this.value))}}function SB(i){const e=[];return Ny(i.fields,(t,o)=>{const s=new Ss([t]);if(wD(o)){const u=SB(o.mapValue).fields;if(0===u.length)e.push(s);else for(const d of u)e.push(s.child(d))}else e.push(s)}),new eb(e)}class Qr{constructor(e,t,o,s,u,d){this.key=e,this.documentType=t,this.version=o,this.readTime=s,this.data=u,this.documentState=d}static newInvalidDocument(e){return new Qr(e,0,Nt.min(),Nt.min(),ta.empty(),0)}static newFoundDocument(e,t,o){return new Qr(e,1,t,Nt.min(),o,0)}static newNoDocument(e,t){return new Qr(e,2,t,Nt.min(),ta.empty(),0)}static newUnknownDocument(e,t){return new Qr(e,3,t,Nt.min(),ta.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ta.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ta.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Qr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qr(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}function kX(i){return new jf(i.readTime,i.key,-1)}class jf{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new jf(Nt.min(),qe.empty(),-1)}static max(){return new jf(Nt.max(),qe.empty(),-1)}}function RX(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=qe.comparator(i.documentKey,e.documentKey),0!==t?t:gn(i.largestBatchId,e.largestBatchId))}class OX{constructor(e,t=null,o=[],s=[],u=null,d=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=s,this.limit=u,this.startAt=d,this.endAt=m,this.P=null}}function xB(i,e=null,t=[],o=[],s=null,u=null,d=null){return new OX(i,e,t,o,s,u,d)}function By(i){const e=$e(i);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>{return(s=o).field.canonicalString()+s.op.toString()+tb(s.value);var s}).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(s=o).field.canonicalString()+s.dir;var s}).join(","),Fy(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>tb(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>tb(o)).join(",")),e.P=t}return e.P}function Ow(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let s=0;s<i.orderBy.length;s++)if(!HX(i.orderBy[s],e.orderBy[s]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let s=0;s<i.filters.length;s++)if((t=i.filters[s]).op!==(o=e.filters[s]).op||!t.field.isEqual(o.field)||!Wh(t.value,o.value))return!1;var t,o;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!RB(i.startAt,e.startAt)&&RB(i.endAt,e.endAt)}function DD(i){return qe.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class As extends class{}{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,o):new PX(e,t,o):"array-contains"===t?new BX(e,o):"in"===t?new VX(e,o):"not-in"===t?new jX(e,o):"array-contains-any"===t?new UX(e,o):new As(e,t,o)}static V(e,t,o){return"in"===t?new FX(e,o):new LX(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Fm(t,this.value)):null!==t&&Ly(this.value)===Ly(t)&&this.v(Fm(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ct()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class PX extends As{constructor(e,t,o){super(e,t,o),this.key=qe.fromName(o.referenceValue)}matches(e){const t=qe.comparator(e.key,this.key);return this.v(t)}}class FX extends As{constructor(e,t){super(e,"in",t),this.keys=MB(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class LX extends As{constructor(e,t){super(e,"not-in",t),this.keys=MB(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function MB(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>qe.fromName(o.referenceValue))}class BX extends As{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Mw(t)&&xw(t.arrayValue,this.value)}}class VX extends As{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&xw(this.value.arrayValue,t)}}class jX extends As{constructor(e,t){super(e,"not-in",t)}matches(e){if(xw(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!xw(this.value.arrayValue,t)}}class UX extends As{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Mw(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>xw(this.value.arrayValue,o))}}class Lm{constructor(e,t){this.position=e,this.inclusive=t}}class ib{constructor(e,t="asc"){this.field=e,this.dir=t}}function HX(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function kB(i,e,t){let o=0;for(let s=0;s<i.position.length;s++){const u=e[s],d=i.position[s];if(o=u.field.isKeyField()?qe.comparator(qe.fromName(d.referenceValue),t.key):Fm(d,t.data.field(u.field)),"desc"===u.dir&&(o*=-1),0!==o)break}return o}function RB(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Wh(i.position[t],e.position[t]))return!1;return!0}class Uf{constructor(e,t=null,o=[],s=[],u=null,d="F",m=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=s,this.limit=u,this.limitType=d,this.startAt=m,this.endAt=y,this.D=null,this.C=null}}function ob(i){return new Uf(i)}function TD(i){return!Fy(i.limit)&&"F"===i.limitType}function SD(i){return!Fy(i.limit)&&"L"===i.limitType}function sb(i){const e=$e(i);if(null===e.D){e.D=[];const t=function bx(i){for(const e of i.filters)if(e.S())return e.field;return null}(e),o=function _x(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}(e);if(null!==t&&null===o)t.isKeyField()||e.D.push(new ib(t)),e.D.push(new ib(Ss.keyField(),"asc"));else{let s=!1;for(const u of e.explicitOrderBy)e.D.push(u),u.field.isKeyField()&&(s=!0);if(!s){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new ib(Ss.keyField(),u))}}}return e.D}function zc(i){const e=$e(i);if(!e.C)if("F"===e.limitType)e.C=xB(e.path,e.collectionGroup,sb(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of sb(e))t.push(new ib(u.field,"desc"===u.dir?"asc":"desc"));const o=e.endAt?new Lm(e.endAt.position,!e.endAt.inclusive):null,s=e.startAt?new Lm(e.startAt.position,!e.startAt.inclusive):null;e.C=xB(e.path,e.collectionGroup,t,e.filters,e.limit,o,s)}return e.C}function Nw(i,e){return Ow(zc(i),zc(e))&&i.limitType===e.limitType}function PB(i){return`${By(zc(i))}|lt:${i.limitType}`}function Ex(i){return`Query(target=${function NX(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(t=>{return`${(o=t).field.canonicalString()} ${o.op} ${tb(o.value)}`;var o}).join(", ")}]`),Fy(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(t=>{return`${(o=t).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),i.startAt&&(e+=", startAt: ",e+=i.startAt.inclusive?"b:":"a:",e+=i.startAt.position.map(t=>tb(t)).join(",")),i.endAt&&(e+=", endAt: ",e+=i.endAt.inclusive?"a:":"b:",e+=i.endAt.position.map(t=>tb(t)).join(",")),`Target(${e})`}(zc(i))}; limitType=${i.limitType})`}function Cx(i,e){return e.isFoundDocument()&&function(t,o){const s=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(s):qe.isDocumentKey(t.path)?t.path.isEqual(s):t.path.isImmediateParentOf(s)}(i,e)&&function(t,o){for(const s of t.explicitOrderBy)if(!s.field.isKeyField()&&null===o.data.field(s.field))return!1;return!0}(i,e)&&function(t,o){for(const s of t.filters)if(!s.matches(o))return!1;return!0}(i,e)&&(o=e,!((t=i).startAt&&!function(s,u,d){const m=kB(s,u,d);return s.inclusive?m<=0:m<0}(t.startAt,sb(t),o)||t.endAt&&!function(s,u,d){const m=kB(s,u,d);return s.inclusive?m>=0:m>0}(t.endAt,sb(t),o)));var t,o}function LB(i){return(e,t)=>{let o=!1;for(const s of sb(i)){const u=qX(s,e,t);if(0!==u)return u;o=o||s.field.isKeyField()}return 0}}function qX(i,e,t){const o=i.field.isKeyField()?qe.comparator(e.key,t.key):function(s,u,d){const m=u.data.field(s),y=d.data.field(s);return null!==m&&null!==y?Fm(m,y):ct()}(i.field,e,t);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return ct()}}function BB(i,e){if(i.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Aw(e)?"-0":e}}function VB(i){return{integerValue:""+i}}function jB(i,e){return function vB(i){return"number"==typeof i&&Number.isInteger(i)&&!Aw(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}(e)?VB(e):BB(i,e)}class AD{constructor(){this._=void 0}}function zX(i,e,t){return i instanceof ab?function(o,s){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return s&&(u.fields.__previous_value__=s),{mapValue:u}}(t,e):i instanceof Vy?HB(i,e):i instanceof jy?qB(i,e):function(o,s){const u=UB(o,s),d=zB(u)+zB(o.k);return yx(u)&&yx(o.k)?VB(d):BB(o.M,d)}(i,e)}function GX(i,e,t){return i instanceof Vy?HB(i,e):i instanceof jy?qB(i,e):t}function UB(i,e){return i instanceof ub?yx(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class ab extends AD{}class Vy extends AD{constructor(e){super(),this.elements=e}}function HB(i,e){const t=GB(e);for(const o of i.elements)t.some(s=>Wh(s,o))||t.push(o);return{arrayValue:{values:t}}}class jy extends AD{constructor(e){super(),this.elements=e}}function qB(i,e){let t=GB(e);for(const o of i.elements)t=t.filter(s=>!Wh(s,o));return{arrayValue:{values:t}}}class ub extends AD{constructor(e,t){super(),this.M=e,this.k=t}}function zB(i){return Oi(i.integerValue||i.doubleValue)}function GB(i){return Mw(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class KX{constructor(e,t){this.version=e,this.transformResults=t}}class po{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new po}static exists(e){return new po(void 0,e)}static updateTime(e){return new po(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xD(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class MD{}function WX(i,e,t){i instanceof Fw?function(o,s,u){const d=o.value.clone(),m=QB(o.fieldTransforms,s,u.transformResults);d.setAll(m),s.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(i,e,t):i instanceof Uy?function(o,s,u){if(!xD(o.precondition,s))return void s.convertToUnknownDocument(u.version);const d=QB(o.fieldTransforms,s,u.transformResults),m=s.data;m.setAll(WB(o)),m.setAll(d),s.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Dx(i,e,t){var s;i instanceof Fw?function(o,s,u){if(!xD(o.precondition,s))return;const d=o.value.clone(),m=YB(o.fieldTransforms,u,s);d.setAll(m),s.convertToFoundDocument(KB(s),d).setHasLocalMutations()}(i,e,t):i instanceof Uy?function(o,s,u){if(!xD(o.precondition,s))return;const d=YB(o.fieldTransforms,u,s),m=s.data;m.setAll(WB(o)),m.setAll(d),s.convertToFoundDocument(KB(s),m).setHasLocalMutations()}(i,e,t):xD(i.precondition,s=e)&&s.convertToNoDocument(Nt.min())}function QX(i,e){let t=null;for(const o of i.fieldTransforms){const s=e.data.field(o.field),u=UB(o.transform,s||null);null!=u&&(null==t&&(t=ta.empty()),t.set(o.field,u))}return t||null}function $B(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===o||t&&o&&Z_(t,o,(s,u)=>function $X(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(t=i.transform)instanceof Vy&&o instanceof Vy||t instanceof jy&&o instanceof jy?Z_(t.elements,o.elements,Wh):t instanceof ub&&o instanceof ub?Wh(t.k,o.k):t instanceof ab&&o instanceof ab);var t,o}(s,u))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,o}function KB(i){return i.isFoundDocument()?i.version:Nt.min()}class Fw extends MD{constructor(e,t,o,s=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=s,this.type=0}}class Uy extends MD{constructor(e,t,o,s,u=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=s,this.fieldTransforms=u,this.type=1}}function WB(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=i.data.field(t);e.set(t,o)}}),e}function QB(i,e,t){const o=new Map;Bt(i.length===t.length);for(let s=0;s<t.length;s++){const u=i[s],d=u.transform,m=e.data.field(u.field);o.set(u.field,GX(d,m,t[s]))}return o}function YB(i,e,t){const o=new Map;for(const s of i){const u=s.transform,d=t.data.field(s.field);o.set(s.field,zX(u,d,e))}return o}class Lw extends MD{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Ix extends MD{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class YX{constructor(e){this.count=e}}var mo,Pn;function XB(i){switch(i){default:return ct();case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0}}function JB(i){if(void 0===i)return ho("GRPC error has no .code"),ue.UNKNOWN;switch(i){case mo.OK:return ue.OK;case mo.CANCELLED:return ue.CANCELLED;case mo.UNKNOWN:return ue.UNKNOWN;case mo.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case mo.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case mo.INTERNAL:return ue.INTERNAL;case mo.UNAVAILABLE:return ue.UNAVAILABLE;case mo.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case mo.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case mo.NOT_FOUND:return ue.NOT_FOUND;case mo.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case mo.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case mo.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case mo.ABORTED:return ue.ABORTED;case mo.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case mo.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case mo.DATA_LOSS:return ue.DATA_LOSS;default:return ct()}}(Pn=mo||(mo={}))[Pn.OK=0]="OK",Pn[Pn.CANCELLED=1]="CANCELLED",Pn[Pn.UNKNOWN=2]="UNKNOWN",Pn[Pn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pn[Pn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pn[Pn.NOT_FOUND=5]="NOT_FOUND",Pn[Pn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pn[Pn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pn[Pn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pn[Pn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pn[Pn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pn[Pn.ABORTED=10]="ABORTED",Pn[Pn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pn[Pn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pn[Pn.INTERNAL=13]="INTERNAL",Pn[Pn.UNAVAILABLE=14]="UNAVAILABLE",Pn[Pn.DATA_LOSS=15]="DATA_LOSS";class Bm{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[s,u]of o)if(this.equalsFn(s,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),s=this.inner[o];if(void 0===s)return this.inner[o]=[[e,t]],void this.innerSize++;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return void(s[u]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let s=0;s<o.length;s++)if(this.equalsFn(o[s][0],e))return 1===o.length?delete this.inner[t]:o.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ny(this.inner,(t,o)=>{for(const[s,u]of o)e(s,u)})}isEmpty(){return gB(this.inner)}size(){return this.innerSize}}class Wi{constructor(e,t){this.comparator=e,this.root=t||xs.EMPTY}insert(e,t){return new Wi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,xs.BLACK,null,null))}remove(e){return new Wi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const s=this.comparator(e,o.key);if(0===s)return t+o.left.size;s<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kD(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kD(this.root,e,this.comparator,!1)}getReverseIterator(){return new kD(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kD(this.root,e,this.comparator,!0)}}class kD{constructor(e,t,o,s){this.isReverse=s,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?o(e.key,t):1,t&&s&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xs{constructor(e,t,o,s,u){this.key=e,this.value=t,this.color=null!=o?o:xs.RED,this.left=null!=s?s:xs.EMPTY,this.right=null!=u?u:xs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,s,u){return new xs(null!=e?e:this.key,null!=t?t:this.value,null!=o?o:this.color,null!=s?s:this.left,null!=u?u:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let s=this;const u=o(e,s.key);return s=u<0?s.copy(null,null,null,s.left.insert(e,t,o),null):0===u?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,o)),s.fixUp()}removeMin(){if(this.left.isEmpty())return xs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),0===t(e,s.key)){if(s.right.isEmpty())return xs.EMPTY;o=s.right.min(),s=s.copy(o.key,o.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ct();const e=this.left.check();if(e!==this.right.check())throw ct();return e+(this.isRed()?0:1)}}xs.EMPTY=null,xs.RED=!0,xs.BLACK=!1,xs.EMPTY=new class{constructor(){this.size=0}get key(){throw ct()}get value(){throw ct()}get color(){throw ct()}get left(){throw ct()}get right(){throw ct()}copy(i,e,t,o,s){return this}insert(i,e,t){return new xs(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Yr{constructor(e){this.comparator=e,this.data=new Wi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const s=o.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ZB(this.data.getIterator())}getIteratorFrom(e){return new ZB(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof Yr)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,u=o.getNext().key;if(0!==this.comparator(s,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Yr(this.comparator);return t.data=e,t}}class ZB{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const XX=new Wi(qe.comparator);function Gc(){return XX}const JX=new Wi(qe.comparator);function Tx(){return JX}function Bw(){return new Bm(i=>i.toString(),(i,e)=>i.isEqual(e))}const ZX=new Wi(qe.comparator),e9=new Yr(qe.comparator);function fr(...i){let e=e9;for(const t of i)e=e.add(t);return e}const t9=new Yr(gn);function RD(){return t9}class Vw{constructor(e,t,o,s,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=s,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t){const o=new Map;return o.set(e,jw.createSynthesizedTargetChangeForCurrentChange(e,t)),new Vw(Nt.min(),o,RD(),Gc(),fr())}}class jw{constructor(e,t,o,s,u){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=s,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t){return new jw(No.EMPTY_BYTE_STRING,t,fr(),fr(),fr())}}class OD{constructor(e,t,o,s){this.O=e,this.removedTargetIds=t,this.key=o,this.F=s}}class eV{constructor(e,t){this.targetId=e,this.$=t}}class tV{constructor(e,t,o=No.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=s}}class nV{constructor(){this.B=0,this.L=iV(),this.U=No.EMPTY_BYTE_STRING,this.q=!1,this.G=!0}get current(){return this.q}get resumeToken(){return this.U}get K(){return 0!==this.B}get j(){return this.G}W(e){e.approximateByteSize()>0&&(this.G=!0,this.U=e)}H(){let e=fr(),t=fr(),o=fr();return this.L.forEach((s,u)=>{switch(u){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:o=o.add(s);break;default:ct()}}),new jw(this.U,this.q,e,t,o)}J(){this.G=!1,this.L=iV()}Y(e,t){this.G=!0,this.L=this.L.insert(e,t)}X(e){this.G=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.G=!0,this.q=!0}}class n9{constructor(e){this.nt=e,this.st=new Map,this.it=Gc(),this.rt=rV(),this.ot=new Yr(gn)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const o=this.lt(t);switch(e.state){case 0:this.ft(t)&&o.W(e.resumeToken);break;case 1:o.tt(),o.K||o.J(),o.W(e.resumeToken);break;case 2:o.tt(),o.K||this.removeTarget(t);break;case 3:this.ft(t)&&(o.et(),o.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),o.W(e.resumeToken));break;default:ct()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((o,s)=>{this.ft(s)&&t(s)})}_t(e){const t=e.targetId,o=e.$.count,s=this.wt(t);if(s){const u=s.target;if(DD(u))if(0===o){const d=new qe(u.path);this.ct(t,d,Qr.newNoDocument(d,Nt.min()))}else Bt(1===o);else this.gt(t)!==o&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((u,d)=>{const m=this.wt(d);if(m){if(u.current&&DD(m.target)){const y=new qe(m.target.path);null!==this.it.get(y)||this.It(d,y)||this.ct(d,y,Qr.newNoDocument(y,e))}u.j&&(t.set(d,u.H()),u.J())}});let o=fr();this.rt.forEach((u,d)=>{let m=!0;d.forEachWhile(y=>{const b=this.wt(y);return!b||2===b.purpose||(m=!1,!1)}),m&&(o=o.add(u))}),this.it.forEach((u,d)=>d.setReadTime(e));const s=new Vw(e,t,this.ot,this.it,o);return this.it=Gc(),this.rt=rV(),this.ot=new Yr(gn),s}at(e,t){if(!this.ft(e))return;const o=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,o),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,o){if(!this.ft(e))return;const s=this.lt(e);this.It(e,t)?s.Y(t,1):s.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),o&&(this.it=this.it.insert(t,o))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new nV,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new Yr(gn),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Ne("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.K?null:this.nt.Et(e)}dt(e){this.st.set(e,new nV),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function rV(){return new Wi(qe.comparator)}function iV(){return new Wi(qe.comparator)}const r9={asc:"ASCENDING",desc:"DESCENDING"},i9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class o9{constructor(e,t){this.databaseId=e,this.N=t}}function Uw(i,e){return i.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function oV(i,e){return i.N?e.toBase64():e.toUint8Array()}function s9(i,e){return Uw(i,e.toTimestamp())}function ts(i){return Bt(!!i),Nt.fromTimestamp(function(e){const t=Nm(e);return new fo(t.seconds,t.nanos)}(i))}function Sx(i,e){return(t=i,new Nn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function sV(i){const e=Nn.fromString(i);return Bt(mV(e)),e}function Hw(i,e){return Sx(i.databaseId,e.path)}function Qh(i,e){const t=sV(e);if(t.get(1)!==i.databaseId.projectId)throw new Ae(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new Ae(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new qe(uV(t))}function Ax(i,e){return Sx(i.databaseId,e)}function qw(i){return new Nn(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function uV(i){return Bt(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function cV(i,e,t){return{name:Hw(i,e),fields:t.value.mapValue.fields}}function hV(i,e){return{documents:[Ax(i,e.path)]}}function dV(i,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=Ax(i,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Ax(i,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const s=function(y){if(0===y.length)return;const b=y.map(C=>function(I){if("=="===I.op){if(CB(I.value))return{unaryFilter:{field:lb(I.field),op:"IS_NAN"}};if(EB(I.value))return{unaryFilter:{field:lb(I.field),op:"IS_NULL"}}}else if("!="===I.op){if(CB(I.value))return{unaryFilter:{field:lb(I.field),op:"IS_NOT_NAN"}};if(EB(I.value))return{unaryFilter:{field:lb(I.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lb(I.field),op:d9(I.op),value:I.value}}}(C));return 1===b.length?b[0]:{compositeFilter:{op:"AND",filters:b}}}(e.filters);s&&(t.structuredQuery.where=s);const u=function(y){if(0!==y.length)return y.map(b=>{return{field:lb((C=b).field),direction:h9(C.dir)};var C})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=(b=e.limit,i.N||Fy(b)?b:{value:b});var b,m,y;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(y=e.endAt).inclusive,values:y.position}),t}function fV(i){let e=function aV(i){const e=sV(i);return 4===e.length?Nn.emptyPath():uV(e)}(i.parent);const t=i.structuredQuery,o=t.from?t.from.length:0;let s=null;if(o>0){Bt(1===o);const C=t.from[0];C.allDescendants?s=C.collectionId:e=e.child(C.collectionId)}let u=[];t.where&&(u=pV(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(C=>{return new ib(hb((I=C).field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction));var I}));let m=null;t.limit&&(m=function(C){let I;return I="object"==typeof C?C.value:C,Fy(I)?null:I}(t.limit));let y=null;var C;t.startAt&&(y=new Lm((C=t.startAt).values||[],!!C.before));let b=null;return t.endAt&&(b=function(C){return new Lm(C.values||[],!C.before)}(t.endAt)),function OB(i,e,t,o,s,u,d,m){return new Uf(i,e,t,o,s,u,d,m)}(e,s,d,u,m,"F",y,b)}function pV(i){return i?void 0!==i.unaryFilter?[p9(i)]:void 0!==i.fieldFilter?[f9(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>pV(e)).reduce((e,t)=>e.concat(t)):ct():[]}function h9(i){return r9[i]}function d9(i){return i9[i]}function lb(i){return{fieldPath:i.canonicalString()}}function hb(i){return Ss.fromServerFormat(i.fieldPath)}function f9(i){return As.create(hb(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ct()}}(i.fieldFilter.op),i.fieldFilter.value)}function p9(i){switch(i.unaryFilter.op){case"IS_NAN":const e=hb(i.unaryFilter.field);return As.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=hb(i.unaryFilter.field);return As.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=hb(i.unaryFilter.field);return As.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=hb(i.unaryFilter.field);return As.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ct()}}function m9(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function mV(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}const wV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ct(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new he((o,s)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(o,s)},this.catchCallback=u=>{this.wrapFailure(t,u).next(o,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof he?t:he.resolve(t)}catch(t){return he.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):he.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):he.reject(t)}static resolve(e){return new he((t,o)=>{t(e)})}static reject(e){return new he((t,o)=>{o(e)})}static waitFor(e){return new he((t,o)=>{let s=0,u=0,d=!1;e.forEach(m=>{++s,m.next(()=>{++u,d&&u===s&&t()},y=>o(y))}),d=!0,u===s&&t()})}static or(e){let t=he.resolve(!1);for(const o of e)t=t.next(s=>s?he.resolve(s):o());return t}static forEach(e,t){const o=[];return e.forEach((s,u)=>{o.push(t.call(this,s,u))}),this.waitFor(o)}}function Hy(i){return"IndexedDbTransactionError"===i.name}class kx{constructor(e,t,o,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=s}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const u=this.mutations[s];u.key.isEqual(e.key)&&WX(u,e,o[s])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Dx(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Dx(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const o=e.get(t.key),s=o;this.applyToLocalView(s),o.isValidDocument()||s.convertToNoDocument(Nt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),fr())}isEqual(e){return this.batchId===e.batchId&&Z_(this.mutations,e.mutations,(t,o)=>$B(t,o))&&Z_(this.baseMutations,e.baseMutations,(t,o)=>$B(t,o))}}class Rx{constructor(e,t,o,s){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=s}static from(e,t,o){Bt(e.mutations.length===o.length);let s=ZX;const u=e.mutations;for(let d=0;d<u.length;d++)s=s.insert(u[d].key,o[d].version);return new Rx(e,t,o,s)}}class Ox{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Vm{constructor(e,t,o,s,u=Nt.min(),d=Nt.min(),m=No.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=s,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m}withSequenceNumber(e){return new Vm(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Vm(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Vm(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class DV{constructor(e){this.Jt=e}}function Nx(i){const e=fV({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?function NB(i,e,t){return new Uf(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}(e,e.limit,"L"):e}class fb{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Oi(e.integerValue));else if("doubleValue"in e){const o=Oi(e.doubleValue);isNaN(o)?this.ne(t,13):(this.ne(t,15),Aw(o)?t.se(0):t.se(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ne(t,20),"string"==typeof o?t.ie(o):(t.ie(`${o.seconds||""}`),t.se(o.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(Py(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.ne(t,45),t.se(o.latitude||0),t.se(o.longitude||0)}else"mapValue"in e?DB(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):ct()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const o=e.fields||{};this.ne(t,55);for(const s of Object.keys(o))this.re(s,t),this.te(o[s],t)}he(e,t){const o=e.values||[];this.ne(t,50);for(const s of o)this.te(s,t)}ae(e,t){this.ne(t,37),qe.fromName(e).path.forEach(o=>{this.ne(t,60),this.le(o,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}fb.fe=new fb;class z9{constructor(){this.qe=new Lx}addToCollectionParentIndex(e,t){return this.qe.add(t),he.resolve()}getCollectionParents(e,t){return he.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return he.resolve()}deleteFieldIndex(e,t){return he.resolve()}getDocumentsMatchingTarget(e,t){return he.resolve(null)}getFieldIndex(e,t){return he.resolve(null)}getFieldIndexes(e,t){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}updateCollectionGroup(e,t,o){return he.resolve()}updateIndexEntries(e,t){return he.resolve()}}class Lx{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),s=this.index[t]||new Yr(Nn.comparator),u=!s.has(o);return this.index[t]=s.add(o),u}has(e){const t=e.lastSegment(),o=e.popLast(),s=this.index[t];return s&&s.has(o)}getEntries(e){return(this.index[e]||new Yr(Nn.comparator)).toArray()}}new Uint8Array(0);class uu{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new uu(e,uu.DEFAULT_COLLECTION_PERCENTILE,uu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}uu.DEFAULT_COLLECTION_PERCENTILE=10,uu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,uu.DEFAULT=new uu(41943040,uu.DEFAULT_COLLECTION_PERCENTILE,uu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),uu.DISABLED=new uu(-1,0,0);class Ky{constructor(e){this.wn=e}next(){return this.wn+=2,this.wn}static mn(){return new Ky(0)}static gn(){return new Ky(-1)}}function Wy(i){return Vx.apply(this,arguments)}function Vx(){return Vx=We(function*(i){if(i.code!==ue.FAILED_PRECONDITION||i.message!==wV)throw i;Ne("LocalStore","Unexpectedly lost primary lease")}),Vx.apply(this,arguments)}class tJ{constructor(e,t,o){this.fs=e,this.$s=t,this.indexManager=o}Bs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKey(e,t).next(o=>this.Ls(e,t,o))}Ls(e,t,o){return this.fs.getEntry(e,t).next(s=>{for(const u of o)u.applyToLocalView(s);return s})}Us(e,t){e.forEach((o,s)=>{for(const u of t)u.applyToLocalView(s)})}qs(e,t){return this.fs.getEntries(e,t).next(o=>this.Gs(e,o).next(()=>o))}Gs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>this.Us(t,o))}Ks(e,t,o){return qe.isDocumentKey((s=t).path)&&null===s.collectionGroup&&0===s.filters.length?this.Qs(e,t.path):function wx(i){return null!==i.collectionGroup}(t)?this.js(e,t,o):this.Ws(e,t,o);var s}Qs(e,t){return this.Bs(e,new qe(t)).next(o=>{let s=Tx();return o.isFoundDocument()&&(s=s.insert(o.key,o)),s})}js(e,t,o){const s=t.collectionGroup;let u=Tx();return this.indexManager.getCollectionParents(e,s).next(d=>he.forEach(d,m=>{const y=(b=t,C=m.child(s),new Uf(C,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,C;return this.Ws(e,y,o).next(b=>{b.forEach((C,I)=>{u=u.insert(C,I)})})}).next(()=>u))}Ws(e,t,o){let s;return this.fs.getAllFromCollection(e,t.path,o).next(u=>(s=u,this.$s.getAllMutationBatchesAffectingQuery(e,t))).next(u=>{for(const d of u)for(const m of d.mutations){const y=m.key;let b=s.get(y);null==b&&(b=Qr.newInvalidDocument(y),s=s.insert(y,b)),Dx(m,b,d.localWriteTime),b.isFoundDocument()||(s=s.remove(y))}}).next(()=>(s.forEach((u,d)=>{Cx(t,d)||(s=s.remove(u))}),s))}}class qx{constructor(e,t,o,s){this.targetId=e,this.fromCache=t,this.zs=o,this.Hs=s}static Js(e,t){let o=fr(),s=fr();for(const u of t.docChanges)switch(u.type){case 0:o=o.add(u.doc.key);break;case 1:s=s.add(u.doc.key)}return new qx(e,t.fromCache,o,s)}}class qV{Ys(e){this.Xs=e}Ks(e,t,o,s){return 0===(u=t).filters.length&&null===u.limit&&null==u.startAt&&null==u.endAt&&(0===u.explicitOrderBy.length||1===u.explicitOrderBy.length&&u.explicitOrderBy[0].field.isKeyField())||o.isEqual(Nt.min())?this.Zs(e,t):this.Xs.qs(e,s).next(u=>{const d=this.ti(t,u);return(TD(t)||SD(t))&&this.ei(t.limitType,d,s,o)?this.Zs(e,t):(fx()<=er.DEBUG&&Ne("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ex(t)),this.Xs.Ks(e,t,function AB(i,e){const t=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,s=Nt.fromTimestamp(1e9===o?new fo(t+1,0):new fo(t,o));return new jf(s,qe.empty(),e)}(o,-1)).next(m=>(d.forEach(y=>{m=m.insert(y.key,y)}),m)))});var u}ti(e,t){let o=new Yr(LB(e));return t.forEach((s,u)=>{Cx(e,u)&&(o=o.add(u))}),o}ei(e,t,o,s){if(o.size!==t.size)return!0;const u="F"===e?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(s)>0)}Zs(e,t){return fx()<=er.DEBUG&&Ne("QueryEngine","Using full collection scan to execute query:",Ex(t)),this.Xs.Ks(e,t,jf.min())}}class nJ{constructor(e,t,o,s){this.persistence=e,this.ni=t,this.M=s,this.si=new Wi(gn),this.ii=new Bm(u=>By(u),Ow),this.ri=new Map,this.oi=e.getRemoteDocumentCache(),this.ls=e.getTargetCache(),this.ds=e.getBundleCache(),this.ui(o)}ui(e){this.indexManager=this.persistence.getIndexManager(e),this.$s=this.persistence.getMutationQueue(e,this.indexManager),this.ai=new tJ(this.oi,this.$s,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ai)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.si))}}function GV(i,e){return zx.apply(this,arguments)}function zx(){return zx=We(function*(i,e){const t=$e(i);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let s;return t.$s.getAllMutationBatches(o).next(u=>(s=u,t.ui(e),t.$s.getAllMutationBatches(o))).next(u=>{const d=[],m=[];let y=fr();for(const b of s){d.push(b.batchId);for(const C of b.mutations)y=y.add(C.key)}for(const b of u){m.push(b.batchId);for(const C of b.mutations)y=y.add(C.key)}return t.ai.qs(o,y).next(b=>({ci:b,removedBatchIds:d,addedBatchIds:m}))})})}),zx.apply(this,arguments)}function rJ(i,e){const t=$e(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const s=e.batch.keys(),u=t.oi.newChangeBuffer({trackRemovals:!0});return function(d,m,y,b){const C=y.batch,I=C.keys();let M=he.resolve();return I.forEach(O=>{M=M.next(()=>b.getEntry(m,O)).next(L=>{const q=y.docVersions.get(O);Bt(null!==q),L.version.compareTo(q)<0&&(C.applyToRemoteDocument(L,y),L.isValidDocument()&&(L.setReadTime(y.commitVersion),b.addEntry(L)))})}),M.next(()=>d.$s.removeMutationBatch(m,C))}(t,o,e,u).next(()=>u.apply(o)).next(()=>t.$s.performConsistencyCheck(o)).next(()=>t.ai.qs(o,s))})}function $V(i){const e=$e(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ls.getLastRemoteSnapshotVersion(t))}function iJ(i,e){const t=$e(i),o=e.snapshotVersion;let s=t.si;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const d=t.oi.newChangeBuffer({trackRemovals:!0});s=t.si;const m=[];e.targetChanges.forEach((b,C)=>{const I=s.get(C);if(!I)return;m.push(t.ls.removeMatchingKeys(u,b.removedDocuments,C).next(()=>t.ls.addMatchingKeys(u,b.addedDocuments,C)));let M=I.withSequenceNumber(u.currentSequenceNumber);var O,L,q;e.targetMismatches.has(C)?M=M.withResumeToken(No.EMPTY_BYTE_STRING,Nt.min()).withLastLimboFreeSnapshotVersion(Nt.min()):b.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(b.resumeToken,o)),s=s.insert(C,M),L=M,q=b,(0===(O=I).resumeToken.approximateByteSize()||L.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=3e8||q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0)&&m.push(t.ls.updateTargetData(u,M))});let y=Gc();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,b))}),m.push(function KV(i,e,t){let o=fr();return t.forEach(s=>o=o.add(s)),e.getEntries(i,o).next(s=>{let u=Gc();return t.forEach((d,m)=>{const y=s.get(d);m.isNoDocument()&&m.version.isEqual(Nt.min())?(e.removeEntry(d,m.readTime),u=u.insert(d,m)):!y.isValidDocument()||m.version.compareTo(y.version)>0||0===m.version.compareTo(y.version)&&y.hasPendingWrites?(e.addEntry(m),u=u.insert(d,m)):Ne("LocalStore","Ignoring outdated watch update for ",d,". Current version:",y.version," Watch version:",m.version)}),u})}(u,d,e.documentUpdates).next(b=>{y=b})),!o.isEqual(Nt.min())){const b=t.ls.getLastRemoteSnapshotVersion(u).next(C=>t.ls.setTargetsMetadata(u,u.currentSequenceNumber,o));m.push(b)}return he.waitFor(m).next(()=>d.apply(u)).next(()=>t.ai.Gs(u,y)).next(()=>y)}).then(u=>(t.si=s,u))}function oJ(i,e){const t=$e(i);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.$s.getNextMutationBatchAfterBatchId(o,e)))}function gb(i,e){const t=$e(i);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let s;return t.ls.getTargetData(o,e).next(u=>u?(s=u,he.resolve(s)):t.ls.allocateTargetId(o).next(d=>(s=new Vm(e,d,0,o.currentSequenceNumber),t.ls.addTargetData(o,s).next(()=>s))))}).then(o=>{const s=t.si.get(o.targetId);return(null===s||o.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.si=t.si.insert(o.targetId,o),t.ii.set(e,o.targetId)),o})}function yb(i,e,t){return Gx.apply(this,arguments)}function Gx(){return Gx=We(function*(i,e,t){const o=$e(i),s=o.si.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",u,d=>o.persistence.referenceDelegate.removeTarget(d,s)))}catch(d){if(!Hy(d))throw d;Ne("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}o.si=o.si.remove(e),o.ii.delete(s.target)}),Gx.apply(this,arguments)}function zD(i,e,t){const o=$e(i);let s=Nt.min(),u=fr();return o.persistence.runTransaction("Execute query","readonly",d=>function(m,y,b){const C=$e(m),I=C.ii.get(b);return void 0!==I?he.resolve(C.si.get(I)):C.ls.getTargetData(y,b)}(o,d,zc(e)).next(m=>{if(m)return s=m.lastLimboFreeSnapshotVersion,o.ls.getMatchingKeysForTargetId(d,m.targetId).next(y=>{u=y})}).next(()=>o.ni.Ks(d,e,t?s:Nt.min(),t?u:fr())).next(m=>(function YV(i,e,t){let o=Nt.min();t.forEach((s,u)=>{u.readTime.compareTo(o)>0&&(o=u.readTime)}),i.ri.set(e,o)}(o,function FB(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}(e),m),{documents:m,hi:u})))}class uJ{constructor(e){this.M=e,this._i=new Map,this.wi=new Map}getBundleMetadata(e,t){return he.resolve(this._i.get(t))}saveBundleMetadata(e,t){var o;return this._i.set(t.id,{id:(o=t).id,version:o.version,createTime:ts(o.createTime)}),he.resolve()}getNamedQuery(e,t){return he.resolve(this.wi.get(t))}saveNamedQuery(e,t){return this.wi.set(t.name,{name:(o=t).name,query:Nx(o.bundledQuery),readTime:ts(o.readTime)}),he.resolve();var o}}class cJ{constructor(){this.overlays=new Wi(qe.comparator),this.mi=new Map}getOverlay(e,t){return he.resolve(this.overlays.get(t))}saveOverlays(e,t,o){return o.forEach((s,u)=>{this.Xt(e,t,u)}),he.resolve()}removeOverlaysForBatchId(e,t,o){const s=this.mi.get(o);return void 0!==s&&(s.forEach(u=>this.overlays=this.overlays.remove(u)),this.mi.delete(o)),he.resolve()}getOverlaysForCollection(e,t,o){const s=Bw(),u=t.length+1,d=new qe(t.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const y=m.getNext().value,b=y.getKey();if(!t.isPrefixOf(b.path))break;b.path.length===u&&y.largestBatchId>o&&s.set(y.getKey(),y)}return he.resolve(s)}getOverlaysForCollectionGroup(e,t,o,s){let u=new Wi((b,C)=>b-C);const d=this.overlays.getIterator();for(;d.hasNext();){const b=d.getNext().value;if(b.getKey().getCollectionGroup()===t&&b.largestBatchId>o){let C=u.get(b.largestBatchId);null===C&&(C=Bw(),u=u.insert(b.largestBatchId,C)),C.set(b.getKey(),b)}}const m=Bw(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((b,C)=>m.set(b,C)),!(m.size()>=s)););return he.resolve(m)}Xt(e,t,o){if(null===o)return;const s=this.overlays.get(o.key);if(null!==s){const d=this.mi.get(s.largestBatchId).delete(o.key);this.mi.set(s.largestBatchId,d)}this.overlays=this.overlays.insert(o.key,new Ox(t,o));let u=this.mi.get(t);void 0===u&&(u=fr(),this.mi.set(t,u)),this.mi.set(t,u.add(o.key))}}class Wx{constructor(){this.gi=new Yr(is.yi),this.pi=new Yr(is.Ii)}isEmpty(){return this.gi.isEmpty()}addReference(e,t){const o=new is(e,t);this.gi=this.gi.add(o),this.pi=this.pi.add(o)}Ti(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.Ei(new is(e,t))}Ai(e,t){e.forEach(o=>this.removeReference(o,t))}Ri(e){const t=new qe(new Nn([])),o=new is(t,e),s=new is(t,e+1),u=[];return this.pi.forEachInRange([o,s],d=>{this.Ei(d),u.push(d.key)}),u}bi(){this.gi.forEach(e=>this.Ei(e))}Ei(e){this.gi=this.gi.delete(e),this.pi=this.pi.delete(e)}Pi(e){const t=new qe(new Nn([])),o=new is(t,e),s=new is(t,e+1);let u=fr();return this.pi.forEachInRange([o,s],d=>{u=u.add(d.key)}),u}containsKey(e){const t=new is(e,0),o=this.gi.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class is{constructor(e,t){this.key=e,this.Vi=t}static yi(e,t){return qe.comparator(e.key,t.key)||gn(e.Vi,t.Vi)}static Ii(e,t){return gn(e.Vi,t.Vi)||qe.comparator(e.key,t.key)}}class lJ{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.$s=[],this.vi=1,this.Si=new Yr(is.yi)}checkEmpty(e){return he.resolve(0===this.$s.length)}addMutationBatch(e,t,o,s){const u=this.vi;this.vi++;const d=new kx(u,t,o,s);this.$s.push(d);for(const m of s)this.Si=this.Si.add(new is(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return he.resolve(d)}lookupMutationBatch(e,t){return he.resolve(this.Di(t))}getNextMutationBatchAfterBatchId(e,t){const s=this.Ci(t+1),u=s<0?0:s;return he.resolve(this.$s.length>u?this.$s[u]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(0===this.$s.length?-1:this.vi-1)}getAllMutationBatches(e){return he.resolve(this.$s.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new is(t,0),s=new is(t,Number.POSITIVE_INFINITY),u=[];return this.Si.forEachInRange([o,s],d=>{const m=this.Di(d.Vi);u.push(m)}),he.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new Yr(gn);return t.forEach(s=>{const u=new is(s,0),d=new is(s,Number.POSITIVE_INFINITY);this.Si.forEachInRange([u,d],m=>{o=o.add(m.Vi)})}),he.resolve(this.xi(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,s=o.length+1;let u=o;qe.isDocumentKey(u)||(u=u.child(""));const d=new is(new qe(u),0);let m=new Yr(gn);return this.Si.forEachWhile(y=>{const b=y.key.path;return!!o.isPrefixOf(b)&&(b.length===s&&(m=m.add(y.Vi)),!0)},d),he.resolve(this.xi(m))}xi(e){const t=[];return e.forEach(o=>{const s=this.Di(o);null!==s&&t.push(s)}),t}removeMutationBatch(e,t){Bt(0===this.Ni(t.batchId,"removed")),this.$s.shift();let o=this.Si;return he.forEach(t.mutations,s=>{const u=new is(s.key,t.batchId);return o=o.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Si=o})}dn(e){}containsKey(e,t){const o=new is(t,0),s=this.Si.firstAfterOrEqual(o);return he.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return he.resolve()}Ni(e,t){return this.Ci(e)}Ci(e){return 0===this.$s.length?0:e-this.$s[0].batchId}Di(e){const t=this.Ci(e);return t<0||t>=this.$s.length?null:this.$s[t]}}class hJ{constructor(e){this.ki=e,this.docs=new Wi(qe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,s=this.docs.get(o),u=s?s.size:0,d=this.ki(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return he.resolve(o?o.document.mutableCopy():Qr.newInvalidDocument(t))}getEntries(e,t){let o=Gc();return t.forEach(s=>{const u=this.docs.get(s);o=o.insert(s,u?u.document.mutableCopy():Qr.newInvalidDocument(s))}),he.resolve(o)}getAllFromCollection(e,t,o){let s=Gc();const u=new qe(t.child("")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:m,value:{document:y}}=d.getNext();if(!t.isPrefixOf(m.path))break;m.path.length>t.length+1||RX(kX(y),o)<=0||(s=s.insert(y.key,y.mutableCopy()))}return he.resolve(s)}getAllFromCollectionGroup(e,t,o,s){ct()}Mi(e,t){return he.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new dJ(this)}getSize(e){return he.resolve(this.size)}}class dJ extends class X9{constructor(){this.changes=new Bm(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Qr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?he.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.qn=e}applyChanges(e){const t=[];return this.changes.forEach((o,s)=>{s.isValidDocument()?t.push(this.qn.addEntry(e,s)):this.qn.removeEntry(o)}),he.waitFor(t)}getFromCache(e,t){return this.qn.getEntry(e,t)}getAllFromCache(e,t){return this.qn.getEntries(e,t)}}class fJ{constructor(e){this.persistence=e,this.Oi=new Bm(t=>By(t),Ow),this.lastRemoteSnapshotVersion=Nt.min(),this.highestTargetId=0,this.Fi=0,this.$i=new Wx,this.targetCount=0,this.Bi=Ky.mn()}forEachTarget(e,t){return this.Oi.forEach((o,s)=>t(s)),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.Fi)}allocateTargetId(e){return this.highestTargetId=this.Bi.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.Fi&&(this.Fi=t),he.resolve()}In(e){this.Oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Bi=new Ky(t),this.highestTargetId=t),e.sequenceNumber>this.Fi&&(this.Fi=e.sequenceNumber)}addTargetData(e,t){return this.In(t),this.targetCount+=1,he.resolve()}updateTargetData(e,t){return this.In(t),he.resolve()}removeTargetData(e,t){return this.Oi.delete(t.target),this.$i.Ri(t.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,t,o){let s=0;const u=[];return this.Oi.forEach((d,m)=>{m.sequenceNumber<=t&&null===o.get(m.targetId)&&(this.Oi.delete(d),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),s++)}),he.waitFor(u).next(()=>s)}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,t){const o=this.Oi.get(t)||null;return he.resolve(o)}addMatchingKeys(e,t,o){return this.$i.Ti(t,o),he.resolve()}removeMatchingKeys(e,t,o){this.$i.Ai(t,o);const s=this.persistence.referenceDelegate,u=[];return s&&t.forEach(d=>{u.push(s.markPotentiallyOrphaned(e,d))}),he.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.$i.Ri(t),he.resolve()}getMatchingKeysForTargetId(e,t){const o=this.$i.Pi(t);return he.resolve(o)}containsKey(e,t){return he.resolve(this.$i.containsKey(t))}}class pJ{constructor(e,t){this.Li={},this.overlays={},this.ts=new zu(0),this.es=!1,this.es=!0,this.referenceDelegate=e(this),this.ls=new fJ(this),this.indexManager=new z9,this.fs=new hJ(o=>this.referenceDelegate.Ui(o)),this.M=new DV(t),this.ds=new uJ(this.M)}start(){return Promise.resolve()}shutdown(){return this.es=!1,Promise.resolve()}get started(){return this.es}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new cJ,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.Li[e.toKey()];return o||(o=new lJ(t,this.referenceDelegate),this.Li[e.toKey()]=o),o}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getBundleCache(){return this.ds}runTransaction(e,t,o){Ne("MemoryPersistence","Starting transaction:",e);const s=new mJ(this.ts.next());return this.referenceDelegate.qi(),o(s).next(u=>this.referenceDelegate.Gi(s).next(()=>u)).toPromise().then(u=>(s.raiseOnCommittedEvent(),u))}Ki(e,t){return he.or(Object.values(this.Li).map(o=>()=>o.containsKey(e,t)))}}class mJ extends class N9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class Qx{constructor(e){this.persistence=e,this.Qi=new Wx,this.ji=null}static Wi(e){return new Qx(e)}get zi(){if(this.ji)return this.ji;throw ct()}addReference(e,t,o){return this.Qi.addReference(o,t),this.zi.delete(o.toString()),he.resolve()}removeReference(e,t,o){return this.Qi.removeReference(o,t),this.zi.add(o.toString()),he.resolve()}markPotentiallyOrphaned(e,t){return this.zi.add(t.toString()),he.resolve()}removeTarget(e,t){this.Qi.Ri(t.targetId).forEach(s=>this.zi.add(s.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(u=>this.zi.add(u.toString()))}).next(()=>o.removeTargetData(e,t))}qi(){this.ji=new Set}Gi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.zi,o=>{const s=qe.fromPath(o);return this.Hi(e,s).next(u=>{u||t.removeEntry(s,Nt.min())})}).next(()=>(this.ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hi(e,t).next(o=>{o?this.zi.delete(t.toString()):this.zi.add(t.toString())})}Ui(e){return 0}Hi(e,t){return he.or([()=>he.resolve(this.Qi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ki(e,t)])}}class Jx{constructor(){this.activeTargetIds=RD()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ZV{constructor(){this.Fr=new Jx,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,o){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new Jx,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class gJ{Br(e){}shutdown(){}}class ej{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Gr(),this.Kr=[],this.Qr()}Br(e){this.Kr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){Ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Kr)e(0)}Gr(){Ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Kr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const yJ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class vJ{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class _J extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,o,s,u){const d=this.oo(e,t);Ne("RestConnection","Sending: ",d,o);const m={};return this.uo(m,s,u),this.ao(e,d,m,o).then(y=>(Ne("RestConnection","Received: ",y),y),y=>{throw bD("RestConnection",`${e} failed with error: `,y,"url: ",d,"request:",o),y})}co(e,t,o,s,u){return this.ro(e,t,o,s,u)}uo(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+J_,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,u)=>e[u]=s),o&&o.headers.forEach((s,u)=>e[u]=s)}oo(e,t){return`${this.so}/v1/${t}:${yJ[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}ao(e,t,o,s){return new Promise((u,d)=>{const m=new bX;m.listenOnce(yX.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case dx.NO_ERROR:const b=m.getResponseJson();Ne("Connection","XHR received:",JSON.stringify(b)),u(b);break;case dx.TIMEOUT:Ne("Connection",'RPC "'+e+'" timed out'),d(new Ae(ue.DEADLINE_EXCEEDED,"Request time out"));break;case dx.HTTP_ERROR:const C=m.getStatus();if(Ne("Connection",'RPC "'+e+'" failed with status:',C,"response text:",m.getResponseText()),C>0){const I=m.getResponseJson().error;if(I&&I.status&&I.message){const M=function(O){const L=O.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(L)>=0?L:ue.UNKNOWN}(I.status);d(new Ae(M,I.message))}else d(new Ae(ue.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new Ae(ue.UNAVAILABLE,"Connection failed."));break;default:ct()}}finally{Ne("Connection",'RPC "'+e+'" completed.')}});const y=JSON.stringify(s);m.send(t,"POST",y,o,15)})}ho(e,t,o){const s=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=mX(),d=gX(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new _X({})),this.uo(m.initMessageHeaders,t,o),function j7(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qC())}()||function q7(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()||function z7(){return qC().indexOf("Electron/")>=0}()||function G7(){const i=qC();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}()||function $7(){return qC().indexOf("MSAppHost/")>=0}()||function H7(){const i="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof i&&void 0!==i.id}()||(m.httpHeadersOverwriteParam="$httpHeaders");const y=s.join("");Ne("Connection","Creating WebChannel: "+y,m);const b=u.createWebChannel(y,m);let C=!1,I=!1;const M=new vJ({jr:L=>{I?Ne("Connection","Not sending because WebChannel is closed:",L):(C||(Ne("Connection","Opening WebChannel transport."),b.open(),C=!0),Ne("Connection","WebChannel sending:",L),b.send(L))},Wr:()=>b.close()}),O=(L,q,X)=>{L.listen(q,ae=>{try{X(ae)}catch(Y){setTimeout(()=>{throw Y},0)}})};return O(b,_D.EventType.OPEN,()=>{I||Ne("Connection","WebChannel transport opened.")}),O(b,_D.EventType.CLOSE,()=>{I||(I=!0,Ne("Connection","WebChannel transport closed"),M.eo())}),O(b,_D.EventType.ERROR,L=>{I||(I=!0,bD("Connection","WebChannel transport errored:",L),M.eo(new Ae(ue.UNAVAILABLE,"The operation could not be completed")))}),O(b,_D.EventType.MESSAGE,L=>{var q;if(!I){const X=L.data[0];Bt(!!X);const ae=X,Y=ae.error||(null===(q=ae[0])||void 0===q?void 0:q.error);if(Y){Ne("Connection","WebChannel received error:",Y);const Te=Y.status;let Le=function(Et){const tr=mo[Et];if(void 0!==tr)return JB(tr)}(Te),ut=Y.message;void 0===Le&&(Le=ue.INTERNAL,ut="Unknown error status: "+Te+" with message "+Y.message),I=!0,M.eo(new Ae(Le,ut)),b.close()}else Ne("Connection","WebChannel received:",X),M.no(X)}}),O(d,vX.STAT_EVENT,L=>{L.stat===cB.PROXY?Ne("Connection","Detected buffering proxy"):L.stat===cB.NOPROXY&&Ne("Connection","Detected no buffering proxy")}),setTimeout(()=>{M.Zr()},0),M}}function KD(){return"undefined"!=typeof document?document:null}function Jw(i){return new o9(i,!0)}class eM{constructor(e,t,o=1e3,s=1.5,u=6e4){this.Jn=e,this.timerId=t,this.lo=o,this.fo=s,this._o=u,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),o=Math.max(0,Date.now()-this.yo),s=Math.max(0,t-o);s>0&&Ne("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.mo=this.Jn.enqueueAfterDelay(this.timerId,s,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class nj{constructor(e,t,o,s,u,d,m,y){this.Jn=e,this.Ao=o,this.Ro=s,this.bo=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.Po=0,this.Vo=null,this.vo=null,this.stream=null,this.So=new eM(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return We(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.Vo&&(this.Vo=this.Jn.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(e){this.Fo(),this.stream.send(e)}Mo(){var e=this;return We(function*(){if(e.Co())return e.close(0)})()}Fo(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}close(e,t){var o=this;return We(function*(){o.Fo(),o.$o(),o.So.cancel(),o.Po++,4!==e?o.So.reset():t&&t.code===ue.RESOURCE_EXHAUSTED?(ho(t.toString()),ho("Using maximum backoff delay to prevent overloading the backend."),o.So.po()):t&&t.code===ue.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Bo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,s])=>{this.Po===t&&this.Uo(o,s)},o=>{e(()=>{const s=new Ae(ue.UNKNOWN,"Fetching auth token failed: "+o.message);return this.qo(s)})})}Uo(e,t){const o=this.Lo(this.Po);this.stream=this.Go(e,t),this.stream.zr(()=>{o(()=>(this.state=2,this.vo=this.Jn.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(s=>{o(()=>this.qo(s))}),this.stream.onMessage(s=>{o(()=>this.onMessage(s))})}xo(){var e=this;this.state=5,this.So.Io(We(function*(){e.state=0,e.start()}))}qo(e){return Ne("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.Jn.enqueueAndForget(()=>this.Po===e?t():(Ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bJ extends nj{constructor(e,t,o,s,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,s,d),this.M=u}Go(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function u9(i,e){let t;if("targetChange"in e){const o="NO_CHANGE"===(y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===y?1:"REMOVE"===y?2:"CURRENT"===y?3:"RESET"===y?4:ct(),s=e.targetChange.targetIds||[],u=function(y,b){return y.N?(Bt(void 0===b||"string"==typeof b),No.fromBase64String(b||"")):(Bt(void 0===b||b instanceof Uint8Array),No.fromUint8Array(b||new Uint8Array))}(i,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&function(y){const b=void 0===y.code?ue.UNKNOWN:JB(y.code);return new Ae(b,y.message||"")}(d);t=new tV(o,s,u,m||null)}else if("documentChange"in e){const o=e.documentChange,s=Qh(i,o.document.name),u=ts(o.document.updateTime),d=new ta({mapValue:{fields:o.document.fields}}),m=Qr.newFoundDocument(s,u,d);t=new OD(o.targetIds||[],o.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const o=e.documentDelete,s=Qh(i,o.document),u=o.readTime?ts(o.readTime):Nt.min(),d=Qr.newNoDocument(s,u);t=new OD([],o.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const o=e.documentRemove,s=Qh(i,o.document);t=new OD([],o.removedTargetIds||[],s,null)}else{if(!("filter"in e))return ct();{const o=e.filter,u=new YX(o.count||0);t=new eV(o.targetId,u)}}var y;return t}(this.M,e),o=function(s){if(!("targetChange"in s))return Nt.min();const u=s.targetChange;return u.targetIds&&u.targetIds.length?Nt.min():u.readTime?ts(u.readTime):Nt.min()}(e);return this.listener.Ko(t,o)}Qo(e){const t={};t.database=qw(this.M),t.addTarget=function(s,u){let d;const m=u.target;return d=DD(m)?{documents:hV(s,m)}:{query:dV(s,m)},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?d.resumeToken=oV(s,u.resumeToken):u.snapshotVersion.compareTo(Nt.min())>0&&(d.readTime=Uw(s,u.snapshotVersion.toTimestamp())),d}(this.M,e);const o=function l9(i,e){const t=function(o,s){switch(s){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ct()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);o&&(t.labels=o),this.Oo(t)}jo(e){const t={};t.database=qw(this.M),t.removeTarget=e,this.Oo(t)}}class wJ extends nj{constructor(e,t,o,s,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,s,d),this.M=u,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Go(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(Bt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function c9(i,e){return i&&i.length>0?(Bt(void 0!==e),i.map(t=>function(o,s){let u=ts(o.updateTime?o.updateTime:s);return u.isEqual(Nt.min())&&(u=ts(s)),new KX(u,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=ts(e.commitTime);return this.listener.Jo(o,t)}return Bt(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=qw(this.M),this.Oo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>function zw(i,e){let t;if(e instanceof Fw)t={update:cV(i,e.key,e.value)};else if(e instanceof Lw)t={delete:Hw(i,e.key)};else if(e instanceof Uy)t={update:cV(i,e.key,e.data),updateMask:m9(e.fieldMask)};else{if(!(e instanceof Ix))return ct();t={verify:Hw(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(s,u){const d=u.transform;if(d instanceof ab)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Vy)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof jy)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof ub)return{fieldPath:u.field.canonicalString(),increment:d.k};throw ct()}(0,o))),e.precondition.isNone||(t.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:s9(i,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:ct()),t;var s}(this.M,o))};this.Oo(t)}}class EJ extends class{}{constructor(e,t,o,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=o,this.M=s,this.Zo=!1}tu(){if(this.Zo)throw new Ae(ue.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,o){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.bo.ro(e,t,o,s,u)).catch(s=>{throw"FirebaseError"===s.name?(s.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ae(ue.UNKNOWN,s.toString())})}co(e,t,o){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.bo.co(e,t,o,s,u)).catch(s=>{throw"FirebaseError"===s.name?(s.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ae(ue.UNKNOWN,s.toString())})}terminate(){this.Zo=!0}}class CJ{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.au(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.au(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(ho(t),this.su=!1):Ne("OnlineStateTracker",t)}au(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class DJ{constructor(e,t,o,s,u){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.cu=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=u,this.du.Br(m=>{o.enqueueAndForget(We(function*(){var y;qm(d)&&(Ne("RemoteStore","Restarting streams for network reachability change."),yield(y=We(function*(b){const C=$e(b);C.lu.add(4),yield vb(C),C._u.set("Unknown"),C.lu.delete(4),yield Zw(C)}),function(b){return y.apply(this,arguments)})(d))}))}),this._u=new CJ(o,s)}}function Zw(i){return tM.apply(this,arguments)}function tM(){return tM=We(function*(i){if(qm(i))for(const e of i.fu)yield e(!0)}),tM.apply(this,arguments)}function vb(i){return nM.apply(this,arguments)}function nM(){return nM=We(function*(i){for(const e of i.fu)yield e(!1)}),nM.apply(this,arguments)}function WD(i,e){const t=$e(i);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),oM(t)?iM(t):bb(t).Co()&&rM(t,e))}function eE(i,e){const t=$e(i),o=bb(t);t.hu.delete(e),o.Co()&&rj(t,e),0===t.hu.size&&(o.Co()?o.ko():qm(t)&&t._u.set("Unknown"))}function rM(i,e){i.wu.Z(e.targetId),bb(i).Qo(e)}function rj(i,e){i.wu.Z(e),bb(i).jo(e)}function iM(i){i.wu=new n9({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>i.hu.get(e)||null}),bb(i).start(),i._u.iu()}function oM(i){return qm(i)&&!bb(i).Do()&&i.hu.size>0}function qm(i){return 0===$e(i).lu.size}function ij(i){i.wu=void 0}function IJ(i){return sM.apply(this,arguments)}function sM(){return sM=We(function*(i){i.hu.forEach((e,t)=>{rM(i,e)})}),sM.apply(this,arguments)}function TJ(i,e){return aM.apply(this,arguments)}function aM(){return aM=We(function*(i,e){ij(i),oM(i)?(i._u.uu(e),iM(i)):i._u.set("Unknown")}),aM.apply(this,arguments)}function SJ(i,e,t){return uM.apply(this,arguments)}function uM(){return uM=We(function*(i,e,t){if(i._u.set("Online"),e instanceof tV&&2===e.state&&e.cause)try{yield(o=We(function*(s,u){const d=u.cause;for(const m of u.targetIds)s.hu.has(m)&&(yield s.remoteSyncer.rejectListen(m,d),s.hu.delete(m),s.wu.removeTarget(m))}),function(s,u){return o.apply(this,arguments)})(i,e)}catch(o){Ne("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield QD(i,o)}else if(e instanceof OD?i.wu.ut(e):e instanceof eV?i.wu._t(e):i.wu.ht(e),!t.isEqual(Nt.min()))try{const o=yield $V(i.localStore);t.compareTo(o)>=0&&(yield function(s,u){const d=s.wu.yt(u);return d.targetChanges.forEach((m,y)=>{if(m.resumeToken.approximateByteSize()>0){const b=s.hu.get(y);b&&s.hu.set(y,b.withResumeToken(m.resumeToken,u))}}),d.targetMismatches.forEach(m=>{const y=s.hu.get(m);if(!y)return;s.hu.set(m,y.withResumeToken(No.EMPTY_BYTE_STRING,y.snapshotVersion)),rj(s,m);const b=new Vm(y.target,m,1,y.sequenceNumber);rM(s,b)}),s.remoteSyncer.applyRemoteEvent(d)}(i,t))}catch(o){Ne("RemoteStore","Failed to raise snapshot:",o),yield QD(i,o)}var o}),uM.apply(this,arguments)}function QD(i,e,t){return cM.apply(this,arguments)}function cM(){return cM=We(function*(i,e,t){if(!Hy(e))throw e;i.lu.add(1),yield vb(i),i._u.set("Offline"),t||(t=()=>$V(i.localStore)),i.asyncQueue.enqueueRetryable(We(function*(){Ne("RemoteStore","Retrying IndexedDB access"),yield t(),i.lu.delete(1),yield Zw(i)}))}),cM.apply(this,arguments)}function oj(i,e){return e().catch(t=>QD(i,t,e))}function _b(i){return lM.apply(this,arguments)}function lM(){return lM=We(function*(i){const e=$e(i),t=zm(e);let o=e.cu.length>0?e.cu[e.cu.length-1].batchId:-1;for(;AJ(e);)try{const s=yield oJ(e.localStore,o);if(null===s){0===e.cu.length&&t.ko();break}o=s.batchId,xJ(e,s)}catch(s){yield QD(e,s)}sj(e)&&aj(e)}),lM.apply(this,arguments)}function AJ(i){return qm(i)&&i.cu.length<10}function xJ(i,e){i.cu.push(e);const t=zm(i);t.Co()&&t.zo&&t.Ho(e.mutations)}function sj(i){return qm(i)&&!zm(i).Do()&&i.cu.length>0}function aj(i){zm(i).start()}function MJ(i){return hM.apply(this,arguments)}function hM(){return hM=We(function*(i){zm(i).Xo()}),hM.apply(this,arguments)}function kJ(i){return dM.apply(this,arguments)}function dM(){return dM=We(function*(i){const e=zm(i);for(const t of i.cu)e.Ho(t.mutations)}),dM.apply(this,arguments)}function RJ(i,e,t){return fM.apply(this,arguments)}function fM(){return fM=We(function*(i,e,t){const o=i.cu.shift(),s=Rx.from(o,e,t);yield oj(i,()=>i.remoteSyncer.applySuccessfulWrite(s)),yield _b(i)}),fM.apply(this,arguments)}function OJ(i,e){return pM.apply(this,arguments)}function pM(){return pM=We(function*(i,e){var t;e&&zm(i).zo&&(yield(t=We(function*(o,s){if(XB(u=s.code)&&u!==ue.ABORTED){const d=o.cu.shift();zm(o).No(),yield oj(o,()=>o.remoteSyncer.rejectFailedWrite(d.batchId,s)),yield _b(o)}var u}),function(o,s){return t.apply(this,arguments)})(i,e)),sj(i)&&aj(i)}),pM.apply(this,arguments)}function uj(i,e){return mM.apply(this,arguments)}function mM(){return mM=We(function*(i,e){const t=$e(i);t.asyncQueue.verifyOperationInProgress(),Ne("RemoteStore","RemoteStore received new credentials");const o=qm(t);t.lu.add(3),yield vb(t),o&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield Zw(t)}),mM.apply(this,arguments)}function yM(){return yM=We(function*(i,e){const t=$e(i);e?(t.lu.delete(2),yield Zw(t)):e||(t.lu.add(2),yield vb(t),t._u.set("Unknown"))}),yM.apply(this,arguments)}function bb(i){return i.mu||(i.mu=function(e,t,o){const s=$e(e);return s.tu(),new bJ(t,s.bo,s.authCredentials,s.appCheckCredentials,s.M,o)}(i.datastore,i.asyncQueue,{zr:IJ.bind(null,i),Jr:TJ.bind(null,i),Ko:SJ.bind(null,i)}),i.fu.push(function(){var e=We(function*(t){t?(i.mu.No(),oM(i)?iM(i):i._u.set("Unknown")):(yield i.mu.stop(),ij(i))});return function(t){return e.apply(this,arguments)}}())),i.mu}function zm(i){return i.gu||(i.gu=function(e,t,o){const s=$e(e);return s.tu(),new wJ(t,s.bo,s.authCredentials,s.appCheckCredentials,s.M,o)}(i.datastore,i.asyncQueue,{zr:MJ.bind(null,i),Jr:OJ.bind(null,i),Yo:kJ.bind(null,i),Jo:RJ.bind(null,i)}),i.fu.push(function(){var e=We(function*(t){t?(i.gu.No(),yield _b(i)):(yield i.gu.stop(),i.cu.length>0&&(Ne("RemoteStore",`Stopping write stream with ${i.cu.length} pending writes`),i.cu=[]))});return function(t){return e.apply(this,arguments)}}())),i.gu}class vM{constructor(e,t,o,s,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=s,this.removalCallback=u,this.deferred=new es,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,o,s,u){const d=Date.now()+o,m=new vM(e,t,d,s,u);return m.start(o),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ae(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wb(i,e){if(ho("AsyncQueue",`${e}: ${i}`),Hy(i))return new Ae(ue.UNAVAILABLE,`${e}: ${i}`);throw i}class Eb{constructor(e){this.comparator=e?(t,o)=>e(t,o)||qe.comparator(t.key,o.key):(t,o)=>qe.comparator(t.key,o.key),this.keyedMap=Tx(),this.sortedSet=new Wi(this.comparator)}static emptySet(e){return new Eb(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Eb)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,u=o.getNext().key;if(!s.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new Eb;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}class cj{constructor(){this.yu=new Wi(qe.comparator)}track(e){const t=e.doc.key,o=this.yu.get(t);o?0!==e.type&&3===o.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==o.type?this.yu=this.yu.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.yu=this.yu.remove(t):1===e.type&&2===o.type?this.yu=this.yu.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):ct():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,o)=>{e.push(o)}),e}}class Cb{constructor(e,t,o,s,u,d,m,y){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=s,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=y}static fromInitialDocuments(e,t,o,s){const u=[];return t.forEach(d=>{u.push({type:0,doc:d})}),new Cb(e,t,Eb.emptySet(t),u,o,s,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==o[s].type||!t[s].doc.isEqual(o[s].doc))return!1;return!0}}class NJ{constructor(){this.Iu=void 0,this.listeners=[]}}class PJ{constructor(){this.queries=new Bm(e=>PB(e),Nw),this.onlineState="Unknown",this.Tu=new Set}}function _M(i,e){return bM.apply(this,arguments)}function bM(){return bM=We(function*(i,e){const t=$e(i),o=e.query;let s=!1,u=t.queries.get(o);if(u||(s=!0,u=new NJ),s)try{u.Iu=yield t.onListen(o)}catch(d){const m=wb(d,`Initialization of query '${Ex(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,u),u.listeners.push(e),e.Eu(t.onlineState),u.Iu&&e.Au(u.Iu)&&CM(t)}),bM.apply(this,arguments)}function wM(i,e){return EM.apply(this,arguments)}function EM(){return EM=We(function*(i,e){const t=$e(i),o=e.query;let s=!1;const u=t.queries.get(o);if(u){const d=u.listeners.indexOf(e);d>=0&&(u.listeners.splice(d,1),s=0===u.listeners.length)}if(s)return t.queries.delete(o),t.onUnlisten(o)}),EM.apply(this,arguments)}function FJ(i,e){const t=$e(i);let o=!1;for(const s of e){const d=t.queries.get(s.query);if(d){for(const m of d.listeners)m.Au(s)&&(o=!0);d.Iu=s}}o&&CM(t)}function LJ(i,e,t){const o=$e(i),s=o.queries.get(e);if(s)for(const u of s.listeners)u.onError(t);o.queries.delete(e)}function CM(i){i.Tu.forEach(e=>{e.next()})}class DM{constructor(e,t,o){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=o||{}}Au(e){if(!this.options.includeMetadataChanges){const o=[];for(const s of e.docChanges)3!==s.type&&o.push(s);e=new Cb(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.Vu(e)&&(this.Ru.next(e),t=!0):this.vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=Cb.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class dj{constructor(e){this.key=e}}class fj{constructor(e){this.key=e}}class pj{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=fr(),this.mutatedKeys=fr(),this.Lu=LB(e),this.Uu=new Eb(this.Lu)}get qu(){return this.Fu}Gu(e,t){const o=t?t.Ku:new cj,s=t?t.Uu:this.Uu;let u=t?t.mutatedKeys:this.mutatedKeys,d=s,m=!1;const y=TD(this.query)&&s.size===this.query.limit?s.last():null,b=SD(this.query)&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((C,I)=>{const M=s.get(C),O=Cx(this.query,I)?I:null,L=!!M&&this.mutatedKeys.has(M.key),q=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let X=!1;M&&O?M.data.isEqual(O.data)?L!==q&&(o.track({type:3,doc:O}),X=!0):this.Qu(M,O)||(o.track({type:2,doc:O}),X=!0,(y&&this.Lu(O,y)>0||b&&this.Lu(O,b)<0)&&(m=!0)):!M&&O?(o.track({type:0,doc:O}),X=!0):M&&!O&&(o.track({type:1,doc:M}),X=!0,(y||b)&&(m=!0)),X&&(O?(d=d.add(O),u=q?u.add(C):u.delete(C)):(d=d.delete(C),u=u.delete(C)))}),TD(this.query)||SD(this.query))for(;d.size>this.query.limit;){const C=TD(this.query)?d.last():d.first();d=d.delete(C.key),u=u.delete(C.key),o.track({type:1,doc:C})}return{Uu:d,Ku:o,ei:m,mutatedKeys:u}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const s=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const u=e.Ku.pu();u.sort((b,C)=>function(I,M){const O=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ct()}};return O(I)-O(M)}(b.type,C.type)||this.Lu(b.doc,C.doc)),this.ju(o);const d=t?this.Wu():[],m=0===this.Bu.size&&this.current?1:0,y=m!==this.$u;return this.$u=m,0!==u.length||y?{snapshot:new Cb(this.query,e.Uu,s,u,e.mutatedKeys,0===m,y,!1),zu:d}:{zu:d}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Ku:new cj,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=fr(),this.Uu.forEach(o=>{this.Hu(o.key)&&(this.Bu=this.Bu.add(o.key))});const t=[];return e.forEach(o=>{this.Bu.has(o)||t.push(new fj(o))}),this.Bu.forEach(o=>{e.has(o)||t.push(new dj(o))}),t}Ju(e){this.Fu=e.hi,this.Bu=fr();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Yu(){return Cb.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class jJ{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class UJ{constructor(e){this.key=e,this.Xu=!1}}class HJ{constructor(e,t,o,s,u,d){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=s,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Zu={},this.ta=new Bm(m=>PB(m),Nw),this.ea=new Map,this.na=new Set,this.sa=new Wi(qe.comparator),this.ia=new Map,this.ra=new Wx,this.oa={},this.ua=new Map,this.aa=Ky.gn(),this.onlineState="Unknown",this.ca=void 0}get isPrimaryClient(){return!0===this.ca}}function qJ(i,e){return IM.apply(this,arguments)}function IM(){return IM=We(function*(i,e){const t=WM(i);let o,s;const u=t.ta.get(e);if(u)o=u.targetId,t.sharedClientState.addLocalQueryTarget(o),s=u.view.Yu();else{const d=yield gb(t.localStore,zc(e));t.isPrimaryClient&&WD(t.remoteStore,d);const m=t.sharedClientState.addLocalQueryTarget(d.targetId);o=d.targetId,s=yield TM(t,e,o,"current"===m)}return s}),IM.apply(this,arguments)}function TM(i,e,t,o){return SM.apply(this,arguments)}function SM(){return SM=We(function*(i,e,t,o){i.ha=(C,I,M)=>{return(O=We(function*(L,q,X,ae){let Y=q.view.Gu(X);Y.ei&&(Y=yield zD(L.localStore,q.query,!1).then(({documents:ut})=>q.view.Gu(ut,Y)));const Te=ae&&ae.targetChanges.get(q.targetId),Le=q.view.applyChanges(Y,L.isPrimaryClient,Te);return LM(L,q.targetId,Le.zu),Le.snapshot}),function(L,q,X,ae){return O.apply(this,arguments)})(i,C,I,M);var O};const s=yield zD(i.localStore,e,!0),u=new pj(e,s.hi),d=u.Gu(s.documents),m=jw.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==i.onlineState),y=u.applyChanges(d,i.isPrimaryClient,m);LM(i,t,y.zu);const b=new jJ(e,t,u);return i.ta.set(e,b),i.ea.has(t)?i.ea.get(t).push(e):i.ea.set(t,[e]),y.snapshot}),SM.apply(this,arguments)}function zJ(i,e){return AM.apply(this,arguments)}function AM(){return AM=We(function*(i,e){const t=$e(i),o=t.ta.get(e),s=t.ea.get(o.targetId);if(s.length>1)return t.ea.set(o.targetId,s.filter(u=>!Nw(u,e))),void t.ta.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield yb(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),eE(t.remoteStore,o.targetId),Db(t,o.targetId)}).catch(Wy))):(Db(t,o.targetId),yield yb(t.localStore,o.targetId,!0))}),AM.apply(this,arguments)}function xM(){return xM=We(function*(i,e,t){const o=QM(i);try{const s=yield function(u,d){const m=$e(u),y=fo.now(),b=d.reduce((I,M)=>I.add(M.key),fr());let C;return m.persistence.runTransaction("Locally write mutations","readwrite",I=>m.ai.qs(I,b).next(M=>{C=M;const O=[];for(const L of d){const q=QX(L,C.get(L.key));null!=q&&O.push(new Uy(L.key,q,SB(q.value.mapValue),po.exists(!0)))}return m.$s.addMutationBatch(I,y,O,d)})).then(I=>(I.applyToLocalDocumentSet(C),{batchId:I.batchId,changes:C}))}(o.localStore,e);o.sharedClientState.addPendingMutation(s.batchId),function(u,d,m){let y=u.oa[u.currentUser.toKey()];y||(y=new Wi(gn)),y=y.insert(d,m),u.oa[u.currentUser.toKey()]=y}(o,s.batchId,t),yield Hf(o,s.changes),yield _b(o.remoteStore)}catch(s){const u=wb(s,"Failed to persist write");t.reject(u)}}),xM.apply(this,arguments)}function mj(i,e){return MM.apply(this,arguments)}function MM(){return MM=We(function*(i,e){const t=$e(i);try{const o=yield iJ(t.localStore,e);e.targetChanges.forEach((s,u)=>{const d=t.ia.get(u);d&&(Bt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?d.Xu=!0:s.modifiedDocuments.size>0?Bt(d.Xu):s.removedDocuments.size>0&&(Bt(d.Xu),d.Xu=!1))}),yield Hf(t,o,e)}catch(o){yield Wy(o)}}),MM.apply(this,arguments)}function gj(i,e,t){const o=$e(i);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const s=[];o.ta.forEach((u,d)=>{const m=d.view.Eu(e);m.snapshot&&s.push(m.snapshot)}),function(u,d){const m=$e(u);m.onlineState=d;let y=!1;m.queries.forEach((b,C)=>{for(const I of C.listeners)I.Eu(d)&&(y=!0)}),y&&CM(m)}(o.eventManager,e),s.length&&o.Zu.Ko(s),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function $J(i,e,t){return kM.apply(this,arguments)}function kM(){return kM=We(function*(i,e,t){const o=$e(i);o.sharedClientState.updateQueryState(e,"rejected",t);const s=o.ia.get(e),u=s&&s.key;if(u){let d=new Wi(qe.comparator);d=d.insert(u,Qr.newNoDocument(u,Nt.min()));const m=fr().add(u),y=new Vw(Nt.min(),new Map,new Yr(gn),d,m);yield mj(o,y),o.sa=o.sa.remove(u),o.ia.delete(e),BM(o)}else yield yb(o.localStore,e,!1).then(()=>Db(o,e,t)).catch(Wy)}),kM.apply(this,arguments)}function KJ(i,e){return RM.apply(this,arguments)}function RM(){return RM=We(function*(i,e){const t=$e(i),o=e.batch.batchId;try{const s=yield rJ(t.localStore,e);FM(t,o,null),PM(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield Hf(t,s)}catch(s){yield Wy(s)}}),RM.apply(this,arguments)}function WJ(i,e,t){return OM.apply(this,arguments)}function OM(){return OM=We(function*(i,e,t){const o=$e(i);try{const s=yield function(u,d){const m=$e(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let b;return m.$s.lookupMutationBatch(y,d).next(C=>(Bt(null!==C),b=C.keys(),m.$s.removeMutationBatch(y,C))).next(()=>m.$s.performConsistencyCheck(y)).next(()=>m.ai.qs(y,b))})}(o.localStore,e);FM(o,e,t),PM(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),yield Hf(o,s)}catch(s){yield Wy(s)}}),OM.apply(this,arguments)}function PM(i,e){(i.ua.get(e)||[]).forEach(t=>{t.resolve()}),i.ua.delete(e)}function FM(i,e,t){const o=$e(i);let s=o.oa[o.currentUser.toKey()];if(s){const u=s.get(e);u&&(t?u.reject(t):u.resolve(),s=s.remove(e)),o.oa[o.currentUser.toKey()]=s}}function Db(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.ea.get(e))i.ta.delete(o),t&&i.Zu.la(o,t);i.ea.delete(e),i.isPrimaryClient&&i.ra.Ri(e).forEach(o=>{i.ra.containsKey(o)||yj(i,o)})}function yj(i,e){i.na.delete(e.path.canonicalString());const t=i.sa.get(e);null!==t&&(eE(i.remoteStore,t),i.sa=i.sa.remove(e),i.ia.delete(t),BM(i))}function LM(i,e,t){for(const o of t)o instanceof dj?(i.ra.addReference(o.key,e),YJ(i,o)):o instanceof fj?(Ne("SyncEngine","Document no longer in limbo: "+o.key),i.ra.removeReference(o.key,e),i.ra.containsKey(o.key)||yj(i,o.key)):ct()}function YJ(i,e){const t=e.key,o=t.path.canonicalString();i.sa.get(t)||i.na.has(o)||(Ne("SyncEngine","New document in limbo: "+t),i.na.add(o),BM(i))}function BM(i){for(;i.na.size>0&&i.sa.size<i.maxConcurrentLimboResolutions;){const e=i.na.values().next().value;i.na.delete(e);const t=new qe(Nn.fromString(e)),o=i.aa.next();i.ia.set(o,new UJ(t)),i.sa=i.sa.insert(t,o),WD(i.remoteStore,new Vm(zc(ob(t.path)),o,2,zu.A))}}function Hf(i,e,t){return VM.apply(this,arguments)}function VM(){return VM=We(function*(i,e,t){const o=$e(i),s=[],u=[],d=[];var m;o.ta.isEmpty()||(o.ta.forEach((m,y)=>{d.push(o.ha(y,e,t).then(b=>{if(b){o.isPrimaryClient&&o.sharedClientState.updateQueryState(y.targetId,b.fromCache?"not-current":"current"),s.push(b);const C=qx.Js(y.targetId,b);u.push(C)}}))}),yield Promise.all(d),o.Zu.Ko(s),yield(m=We(function*(y,b){const C=$e(y);try{yield C.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>he.forEach(b,M=>he.forEach(M.zs,O=>C.persistence.referenceDelegate.addReference(I,M.targetId,O)).next(()=>he.forEach(M.Hs,O=>C.persistence.referenceDelegate.removeReference(I,M.targetId,O)))))}catch(I){if(!Hy(I))throw I;Ne("LocalStore","Failed to update sequence numbers: "+I)}for(const I of b){const M=I.targetId;if(!I.fromCache){const O=C.si.get(M),q=O.withLastLimboFreeSnapshotVersion(O.snapshotVersion);C.si=C.si.insert(M,q)}}}),function(y,b){return m.apply(this,arguments)})(o.localStore,u))}),VM.apply(this,arguments)}function XJ(i,e){return jM.apply(this,arguments)}function jM(){return jM=We(function*(i,e){const t=$e(i);if(!t.currentUser.isEqual(e)){Ne("SyncEngine","User change. New user:",e.toKey());const o=yield GV(t.localStore,e);t.currentUser=e,(s=t).ua.forEach(d=>{d.forEach(m=>{m.reject(new Ae(ue.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ua.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Hf(t,o.ci)}var s}),jM.apply(this,arguments)}function JJ(i,e){const t=$e(i),o=t.ia.get(e);if(o&&o.Xu)return fr().add(o.key);{let s=fr();const u=t.ea.get(e);if(!u)return s;for(const d of u){const m=t.ta.get(d);s=s.unionWith(m.view.qu)}return s}}function WM(i){const e=$e(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=mj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=JJ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$J.bind(null,e),e.Zu.Ko=FJ.bind(null,e.eventManager),e.Zu.la=LJ.bind(null,e.eventManager),e}function QM(i){const e=$e(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=KJ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=WJ.bind(null,e),e}class aZ{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return We(function*(){t.M=Jw(e.databaseInfo.databaseId),t.sharedClientState=t.da(e),t.persistence=t._a(e),yield t.persistence.start(),t.gcScheduler=t.wa(e),t.localStore=t.ma(e)})()}wa(e){return null}ma(e){return function zV(i,e,t,o){return new nJ(i,e,t,o)}(this.persistence,new qV,e.initialUser,this.M)}_a(e){return new pJ(Qx.Wi,this.M)}da(e){return new ZV}terminate(){var e=this;return We(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class YM{initialize(e,t){var o=this;return We(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=s=>gj(o.syncEngine,s,1),o.remoteStore.remoteSyncer.handleCredentialChange=XJ.bind(null,o.syncEngine),yield function gM(i,e){return yM.apply(this,arguments)}(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new PJ}createDatastore(e){const t=Jw(e.databaseInfo.databaseId),o=new _J(e.databaseInfo);return new EJ(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,s=e.asyncQueue,u=m=>gj(this.syncEngine,m,0),d=ej.vt()?new ej:new gJ,new DJ(t,o,s,u,d);var t,o,s,u,d}createSyncEngine(e,t){return function(o,s,u,d,m,y,b){const C=new HJ(o,s,u,d,m,y);return b&&(C.ca=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=We(function*(t){const o=$e(t);Ne("RemoteStore","RemoteStore shutting down."),o.lu.add(5),yield vb(o),o.du.shutdown(),o._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class YD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ya(this.observer.next,e)}error(e){this.observer.error?this.ya(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}pa(){this.muted=!0}ya(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class fZ{constructor(e,t,o,s){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=s,this.user=Ts.UNAUTHENTICATED,this.clientId=fB.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var d=We(function*(m){Ne("FirestoreClient","Received user=",m.uid),yield u.authCredentialListener(m),u.user=m});return function(m){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(o,d=>(Ne("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return We(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ae(ue.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new es;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(We(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const s=wb(o,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}function wj(i,e){return XM.apply(this,arguments)}function XM(){return XM=We(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Ne("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let o=t.initialUser;i.setCredentialChangeListener(function(){var s=We(function*(u){o.isEqual(u)||(yield GV(e.localStore,u),o=u)});return function(u){return s.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),XM.apply(this,arguments)}function Ej(i,e){return JM.apply(this,arguments)}function JM(){return JM=We(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield ZM(i);Ne("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(t,o),i.setCredentialChangeListener(s=>uj(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,u)=>uj(e.remoteStore,u)),i.onlineComponents=e}),JM.apply(this,arguments)}function ZM(i){return e1.apply(this,arguments)}function e1(){return e1=We(function*(i){return i.offlineComponents||(Ne("FirestoreClient","Using default OfflineComponentProvider"),yield wj(i,new aZ)),i.offlineComponents}),e1.apply(this,arguments)}function XD(i){return t1.apply(this,arguments)}function t1(){return t1=We(function*(i){return i.onlineComponents||(Ne("FirestoreClient","Using default OnlineComponentProvider"),yield Ej(i,new YM)),i.onlineComponents}),t1.apply(this,arguments)}function Ib(i){return o1.apply(this,arguments)}function o1(){return o1=We(function*(i){const e=yield XD(i),t=e.eventManager;return t.onListen=qJ.bind(null,e.syncEngine),t.onUnlisten=zJ.bind(null,e.syncEngine),t}),o1.apply(this,arguments)}const Sj=new Map;function s1(i,e,t){if(!t)throw new Ae(ue.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Aj(i){if(!qe.isDocumentKey(i))throw new Ae(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function JD(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":ct()}function Fn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Ae(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=JD(i);throw new Ae(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}class kj{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ae(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ae(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function EZ(i,e,t,o){if(!0===e&&!0===o)throw new Ae(ue.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tE{constructor(e,t,o){this._authCredentials=t,this._appCheckCredentials=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kj({}),this._settingsFrozen=!1,e instanceof Pm?this._databaseId=e:(this._app=e,this._databaseId=function(s){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new Ae(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pm(s.options.projectId)}(e))}get app(){if(!this._app)throw new Ae(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ae(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kj(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new wX;switch(t.type){case"gapi":const o=t.client;return Bt(!("object"!=typeof o||null===o||!o.auth||!o.auth.getAuthHeaderValueForFirstParty)),new IX(o,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Ae(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Sj.get(e);t&&(Ne("ComponentProvider","Removing Datastore"),Sj.delete(e),t.terminate())}(this),Promise.resolve()}}class Qi{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qi(this.firestore,e,this._key)}}class na{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new na(this.firestore,e,this._query)}}class Yh extends na{constructor(e,t,o){super(e,t,ob(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qi(this.firestore,null,new qe(e))}withConverter(e){return new Yh(this.firestore,e,this._path)}}function $c(i,e,...t){if(i=xm(i),1===arguments.length&&(e=fB.R()),s1("doc","path",e),i instanceof tE){const o=Nn.fromString(e,...t);return Aj(o),new Qi(i,null,new qe(o))}{if(!(i instanceof Qi||i instanceof Yh))throw new Ae(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Nn.fromString(e,...t));return Aj(o),new Qi(i.firestore,i instanceof Yh?i.converter:null,new qe(o))}}class DZ{constructor(){this.Na=Promise.resolve(),this.ka=[],this.Ma=!1,this.Oa=[],this.Fa=null,this.$a=!1,this.Ba=!1,this.La=[],this.So=new eM(this,"async_queue_retry"),this.Ua=()=>{const t=KD();t&&Ne("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=KD();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ua)}get isShuttingDown(){return this.Ma}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.qa(),this.Ga(e)}enterRestrictedMode(e){if(!this.Ma){this.Ma=!0,this.Ba=e||!1;const t=KD();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ua)}}enqueue(e){if(this.qa(),this.Ma)return new Promise(()=>{});const t=new es;return this.Ga(()=>this.Ma&&this.Ba?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ka.push(e),this.Ka()))}Ka(){var e=this;return We(function*(){if(0!==e.ka.length){try{yield e.ka[0](),e.ka.shift(),e.So.reset()}catch(t){if(!Hy(t))throw t;Ne("AsyncQueue","Operation failed with retryable error: "+t)}e.ka.length>0&&e.So.Io(()=>e.Ka())}})()}Ga(e){const t=this.Na.then(()=>(this.$a=!0,e().catch(o=>{throw this.Fa=o,this.$a=!1,ho("INTERNAL UNHANDLED ERROR: ",function(u){let d=u.message||"";return u.stack&&(d=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),d}(o)),o}).then(o=>(this.$a=!1,o))));return this.Na=t,t}enqueueAfterDelay(e,t,o){this.qa(),this.La.indexOf(e)>-1&&(t=0);const s=vM.createAndSchedule(this,e,t,o,u=>this.Qa(u));return this.Oa.push(s),s}qa(){this.Fa&&ct()}verifyOperationInProgress(){}ja(){var e=this;return We(function*(){let t;do{t=e.Na,yield t}while(t!==e.Na)})()}Wa(e){for(const t of this.Oa)if(t.timerId===e)return!0;return!1}za(e){return this.ja().then(()=>{this.Oa.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.Oa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ja()})}Ha(e){this.La.push(e)}Qa(e){const t=this.Oa.indexOf(e);this.Oa.splice(t,1)}}function a1(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const o=e;for(const s of["next","error","complete"])if(s in o&&"function"==typeof o[s])return!0;return!1}(i)}class ai extends tE{constructor(e,t,o){super(e,t,o),this.type="firestore",this._queue=new DZ,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Rj(this),this._firestoreClient.terminate()}}function Po(i){return i._firestoreClient||Rj(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Rj(i){var e;const t=i._freezeSettings(),o=(u=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new MX(i._databaseId,u,i._persistenceKey,(m=t).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));var u,m;i._firestoreClient=new fZ(i._authCredentials,i._appCheckCredentials,i._queue,o)}class Tb{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ae(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ss(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Yy{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yy(No.fromBase64String(e))}catch(t){throw new Ae(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Yy(No.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class u1{constructor(e){this._methodName=e}}class c1{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ae(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ae(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return gn(this._lat,e._lat)||gn(this._long,e._long)}}const SZ=/^__.*__$/;class AZ{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new Uy(e,this.data,this.fieldMask,t,this.fieldTransforms):new Fw(e,this.data,t,this.fieldTransforms)}}class Pj{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return new Uy(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Fj(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ct()}}class ZD{constructor(e,t,o,s,u,d){this.settings=e,this.databaseId=t,this.M=o,this.ignoreUndefinedProperties=s,void 0===u&&this.Ja(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ya(){return this.settings.Ya}Xa(e){return new ZD(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Za(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.Xa({path:o,tc:!1});return s.ec(e),s}nc(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.Xa({path:o,tc:!1});return s.Ja(),s}sc(e){return this.Xa({path:void 0,tc:!0})}ic(e){return tI(e,this.settings.methodName,this.settings.rc||!1,this.path,this.settings.oc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ja(){if(this.path)for(let e=0;e<this.path.length;e++)this.ec(this.path.get(e))}ec(e){if(0===e.length)throw this.ic("Document fields must not be empty");if(Fj(this.Ya)&&SZ.test(e))throw this.ic('Document fields cannot begin and end with "__"')}}class xZ{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=o||Jw(e)}uc(e,t,o,s=!1){return new ZD({Ya:e,methodName:t,oc:o,path:Ss.emptyPath(),tc:!1,rc:s},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Sb(i){const e=i._freezeSettings(),t=Jw(i._databaseId);return new xZ(i._databaseId,!!e.ignoreUndefinedProperties,t)}function l1(i,e,t,o,s,u={}){const d=i.uc(u.merge||u.mergeFields?2:0,e,t,s);d1("Data must be an object, but it was:",d,o);const m=Uj(o,d);let y,b;if(u.merge)y=new eb(d.fieldMask),b=d.fieldTransforms;else if(u.mergeFields){const C=[];for(const I of u.mergeFields){const M=f1(e,I,t);if(!d.contains(M))throw new Ae(ue.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);qj(C,M)||C.push(M)}y=new eb(C),b=d.fieldTransforms.filter(I=>y.covers(I.field))}else y=null,b=d.fieldTransforms;return new AZ(new ta(m),y,b)}class nE extends u1{_toFieldTransform(e){if(2!==e.Ya)throw e.ic(1===e.Ya?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof nE}}function Xy(i,e){if(Hj(i=xm(i)))return d1("Unsupported field value:",e,i),Uj(i,e);if(i instanceof u1)return function(t,o){if(!Fj(o.Ya))throw o.ic(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o.ic(`${t._methodName}() is not currently supported inside arrays`);const s=t._toFieldTransform(o);s&&o.fieldTransforms.push(s)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.tc&&4!==e.Ya)throw e.ic("Nested arrays are not supported");return function(t,o){const s=[];let u=0;for(const d of t){let m=Xy(d,o.sc(u));null==m&&(m={nullValue:"NULL_VALUE"}),s.push(m),u++}return{arrayValue:{values:s}}}(i,e)}return function(t,o){if(null===(t=xm(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return jB(o.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const s=fo.fromDate(t);return{timestampValue:Uw(o.M,s)}}if(t instanceof fo){const s=new fo(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Uw(o.M,s)}}if(t instanceof c1)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Yy)return{bytesValue:oV(o.M,t._byteString)};if(t instanceof Qi){const s=o.databaseId,u=t.firestore._databaseId;if(!u.isEqual(s))throw o.ic(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Sx(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o.ic(`Unsupported field value: ${JD(t)}`)}(i,e)}function Uj(i,e){const t={};return gB(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ny(i,(o,s)=>{const u=Xy(s,e.Za(o));null!=u&&(t[o]=u)}),{mapValue:{fields:t}}}function Hj(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof fo||i instanceof c1||i instanceof Yy||i instanceof Qi||i instanceof u1)}function d1(i,e,t){if(!Hj(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=JD(t);throw e.ic("an object"===o?i+" a custom object":i+" "+o)}var o}function f1(i,e,t){if((e=xm(e))instanceof Tb)return e._internalPath;if("string"==typeof e)return eI(i,e);throw tI("Field path arguments must be of type string or ",i,!1,void 0,t)}const OZ=new RegExp("[~\\*/\\[\\]]");function eI(i,e,t){if(e.search(OZ)>=0)throw tI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Tb(...e.split("."))._internalPath}catch(o){throw tI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function tI(i,e,t,o,s){const u=o&&!o.isEmpty(),d=void 0!==s;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(u||d)&&(y+=" (found",u&&(y+=` in field ${o}`),d&&(y+=` in document ${s}`),y+=")"),new Ae(ue.INVALID_ARGUMENT,m+i+y)}function qj(i,e){return i.some(t=>t.isEqual(e))}class p1{constructor(e,t,o,s,u){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=s,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Qi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new NZ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(nI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class NZ extends p1{data(){return super.data()}}function nI(i,e){return"string"==typeof e?eI(i,e):e instanceof Tb?e._internalPath:e._delegate._internalPath}class Jy{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ab extends p1{constructor(e,t,o,s,u,d){super(e,t,o,s,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new rI(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(nI("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class rI extends Ab{data(e={}){return super.data(e)}}class xb{constructor(e,t,o,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Jy(s.hasPendingWrites,s.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new rI(this._firestore,this._userDataWriter,o.key,o,new Jy(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ae(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,s){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(d=>({type:"added",doc:new rI(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Jy(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:u++}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>s||3!==d.type).map(d=>{const m=new rI(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Jy(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,b=-1;return 0!==d.type&&(y=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),1!==d.type&&(u=u.add(d.doc),b=u.indexOf(d.doc.key)),{type:PZ(d.type),doc:m,oldIndex:y,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function PZ(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ct()}}function oI(i){i=Fn(i,Qi);const e=Fn(i.firestore,ai);return function Ij(i,e,t={}){const o=new es;return i.asyncQueue.enqueueAndForget(We(function*(){return function(s,u,d,m,y){const b=new YD({next:I=>{u.enqueueAndForget(()=>wM(s,C));const M=I.docs.has(d);!M&&I.fromCache?y.reject(new Ae(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&I.fromCache&&m&&"server"===m.source?y.reject(new Ae(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(I)},error:I=>y.reject(I)}),C=new DM(ob(d.path),b,{includeMetadataChanges:!0,Du:!0});return _M(s,C)}(yield Ib(i),i.asyncQueue,e,t,o)})),o.promise}(Po(e),i._key).then(t=>g1(e,i,t))}class Zy extends class BZ{convertValue(e,t="none"){switch(Ly(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Oi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Py(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ct()}}convertObject(e,t){const o={};return Ny(e.fields,(s,u)=>{o[s]=this.convertValue(u,t)}),o}convertGeoPoint(e){return new c1(Oi(e.latitude),Oi(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=yB(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(Sw(e));default:return null}}convertTimestamp(e){const t=Nm(e);return new fo(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=Nn.fromString(e);Bt(mV(o));const s=new Pm(o.get(1),o.get(3)),u=new qe(o.popFirst(5));return s.isEqual(t)||ho(`Document ${u} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yy(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Qi(this.firestore,null,t)}}function sI(i,e,t){i=Fn(i,Qi);const o=Fn(i.firestore,ai),s=function m1(i,e,t){let o;return o=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,o}(i.converter,e,t);return rE(o,[l1(Sb(o),"setDoc",i._key,s,null!==i.converter,t).toMutation(i._key,po.none())])}function aI(i,e,t,...o){i=Fn(i,Qi);const s=Fn(i.firestore,ai),u=Sb(s);let d;return d="string"==typeof(e=xm(e))||e instanceof Tb?function Vj(i,e,t,o,s,u){const d=i.uc(1,e,t),m=[f1(e,o,t)],y=[s];if(u.length%2!=0)throw new Ae(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<u.length;M+=2)m.push(f1(e,u[M])),y.push(u[M+1]);const b=[],C=ta.empty();for(let M=m.length-1;M>=0;--M)if(!qj(b,m[M])){const O=m[M];let L=y[M];L=xm(L);const q=d.nc(O);if(L instanceof nE)b.push(O);else{const X=Xy(L,q);null!=X&&(b.push(O),C.set(O,X))}}const I=new eb(b);return new Pj(C,I,d.fieldTransforms)}(u,"updateDoc",i._key,e,t,o):function Bj(i,e,t,o){const s=i.uc(1,e,t);d1("Data must be an object, but it was:",s,o);const u=[],d=ta.empty();Ny(o,(y,b)=>{const C=eI(e,y,t);b=xm(b);const I=s.nc(C);if(b instanceof nE)u.push(C);else{const M=Xy(b,I);null!=M&&(u.push(C),d.set(C,M))}});const m=new eb(u);return new Pj(d,m,s.fieldTransforms)}(u,"updateDoc",i._key,e),rE(s,[d.toMutation(i._key,po.exists(!0))])}function rE(i,e){return function(t,o){const s=new es;return t.asyncQueue.enqueueAndForget(We(function*(){return function GJ(i,e,t){return xM.apply(this,arguments)}(yield function r1(i){return XD(i).then(e=>e.syncEngine)}(t),o,s)})),s.promise}(Po(i),e)}function g1(i,e,t){const o=t.docs.get(e._key),s=new Zy(i);return new Ab(i,s,e._key,o,new Jy(t.hasPendingWrites,t.fromCache),e.converter)}!function(i,e=!0){J_="9.6.10",KC(new sw("firestore",(t,{options:o})=>{const s=t.getProvider("app").getImmediate(),u=new ai(s,new CX(t.getProvider("auth-internal")),new TX(t.getProvider("app-check-internal")));return o=Object.assign({useFetchStreams:e},o),u._setSettings(o),u},"PUBLIC")),$_(lB,"3.4.7",i),$_(lB,"3.4.7","esm2017")}();let HZ=(()=>{class i{constructor(t){this.dialog=t,this.firestore=new z_,this.fav="favorite_border",this.db=function TZ(i=function $Q(i=yA){const e=Ay.get(i);if(!e)throw Mm.create("no-app",{appName:i});return e}()){return function VL(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}(i,"firestore").getImmediate()}()}ngOnInit(){this.getCreatorInfo(),this.getInitLike()}getInitLike(){var t=this;return We(function*(){(yield oI($c(t.db,"Likes",t.postData.postId))).exists()||(yield sI($c(t.db,"Likes",t.postData.postId),{like:0}));const s=$c(t.db,"Feelings",t.postData.postId+Ty.userDocument.userId),u=yield oI(s);console.log(u.data()),u.exists()&&(t.fav=-1==u.data().state?"favorite_border":"favorite"),function jZ(i,...e){var t,o,s;i=xm(i);let u={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||a1(e[d])||(u=e[d],d++);const m={includeMetadataChanges:u.includeMetadataChanges};if(a1(e[d])){const I=e[d];e[d]=null===(t=I.next)||void 0===t?void 0:t.bind(I),e[d+1]=null===(o=I.error)||void 0===o?void 0:o.bind(I),e[d+2]=null===(s=I.complete)||void 0===s?void 0:s.bind(I)}let y,b,C;if(i instanceof Qi)b=Fn(i.firestore,ai),C=ob(i._key.path),y={next:I=>{e[d]&&e[d](g1(b,i,I))},error:e[d+1],complete:e[d+2]};else{const I=Fn(i,na);b=Fn(I.firestore,ai),C=I._query;const M=new Zy(b);y={next:O=>{e[d]&&e[d](new xb(b,M,I,O))},error:e[d+1],complete:e[d+2]},function zj(i){if(SD(i)&&0===i.explicitOrderBy.length)throw new Ae(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(i._query)}(function(I,M,O,L){const q=new YD(L),X=new DM(M,q,O);I.asyncQueue.enqueueAndForget(We(function*(){return _M(yield Ib(I),X)}))})(Po(b),C,m,y)}($c(t.db,"Likes",t.postData.postId),m=>{t.count=m.data().like})})()}onLikeClick(){var t=this;return We(function*(){const o=$c(t.db,"Feelings",t.postData.postId+Ty.userDocument.userId),s=yield oI(o),u=yield oI($c(t.db,"Likes",t.postData.postId));if(s.exists()){let y,m=s.data().state;u.exists()?y=u.data().like:(yield sI($c(t.db,"Likes",t.postData.postId),{like:0}),y=0),-1===m?(m=1,yield aI(o,{state:m}),t.fav="favorite"):(m=-1,yield aI(o,{state:m}),t.fav="favorite_border"),yield aI($c(t.db,"Likes",t.postData.postId),{like:y+m})}else{let d;yield sI($c(t.db,"Feelings",t.postData.postId+Ty.userDocument.userId),{state:1}),u.exists()?d=u.data().like:(yield sI($c(t.db,"Likes",t.postData.postId),{like:0}),d=0),yield aI($c(t.db,"Likes",t.postData.postId),{like:d+1}),t.fav="favorite"}})()}onReplyClick(){this.dialog.open(fY,{data:this.postData.postId})}getCreatorInfo(){this.firestore.getDocument({path:["Users",this.postData.creatorId],onComplete:t=>{let o=t.data();this.creatorName=o.publicName,this.creatorDescription=o.publicDescription,this.ti=Bu.getFirestoreTimestamp()}})}}return i.\u0275fac=function(t){return new(t||i)(ve(ew))},i.\u0275cmp=Ar({type:i,selectors:[["app-post"]],inputs:{postData:"postData"},decls:28,vars:11,consts:[[1,"bg"],[1,"getDown"],["mat-card-image","",3,"src"],[1,"action-item","colorsbg",3,"click"],["id","no_of_count",1,"colorsbg"],[1,"action-item","colorsbg"]],template:function(t,o){1&t&&(Ce(0,"body",0),Ce(1,"mat-card"),Ce(2,"mat-card-header",1),Ce(3,"mat-card-title"),Ce(4,"mat-icon"),bt(5,"account_circle"),De(),bt(6),De(),Ce(7,"mat-card-subtitle"),bt(8),De(),De(),Hn(9,"img",2),Ce(10,"mat-card-content"),bt(11),De(),Ce(12,"mat-card-actions"),Ce(13,"mat-icon",3),Pr("click",function(){return o.onLikeClick()}),bt(14),De(),Ce(15,"span",4),bt(16),De(),Ce(17,"mat-icon",3),Pr("click",function(){return o.onReplyClick()}),bt(18," chat_bubble_outline "),De(),Ce(19,"span",4),bt(20),De(),Ce(21,"mat-icon",5),bt(22," save "),De(),Ce(23,"p"),bt(24),function ER(i,e){const t=Yt();let o;const s=i+20;t.firstCreatePass?(o=function QH(i,e){if(e)for(let t=e.length-1;t>=0;t--){const o=e[t];if(i===o.name)return o}}(e,t.pipeRegistry),t.data[s]=o,o.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(s,o.onDestroy)):o=t.data[s];const u=o.factory||(o.factory=ge(o.type)),d=lt(ve);try{const m=ma(!1),y=u();return ma(m),function mU(i,e,t,o){t>=i.data.length&&(i.data[t]=null,i.blueprint[t]=null),e[t]=o}(t,ye(),s,y),y}finally{lt(d)}}(25,"date"),De(),De(),De(),Hn(26,"br"),Hn(27,"br"),De()),2&t&&(Xn(6),Fl(o.creatorName),Xn(2),Fl(o.creatorDescription),Xn(1),bI("src",null==o.postData?null:o.postData.imageUrl,ba),Xn(2),f0(" ",o.postData.comment," "),Xn(3),Fl(o.fav),Xn(2),Fl(o.count),Xn(4),Fl(o.replycount),Xn(4),Fl(function CR(i,e,t,o){const s=i+20,u=ye(),d=cr(u,s);return function w0(i,e){return i[1].data[e].pure}(u,s)?vR(u,gi(),e,d.transform,t,o,d):d.transform(t,o)}(25,8,o.ti.toDate(),"medium")))},directives:[rA,iA,tA,rw,PW,FW,NW,nA],pipes:[LO],styles:[".bg[_ngcontent-%COMP%]{background-image:url(chat_background.b2db46cb3923aecf.jpg);height:100%;width:100%}.action-item[_ngcontent-%COMP%]{margin-left:.5em;cursor:pointer;color:#e08383}.getDown[_ngcontent-%COMP%]{margin-top:10px}#no_of_count[_ngcontent-%COMP%]{font-family:cursive;font-size:small}.colorsbg[_ngcontent-%COMP%]{color:#b22222}"]}),i})(),qZ=(()=>{class i{constructor(){(class O7{static init(e){return G_.default.initializeApp(e),[]}static getFirestore(){return G_.default.firestore()}static _getFirestore(){return G_.default.firestore}static getAuth(){return G_.default.auth()}static getStorage(){return G_.default.storage()}static getFirestoreTimestamp(){return G_.default.firestore.Timestamp.now()}}).init(uA_firebaseConfig),function GQ(i,e={}){"object"!=typeof e&&(e={name:e});const t=Object.assign({name:yA,automaticDataCollectionEnabled:!1},e),o=t.name;if("string"!=typeof o||!o)throw Mm.create("bad-app-name",{appName:String(o)});const s=Ay.get(o);if(s){if(lA(i,s.options)&&lA(t,s.config))return s;throw Mm.create("duplicate-app",{appName:o})}const u=new cQ(o);for(const m of $C.values())u.addComponent(m);const d=new qQ(i,t,u);Ay.set(o,d)}(uA_firebaseConfig)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=kn({type:i,bootstrap:[Ty]}),i.\u0275inj=Be({providers:[],imports:[[XO,p7,bK,cY]]}),i})();(function ld(i,e,t){const o=i.\u0275cmp;o.directiveDefs=()=>e.map(bo),o.pipeDefs=()=>t.map(Wf)})(mL,[pT,HZ,Ff,rw],[]),function Xq(){uO=!1}(),_$().bootstrapModule(qZ).catch(i=>console.error(i))},36:($u,Ni,$t)=>{$t.d(Ni,{Z:()=>un});var At,Dt,me=$t(655),S=$t(237),Ze=$t(716),dt=$t(474),Fo=((At={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",At["bad-app-name"]="Illegal App name: '{$appName}",At["duplicate-app"]="Firebase App named '{$appName}' already exists",At["app-deleted"]="Firebase App named '{$appName}' already deleted",At["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",At["invalid-log-argument"]="First argument to `onLog` must be null or a function.",At),Xr=new S.LL("app","Firebase",Fo),Xi="@firebase/app",or="[DEFAULT]",at=((Dt={})[Xi]="fire-core",Dt["@firebase/analytics"]="fire-analytics",Dt["@firebase/app-check"]="fire-app-check",Dt["@firebase/auth"]="fire-auth",Dt["@firebase/database"]="fire-rtdb",Dt["@firebase/functions"]="fire-fn",Dt["@firebase/installations"]="fire-iid",Dt["@firebase/messaging"]="fire-fcm",Dt["@firebase/performance"]="fire-perf",Dt["@firebase/remote-config"]="fire-rc",Dt["@firebase/storage"]="fire-gcs",Dt["@firebase/firestore"]="fire-fst",Dt["fire-js"]="fire-js",Dt["firebase-wrapper"]="fire-js-all",Dt),dn=new dt.Yd("@firebase/app"),Ji=function(){function Ge(Ie,je,xn){var wn=this;this.firebase_=xn,this.isDeleted_=!1,this.name_=je.name,this.automaticDataCollectionEnabled_=je.automaticDataCollectionEnabled||!1,this.options_=(0,S.p$)(Ie),this.container=new Ze.H0(je.name),this._addComponent(new Ze.wA("app",function(){return wn},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(go){return wn._addComponent(go)})}return Object.defineProperty(Ge.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(Ie){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=Ie},enumerable:!1,configurable:!0}),Object.defineProperty(Ge.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(Ge.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),Ge.prototype.delete=function(){var Ie=this;return new Promise(function(je){Ie.checkDestroyed_(),je()}).then(function(){return Ie.firebase_.INTERNAL.removeApp(Ie.name_),Promise.all(Ie.container.getProviders().map(function(je){return je.delete()}))}).then(function(){Ie.isDeleted_=!0})},Ge.prototype._getService=function(Ie,je){var xn;void 0===je&&(je=or),this.checkDestroyed_();var wn=this.container.getProvider(Ie);return!wn.isInitialized()&&"EXPLICIT"===(null===(xn=wn.getComponent())||void 0===xn?void 0:xn.instantiationMode)&&wn.initialize(),wn.getImmediate({identifier:je})},Ge.prototype._removeServiceInstance=function(Ie,je){void 0===je&&(je=or),this.container.getProvider(Ie).clearInstance(je)},Ge.prototype._addComponent=function(Ie){try{this.container.addComponent(Ie)}catch(je){dn.debug("Component "+Ie.name+" failed to register with FirebaseApp "+this.name,je)}},Ge.prototype._addOrOverwriteComponent=function(Ie){this.container.addOrOverwriteComponent(Ie)},Ge.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},Ge.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Xr.create("app-deleted",{appName:this.name_})},Ge}();Ji.prototype.name&&Ji.prototype.options||Ji.prototype.delete||console.log("dc");var de=function V(){var Ge=function _e(Ge){var Ie={},je=new Map,xn={__esModule:!0,initializeApp:function Ms(Kt,on){void 0===on&&(on={}),("object"!=typeof on||null===on)&&(on={name:on});var Gn=on;void 0===Gn.name&&(Gn.name=or);var sr=Gn.name;if("string"!=typeof sr||!sr)throw Xr.create("bad-app-name",{appName:String(sr)});if((0,S.r3)(Ie,sr))throw Xr.create("duplicate-app",{appName:sr});var mr=new Ge(Kt,Gn,xn);return Ie[sr]=mr,mr},app:go,registerVersion:function Mn(Kt,on,Pi){var Gn,sr=null!==(Gn=at[Kt])&&void 0!==Gn?Gn:Kt;Pi&&(sr+="-"+Pi);var mr=sr.match(/\s|\//),ui=on.match(/\s|\//);if(mr||ui){var yn=['Unable to register library "'+sr+'" with version "'+on+'":'];return mr&&yn.push('library name "'+sr+'" contains illegal characters (whitespace or "/")'),mr&&ui&&yn.push("and"),ui&&yn.push('version name "'+on+'" contains illegal characters (whitespace or "/")'),void dn.warn(yn.join(" "))}Ku(new Ze.wA(sr+"-version",function(){return{library:sr,version:on}},"VERSION"))},setLogLevel:dt.Ub,onLog:function Jr(Kt,on){if(null!==Kt&&"function"!=typeof Kt)throw Xr.create("invalid-log-argument");(0,dt.Am)(Kt,on)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:Ku,removeApp:function wn(Kt){delete Ie[Kt]},components:je,useAsService:function Jh(Kt,on){return"serverAuth"===on?null:on}}};function go(Kt){if(!(0,S.r3)(Ie,Kt=Kt||or))throw Xr.create("no-app",{appName:Kt});return Ie[Kt]}function Ku(Kt){var on=Kt.name;if(je.has(on))return dn.debug("There were multiple attempts to register component "+on+"."),"PUBLIC"===Kt.type?xn[on]:null;if(je.set(on,Kt),"PUBLIC"===Kt.type){var Pi=function(ui){if(void 0===ui&&(ui=go()),"function"!=typeof ui[on])throw Xr.create("invalid-app-argument",{appName:on});return ui[on]()};void 0!==Kt.serviceProps&&(0,S.ZB)(Pi,Kt.serviceProps),xn[on]=Pi,Ge.prototype[on]=function(){for(var ui=[],yn=0;yn<arguments.length;yn++)ui[yn]=arguments[yn];return this._getService.bind(this,on).apply(this,Kt.multipleInstances?ui:[])}}for(var Gn=0,sr=Object.keys(Ie);Gn<sr.length;Gn++)Ie[sr[Gn]]._addComponent(Kt);return"PUBLIC"===Kt.type?xn[on]:null}return xn.default=xn,Object.defineProperty(xn,"apps",{get:function ks(){return Object.keys(Ie).map(function(Kt){return Ie[Kt]})}}),go.App=Ge,xn}(Ji);return Ge.INTERNAL=(0,me.pi)((0,me.pi)({},Ge.INTERNAL),{createFirebaseNamespace:V,extendNamespace:function Ie(je){(0,S.ZB)(Ge,je)},createSubscribe:S.ne,ErrorFactory:S.LL,deepExtend:S.ZB}),Ge}(),Pe=function(){function Ge(Ie){this.container=Ie}return Ge.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(je){if(function Oe(Ge){var Ie=Ge.getComponent();return"VERSION"===(null==Ie?void 0:Ie.type)}(je)){var xn=je.getImmediate();return xn.library+"/"+xn.version}return null}).filter(function(je){return je}).join(" ")},Ge}();if((0,S.jU)()&&void 0!==self.firebase){dn.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Qt=self.firebase.SDK_VERSION;Qt&&Qt.indexOf("LITE")>=0&&dn.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var et=de.initializeApp;de.initializeApp=function(){for(var Ge=[],Ie=0;Ie<arguments.length;Ie++)Ge[Ie]=arguments[Ie];return(0,S.UG)()&&dn.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),et.apply(void 0,Ge)};var wt=de;!function nt(Ge,Ie){Ge.INTERNAL.registerComponent(new Ze.wA("platform-logger",function(je){return new Pe(je)},"PRIVATE")),Ge.registerVersion(Xi,"0.6.30",Ie),Ge.registerVersion("fire-js","")}(wt);const un=wt},716:($u,Ni,$t)=>{$t.d(Ni,{wA:()=>Ze,H0:()=>Xi});var me=$t(655),S=$t(237),Ze=function(){function se(G,we,Me){this.name=G,this.instanceFactory=we,this.type=Me,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return se.prototype.setInstantiationMode=function(G){return this.instantiationMode=G,this},se.prototype.setMultipleInstances=function(G){return this.multipleInstances=G,this},se.prototype.setServiceProps=function(G){return this.serviceProps=G,this},se.prototype.setInstanceCreatedCallback=function(G){return this.onInstanceCreated=G,this},se}(),dt="[DEFAULT]",At=function(){function se(G,we){this.name=G,this.container=we,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return se.prototype.get=function(G){var we=this.normalizeInstanceIdentifier(G);if(!this.instancesDeferred.has(we)){var Me=new S.BH;if(this.instancesDeferred.set(we,Me),this.isInitialized(we)||this.shouldAutoInitialize())try{var ke=this.getOrInitializeService({instanceIdentifier:we});ke&&Me.resolve(ke)}catch(He){}}return this.instancesDeferred.get(we).promise},se.prototype.getImmediate=function(G){var we,Me=this.normalizeInstanceIdentifier(null==G?void 0:G.identifier),ke=null!==(we=null==G?void 0:G.optional)&&void 0!==we&&we;if(!this.isInitialized(Me)&&!this.shouldAutoInitialize()){if(ke)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:Me})}catch(He){if(ke)return null;throw He}},se.prototype.getComponent=function(){return this.component},se.prototype.setComponent=function(G){var we,Me;if(G.name!==this.name)throw Error("Mismatching Component "+G.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=G,this.shouldAutoInitialize()){if(function Xr(se){return"EAGER"===se.instantiationMode}(G))try{this.getOrInitializeService({instanceIdentifier:dt})}catch(Xt){}try{for(var ke=(0,me.XA)(this.instancesDeferred.entries()),He=ke.next();!He.done;He=ke.next()){var Ut=(0,me.CR)(He.value,2),Lt=Ut[1],Ct=this.normalizeInstanceIdentifier(Ut[0]);try{var Lr=this.getOrInitializeService({instanceIdentifier:Ct});Lt.resolve(Lr)}catch(Xt){}}}catch(Xt){we={error:Xt}}finally{try{He&&!He.done&&(Me=ke.return)&&Me.call(ke)}finally{if(we)throw we.error}}}},se.prototype.clearInstance=function(G){void 0===G&&(G=dt),this.instancesDeferred.delete(G),this.instancesOptions.delete(G),this.instances.delete(G)},se.prototype.delete=function(){return(0,me.mG)(this,void 0,void 0,function(){var G;return(0,me.Jh)(this,function(we){switch(we.label){case 0:return G=Array.from(this.instances.values()),[4,Promise.all((0,me.ev)((0,me.ev)([],(0,me.CR)(G.filter(function(Me){return"INTERNAL"in Me}).map(function(Me){return Me.INTERNAL.delete()}))),(0,me.CR)(G.filter(function(Me){return"_delete"in Me}).map(function(Me){return Me._delete()}))))];case 1:return we.sent(),[2]}})})},se.prototype.isComponentSet=function(){return null!=this.component},se.prototype.isInitialized=function(G){return void 0===G&&(G=dt),this.instances.has(G)},se.prototype.getOptions=function(G){return void 0===G&&(G=dt),this.instancesOptions.get(G)||{}},se.prototype.initialize=function(G){var we,Me;void 0===G&&(G={});var ke=G.options,He=void 0===ke?{}:ke,Ut=this.normalizeInstanceIdentifier(G.instanceIdentifier);if(this.isInitialized(Ut))throw Error(this.name+"("+Ut+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var Gt=this.getOrInitializeService({instanceIdentifier:Ut,options:He});try{for(var Lt=(0,me.XA)(this.instancesDeferred.entries()),Ct=Lt.next();!Ct.done;Ct=Lt.next()){var Lr=(0,me.CR)(Ct.value,2),Ci=Lr[1];Ut===this.normalizeInstanceIdentifier(Lr[0])&&Ci.resolve(Gt)}}catch(or){we={error:or}}finally{try{Ct&&!Ct.done&&(Me=Lt.return)&&Me.call(Lt)}finally{if(we)throw we.error}}return Gt},se.prototype.onInit=function(G,we){var Me,ke=this.normalizeInstanceIdentifier(we),He=null!==(Me=this.onInitCallbacks.get(ke))&&void 0!==Me?Me:new Set;He.add(G),this.onInitCallbacks.set(ke,He);var Ut=this.instances.get(ke);return Ut&&G(Ut,ke),function(){He.delete(G)}},se.prototype.invokeOnInitCallbacks=function(G,we){var Me,ke,He=this.onInitCallbacks.get(we);if(He)try{for(var Ut=(0,me.XA)(He),Gt=Ut.next();!Gt.done;Gt=Ut.next()){var Lt=Gt.value;try{Lt(G,we)}catch(Ct){}}}catch(Ct){Me={error:Ct}}finally{try{Gt&&!Gt.done&&(ke=Ut.return)&&ke.call(Ut)}finally{if(Me)throw Me.error}}},se.prototype.getOrInitializeService=function(G){var we=G.instanceIdentifier,Me=G.options,ke=void 0===Me?{}:Me,He=this.instances.get(we);if(!He&&this.component&&(He=this.component.instanceFactory(this.container,{instanceIdentifier:Fo(we),options:ke}),this.instances.set(we,He),this.instancesOptions.set(we,ke),this.invokeOnInitCallbacks(He,we),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,we,He)}catch(Ut){}return He||null},se.prototype.normalizeInstanceIdentifier=function(G){return void 0===G&&(G=dt),this.component?this.component.multipleInstances?G:dt:G},se.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},se}();function Fo(se){return se===dt?void 0:se}var Xi=function(){function se(G){this.name=G,this.providers=new Map}return se.prototype.addComponent=function(G){var we=this.getProvider(G.name);if(we.isComponentSet())throw new Error("Component "+G.name+" has already been registered with "+this.name);we.setComponent(G)},se.prototype.addOrOverwriteComponent=function(G){this.getProvider(G.name).isComponentSet()&&this.providers.delete(G.name),this.addComponent(G)},se.prototype.getProvider=function(G){if(this.providers.has(G))return this.providers.get(G);var we=new At(G,this);return this.providers.set(G,we),we},se.prototype.getProviders=function(){return Array.from(this.providers.values())},se}()},474:($u,Ni,$t)=>{function me(){for(var Me=0,ke=0,He=arguments.length;ke<He;ke++)Me+=arguments[ke].length;var Ut=Array(Me),Gt=0;for(ke=0;ke<He;ke++)for(var Lt=arguments[ke],Ct=0,Lr=Lt.length;Ct<Lr;Ct++,Gt++)Ut[Gt]=Lt[Ct];return Ut}$t.d(Ni,{in:()=>dt,Yd:()=>se,Ub:()=>G,Am:()=>we});var S,Ze=[],dt=(()=>{return(Me=dt||(dt={}))[Me.DEBUG=0]="DEBUG",Me[Me.VERBOSE=1]="VERBOSE",Me[Me.INFO=2]="INFO",Me[Me.WARN=3]="WARN",Me[Me.ERROR=4]="ERROR",Me[Me.SILENT=5]="SILENT",dt;var Me})(),At={debug:dt.DEBUG,verbose:dt.VERBOSE,info:dt.INFO,warn:dt.WARN,error:dt.ERROR,silent:dt.SILENT},Fo=dt.INFO,Xr=((S={})[dt.DEBUG]="log",S[dt.VERBOSE]="log",S[dt.INFO]="info",S[dt.WARN]="warn",S[dt.ERROR]="error",S),Xi=function(Me,ke){for(var He=[],Ut=2;Ut<arguments.length;Ut++)He[Ut-2]=arguments[Ut];if(!(ke<Me.logLevel)){var Gt=(new Date).toISOString(),Lt=Xr[ke];if(!Lt)throw new Error("Attempted to log a message with an invalid logType (value: "+ke+")");console[Lt].apply(console,me(["["+Gt+"]  "+Me.name+":"],He))}},se=function(){function Me(ke){this.name=ke,this._logLevel=Fo,this._logHandler=Xi,this._userLogHandler=null,Ze.push(this)}return Object.defineProperty(Me.prototype,"logLevel",{get:function(){return this._logLevel},set:function(ke){if(!(ke in dt))throw new TypeError('Invalid value "'+ke+'" assigned to `logLevel`');this._logLevel=ke},enumerable:!1,configurable:!0}),Me.prototype.setLogLevel=function(ke){this._logLevel="string"==typeof ke?At[ke]:ke},Object.defineProperty(Me.prototype,"logHandler",{get:function(){return this._logHandler},set:function(ke){if("function"!=typeof ke)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ke},enumerable:!1,configurable:!0}),Object.defineProperty(Me.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(ke){this._userLogHandler=ke},enumerable:!1,configurable:!0}),Me.prototype.debug=function(){for(var ke=[],He=0;He<arguments.length;He++)ke[He]=arguments[He];this._userLogHandler&&this._userLogHandler.apply(this,me([this,dt.DEBUG],ke)),this._logHandler.apply(this,me([this,dt.DEBUG],ke))},Me.prototype.log=function(){for(var ke=[],He=0;He<arguments.length;He++)ke[He]=arguments[He];this._userLogHandler&&this._userLogHandler.apply(this,me([this,dt.VERBOSE],ke)),this._logHandler.apply(this,me([this,dt.VERBOSE],ke))},Me.prototype.info=function(){for(var ke=[],He=0;He<arguments.length;He++)ke[He]=arguments[He];this._userLogHandler&&this._userLogHandler.apply(this,me([this,dt.INFO],ke)),this._logHandler.apply(this,me([this,dt.INFO],ke))},Me.prototype.warn=function(){for(var ke=[],He=0;He<arguments.length;He++)ke[He]=arguments[He];this._userLogHandler&&this._userLogHandler.apply(this,me([this,dt.WARN],ke)),this._logHandler.apply(this,me([this,dt.WARN],ke))},Me.prototype.error=function(){for(var ke=[],He=0;He<arguments.length;He++)ke[He]=arguments[He];this._userLogHandler&&this._userLogHandler.apply(this,me([this,dt.ERROR],ke)),this._logHandler.apply(this,me([this,dt.ERROR],ke))},Me}();function G(Me){Ze.forEach(function(ke){ke.setLogLevel(Me)})}function we(Me,ke){for(var He=function(Ct){var Lr=null;ke&&ke.level&&(Lr=At[ke.level]),Ct.userLogHandler=null===Me?null:function(Xt,Ci){for(var Dt=[],or=2;or<arguments.length;or++)Dt[or-2]=arguments[or];var at=Dt.map(function(dn){if(null==dn)return null;if("string"==typeof dn)return dn;if("number"==typeof dn||"boolean"==typeof dn)return dn.toString();if(dn instanceof Error)return dn.message;try{return JSON.stringify(dn)}catch(Ji){return null}}).filter(function(dn){return dn}).join(" ");Ci>=(null!=Lr?Lr:Xt.logLevel)&&Me({level:dt[Ci].toLowerCase(),message:at,args:Dt,type:Xt.name})}},Ut=0,Gt=Ze;Ut<Gt.length;Ut++)He(Gt[Ut])}},237:($u,Ni,$t)=>{$t.d(Ni,{BH:()=>He,LL:()=>nt,ZR:()=>Oe,r3:()=>go,Sg:()=>Ut,ne:()=>Gn,p$:()=>we,ZB:()=>Me,m9:()=>Oa,z$:()=>Gt,jU:()=>Lr,ru:()=>Xt,d:()=>Dt,w1:()=>or,uI:()=>Lt,UG:()=>Ct,b$:()=>Ci,G6:()=>Ji,Mn:()=>at});var me=$t(655),At=function(K){for(var $=[],J=0,re=0;re<K.length;re++){var W=K.charCodeAt(re);W<128?$[J++]=W:W<2048?($[J++]=W>>6|192,$[J++]=63&W|128):55296==(64512&W)&&re+1<K.length&&56320==(64512&K.charCodeAt(re+1))?(W=65536+((1023&W)<<10)+(1023&K.charCodeAt(++re)),$[J++]=W>>18|240,$[J++]=W>>12&63|128,$[J++]=W>>6&63|128,$[J++]=63&W|128):($[J++]=W>>12|224,$[J++]=W>>6&63|128,$[J++]=63&W|128)}return $},Xr={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(K,$){if(!Array.isArray(K))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var J=$?this.byteToCharMapWebSafe_:this.byteToCharMap_,re=[],W=0;W<K.length;W+=3){var Re=K[W],gt=W+1<K.length,Jt=gt?K[W+1]:0,fn=W+2<K.length,sn=fn?K[W+2]:0,Ht=(15&Jt)<<2|sn>>6,Bo=63&sn;fn||(Bo=64,gt||(Ht=64)),re.push(J[Re>>2],J[(3&Re)<<4|Jt>>4],J[Ht],J[Bo])}return re.join("")},encodeString:function(K,$){return this.HAS_NATIVE_SUPPORT&&!$?btoa(K):this.encodeByteArray(At(K),$)},decodeString:function(K,$){return this.HAS_NATIVE_SUPPORT&&!$?atob(K):function(K){for(var $=[],J=0,re=0;J<K.length;){var W=K[J++];if(W<128)$[re++]=String.fromCharCode(W);else if(W>191&&W<224){var Re=K[J++];$[re++]=String.fromCharCode((31&W)<<6|63&Re)}else if(W>239&&W<365){var fn=((7&W)<<18|(63&(Re=K[J++]))<<12|(63&(gt=K[J++]))<<6|63&K[J++])-65536;$[re++]=String.fromCharCode(55296+(fn>>10)),$[re++]=String.fromCharCode(56320+(1023&fn))}else{Re=K[J++];var gt=K[J++];$[re++]=String.fromCharCode((15&W)<<12|(63&Re)<<6|63&gt)}}return $.join("")}(this.decodeStringToByteArray(K,$))},decodeStringToByteArray:function(K,$){this.init_();for(var J=$?this.charToByteMapWebSafe_:this.charToByteMap_,re=[],W=0;W<K.length;){var Re=J[K.charAt(W++)],Jt=W<K.length?J[K.charAt(W)]:0,sn=++W<K.length?J[K.charAt(W)]:64,Zt=++W<K.length?J[K.charAt(W)]:64;if(++W,null==Re||null==Jt||null==sn||null==Zt)throw Error();re.push(Re<<2|Jt>>4),64!==sn&&(re.push(Jt<<4&240|sn>>2),64!==Zt&&re.push(sn<<6&192|Zt))}return re},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var K=0;K<this.ENCODED_VALS.length;K++)this.byteToCharMap_[K]=this.ENCODED_VALS.charAt(K),this.charToByteMap_[this.byteToCharMap_[K]]=K,this.byteToCharMapWebSafe_[K]=this.ENCODED_VALS_WEBSAFE.charAt(K),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[K]]=K,K>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(K)]=K,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(K)]=K)}}},se=function(K){return function(K){var $=At(K);return Xr.encodeByteArray($,!0)}(K).replace(/\./g,"")};function we(K){return Me(void 0,K)}function Me(K,$){if(!($ instanceof Object))return $;switch($.constructor){case Date:return new Date($.getTime());case Object:void 0===K&&(K={});break;case Array:K=[];break;default:return $}for(var re in $)!$.hasOwnProperty(re)||!ke(re)||(K[re]=Me(K[re],$[re]));return K}function ke(K){return"__proto__"!==K}var He=function(){function K(){var $=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(J,re){$.resolve=J,$.reject=re})}return K.prototype.wrapCallback=function($){var J=this;return function(re,W){re?J.reject(re):J.resolve(W),"function"==typeof $&&(J.promise.catch(function(){}),1===$.length?$(re):$(re,W))}},K}();function Ut(K,$){if(K.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var re=$||"demo-project",W=K.iat||0,Re=K.sub||K.user_id;if(!Re)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var gt=(0,me.pi)({iss:"https://securetoken.google.com/"+re,aud:re,iat:W,exp:W+3600,auth_time:W,sub:Re,user_id:Re,firebase:{sign_in_provider:"custom",identities:{}}},K);return[se(JSON.stringify({alg:"none",type:"JWT"})),se(JSON.stringify(gt)),""].join(".")}function Gt(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Lt(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gt())}function Ct(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(K){return!1}}function Lr(){return"object"==typeof self&&self.self===self}function Xt(){var K="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof K&&void 0!==K.id}function Ci(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Dt(){return Gt().indexOf("Electron/")>=0}function or(){var K=Gt();return K.indexOf("MSIE ")>=0||K.indexOf("Trident/")>=0}function at(){return Gt().indexOf("MSAppHost/")>=0}function Ji(){return!Ct()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}var Oe=function(K){function $(J,re,W){var Re=K.call(this,re)||this;return Re.code=J,Re.customData=W,Re.name="FirebaseError",Object.setPrototypeOf(Re,$.prototype),Error.captureStackTrace&&Error.captureStackTrace(Re,nt.prototype.create),Re}return(0,me.ZT)($,K),$}(Error),nt=function(){function K($,J,re){this.service=$,this.serviceName=J,this.errors=re}return K.prototype.create=function($){for(var J=[],re=1;re<arguments.length;re++)J[re-1]=arguments[re];var W=J[0]||{},Re=this.service+"/"+$,gt=this.errors[$],Jt=gt?Qt(gt,W):"Error",fn=this.serviceName+": "+Jt+" ("+Re+").",sn=new Oe(Re,fn,W);return sn},K}();function Qt(K,$){return K.replace(et,function(J,re){var W=$[re];return null!=W?String(W):"<"+re+"?>"})}var et=/\{\$([^}]+)}/g;function go(K,$){return Object.prototype.hasOwnProperty.call(K,$)}function Gn(K,$){var J=new sr(K,$);return J.subscribe.bind(J)}!function(){function K(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var $=1;$<this.blockSize;++$)this.pad_[$]=0;this.reset()}K.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},K.prototype.compress_=function($,J){J||(J=0);var re=this.W_;if("string"==typeof $)for(var W=0;W<16;W++)re[W]=$.charCodeAt(J)<<24|$.charCodeAt(J+1)<<16|$.charCodeAt(J+2)<<8|$.charCodeAt(J+3),J+=4;else for(W=0;W<16;W++)re[W]=$[J]<<24|$[J+1]<<16|$[J+2]<<8|$[J+3],J+=4;for(W=16;W<80;W++)re[W]=4294967295&((Re=re[W-3]^re[W-8]^re[W-14]^re[W-16])<<1|Re>>>31);var Zt,Ht,gt=this.chain_[0],Jt=this.chain_[1],fn=this.chain_[2],sn=this.chain_[3],Zr=this.chain_[4];for(W=0;W<80;W++){W<40?W<20?(Zt=sn^Jt&(fn^sn),Ht=1518500249):(Zt=Jt^fn^sn,Ht=1859775393):W<60?(Zt=Jt&fn|sn&(Jt|fn),Ht=2400959708):(Zt=Jt^fn^sn,Ht=3395469782);var Re=(gt<<5|gt>>>27)+Zt+Zr+Ht+re[W]&4294967295;Zr=sn,sn=fn,fn=4294967295&(Jt<<30|Jt>>>2),Jt=gt,gt=Re}this.chain_[0]=this.chain_[0]+gt&4294967295,this.chain_[1]=this.chain_[1]+Jt&4294967295,this.chain_[2]=this.chain_[2]+fn&4294967295,this.chain_[3]=this.chain_[3]+sn&4294967295,this.chain_[4]=this.chain_[4]+Zr&4294967295},K.prototype.update=function($,J){if(null!=$){void 0===J&&(J=$.length);for(var re=J-this.blockSize,W=0,Re=this.buf_,gt=this.inbuf_;W<J;){if(0===gt)for(;W<=re;)this.compress_($,W),W+=this.blockSize;if("string"==typeof $){for(;W<J;)if(Re[gt]=$.charCodeAt(W),++W,++gt===this.blockSize){this.compress_(Re),gt=0;break}}else for(;W<J;)if(Re[gt]=$[W],++W,++gt===this.blockSize){this.compress_(Re),gt=0;break}}this.inbuf_=gt,this.total_+=J}},K.prototype.digest=function(){var $=[],J=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var re=this.blockSize-1;re>=56;re--)this.buf_[re]=255&J,J/=256;this.compress_(this.buf_);var W=0;for(re=0;re<5;re++)for(var Re=24;Re>=0;Re-=8)$[W]=this.chain_[re]>>Re&255,++W;return $}}();var sr=function(){function K($,J){var re=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=J,this.task.then(function(){$(re)}).catch(function(W){re.error(W)})}return K.prototype.next=function($){this.forEachObserver(function(J){J.next($)})},K.prototype.error=function($){this.forEachObserver(function(J){J.error($)}),this.close($)},K.prototype.complete=function(){this.forEachObserver(function($){$.complete()}),this.close()},K.prototype.subscribe=function($,J,re){var Re,W=this;if(void 0===$&&void 0===J&&void 0===re)throw new Error("Missing Observer.");Re=function ui(K,$){if("object"!=typeof K||null===K)return!1;for(var J=0,re=$;J<re.length;J++){var W=re[J];if(W in K&&"function"==typeof K[W])return!0}return!1}($,["next","error","complete"])?$:{next:$,error:J,complete:re},void 0===Re.next&&(Re.next=yn),void 0===Re.error&&(Re.error=yn),void 0===Re.complete&&(Re.complete=yn);var gt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{W.finalError?Re.error(W.finalError):Re.complete()}catch(Jt){}}),this.observers.push(Re),gt},K.prototype.unsubscribeOne=function($){void 0===this.observers||void 0===this.observers[$]||(delete this.observers[$],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},K.prototype.forEachObserver=function($){if(!this.finalized)for(var J=0;J<this.observers.length;J++)this.sendOne(J,$)},K.prototype.sendOne=function($,J){var re=this;this.task.then(function(){if(void 0!==re.observers&&void 0!==re.observers[$])try{J(re.observers[$])}catch(W){"undefined"!=typeof console&&console.error&&console.error(W)}})},K.prototype.close=function($){var J=this;this.finalized||(this.finalized=!0,void 0!==$&&(this.finalError=$),this.task.then(function(){J.observers=void 0,J.onNoObservers=void 0}))},K}();function yn(){}function Oa(K){return K&&K._delegate?K._delegate:K}},707:($u,Ni,$t)=>{$t.r(Ni),$t.d(Ni,{default:()=>me.Z});var me=$t(36);me.Z.registerVersion("firebase","8.10.1","app"),me.Z.SDK_VERSION="8.10.1"},766:($u,Ni,$t)=>{$t.r(Ni);var me=$t(36);(function(){var S,Ze="function"==typeof Object.defineProperties?Object.defineProperty:function(l,p,v){l!=Array.prototype&&l!=Object.prototype&&(l[p]=v.value)},At=function dt(l){l=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,l];for(var p=0;p<l.length;++p){var v=l[p];if(v&&v.Math==Math)return v}return globalThis}(this);function Xr(l){var p=0;return function(){return p<l.length?{done:!1,value:l[p++]}:{done:!0}}}function Xi(l){var p="undefined"!=typeof Symbol&&Symbol.iterator&&l[Symbol.iterator];return p?p.call(l):{next:Xr(l)}}!function Fo(l,p){if(p){var v=At;l=l.split(".");for(var E=0;E<l.length-1;E++){var T=l[E];T in v||(v[T]={}),v=v[T]}(p=p(E=v[l=l[l.length-1]]))!=E&&null!=p&&Ze(v,l,{configurable:!0,writable:!0,value:p})}}("Promise",function(l){function p(P){this.b=0,this.c=void 0,this.a=[];var U=this.f();try{P(U.resolve,U.reject)}catch(le){U.reject(le)}}function v(){this.a=null}function E(P){return P instanceof p?P:new p(function(U){U(P)})}if(l)return l;v.prototype.b=function(P){if(null==this.a){this.a=[];var U=this;this.c(function(){U.g()})}this.a.push(P)};var T=At.setTimeout;v.prototype.c=function(P){T(P,0)},v.prototype.g=function(){for(;this.a&&this.a.length;){var P=this.a;this.a=[];for(var U=0;U<P.length;++U){var le=P[U];P[U]=null;try{le()}catch(c){this.f(c)}}}this.a=null},v.prototype.f=function(P){this.c(function(){throw P})},p.prototype.f=function(){function P(c){return function(a){le||(le=!0,c.call(U,a))}}var U=this,le=!1;return{resolve:P(this.m),reject:P(this.g)}},p.prototype.m=function(P){if(P===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(P instanceof p)this.s(P);else{e:switch(typeof P){case"object":var U=null!=P;break e;case"function":U=!0;break e;default:U=!1}U?this.v(P):this.h(P)}},p.prototype.v=function(P){var U=void 0;try{U=P.then}catch(le){return void this.g(le)}"function"==typeof U?this.u(U,P):this.h(P)},p.prototype.g=function(P){this.i(2,P)},p.prototype.h=function(P){this.i(1,P)},p.prototype.i=function(P,U){if(0!=this.b)throw Error("Cannot settle("+P+", "+U+"): Promise already settled in state"+this.b);this.b=P,this.c=U,this.l()},p.prototype.l=function(){if(null!=this.a){for(var P=0;P<this.a.length;++P)R.b(this.a[P]);this.a=null}};var R=new v;return p.prototype.s=function(P){var U=this.f();P.Ra(U.resolve,U.reject)},p.prototype.u=function(P,U){var le=this.f();try{P.call(U,le.resolve,le.reject)}catch(c){le.reject(c)}},p.prototype.then=function(P,U){function le(f,g){return"function"==typeof f?function(_){try{c(f(_))}catch(w){a(w)}}:g}var c,a,h=new p(function(f,g){c=f,a=g});return this.Ra(le(P,c),le(U,a)),h},p.prototype.catch=function(P){return this.then(void 0,P)},p.prototype.Ra=function(P,U){function le(){switch(c.b){case 1:P(c.c);break;case 2:U(c.c);break;default:throw Error("Unexpected state: "+c.b)}}var c=this;null==this.a?R.b(le):this.a.push(le)},p.resolve=E,p.reject=function(P){return new p(function(U,le){le(P)})},p.race=function(P){return new p(function(U,le){for(var c=Xi(P),a=c.next();!a.done;a=c.next())E(a.value).Ra(U,le)})},p.all=function(P){var U=Xi(P),le=U.next();return le.done?E([]):new p(function(c,a){function h(_){return function(w){f[_]=w,0==--g&&c(f)}}var f=[],g=0;do{f.push(void 0),g++,E(le.value).Ra(h(f.length-1),a),le=U.next()}while(!le.done)})},p});var se=se||{},G=this||self,we=/^[\w+/_-]+[=]{0,2}$/,Me=null;function ke(l){return(l=l.querySelector&&l.querySelector("script[nonce]"))&&(l=l.nonce||l.getAttribute("nonce"))&&we.test(l)?l:""}function He(){}function Ut(l){var p=typeof l;return"object"!=p?p:l?Array.isArray(l)?"array":p:"null"}function Gt(l){var p=Ut(l);return"array"==p||"object"==p&&"number"==typeof l.length}function Lt(l){return"function"==Ut(l)}function Ct(l){var p=typeof l;return"object"==p&&null!=l||"function"==p}function Lr(l){return Object.prototype.hasOwnProperty.call(l,Xt)&&l[Xt]||(l[Xt]=++Ci)}var Xt="closure_uid_"+(1e9*Math.random()>>>0),Ci=0;function Dt(l,p,v){return l.call.apply(l.bind,arguments)}function or(l,p,v){if(!l)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var T=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(T,E),l.apply(p,T)}}return function(){return l.apply(p,arguments)}}function at(l,p,v){return(at=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Dt:or).apply(null,arguments)}function dn(l,p){var v=Array.prototype.slice.call(arguments,1);return function(){var E=v.slice();return E.push.apply(E,arguments),l.apply(this,E)}}var Ji=Date.now;function te(l,p){function v(){}v.prototype=p.prototype,l.bb=p.prototype,l.prototype=new v,l.prototype.constructor=l}function _e(l){return l}function V(l,p,v){this.code=Pe+l,this.message=p||Oe[l]||"",this.a=v||null}function de(l){var p=l&&l.code;return p?new V(p.substring(Pe.length),l.message,l.serverResponse):null}te(V,Error),V.prototype.w=function(){var l={code:this.code,message:this.message};return this.a&&(l.serverResponse=this.a),l},V.prototype.toJSON=function(){return this.w()};var et,Pe="auth/",Oe={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},nt={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function Qt(l){for(var p in nt)if(nt[p].id===l)return{firebaseEndpoint:(l=nt[p]).Ua,secureTokenEndpoint:l.$a,identityPlatformEndpoint:l.Xa};return null}function wt(l){if(!l)return!1;try{return!!l.$goog_Thenable}catch(p){return!1}}function un(l){if(Error.captureStackTrace)Error.captureStackTrace(this,un);else{var p=Error().stack;p&&(this.stack=p)}l&&(this.message=String(l))}function Ge(l,p){for(var v="",E=(l=l.split("%s")).length-1,T=0;T<E;T++)v+=l[T]+(T<p.length?p[T]:"%s");un.call(this,v+l[E])}function Ie(l,p){throw new Ge("Failure"+(l?": "+l:""),Array.prototype.slice.call(arguments,1))}function je(l,p){this.c=l,this.f=p,this.b=0,this.a=null}function xn(l,p){l.f(p),100>l.b&&(l.b++,p.next=l.a,l.a=p)}function wn(){this.b=this.a=null}et=Qt("__EID__")?"__EID__":void 0,te(un,Error),un.prototype.name="CustomError",te(Ge,un),Ge.prototype.name="AssertionError",je.prototype.get=function(){if(0<this.b){this.b--;var l=this.a;this.a=l.next,l.next=null}else l=this.c();return l};var go=new je(function(){return new ks},function(l){l.reset()});function Ms(){var l=ad,p=null;return l.a&&(p=l.a,l.a=l.a.next,l.a||(l.b=null),p.next=null),p}function ks(){this.next=this.b=this.a=null}wn.prototype.add=function(l,p){var v=go.get();v.set(l,p),this.b?this.b.next=v:this.a=v,this.b=v},ks.prototype.set=function(l,p){this.a=l,this.b=p,this.next=null},ks.prototype.reset=function(){this.next=this.b=this.a=null};var Ku=Array.prototype.indexOf?function(l,p){return Array.prototype.indexOf.call(l,p,void 0)}:function(l,p){if("string"==typeof l)return"string"!=typeof p||1!=p.length?-1:l.indexOf(p,0);for(var v=0;v<l.length;v++)if(v in l&&l[v]===p)return v;return-1},Mn=Array.prototype.forEach?function(l,p,v){Array.prototype.forEach.call(l,p,v)}:function(l,p,v){for(var E=l.length,T="string"==typeof l?l.split(""):l,R=0;R<E;R++)R in T&&p.call(v,T[R],R,l)},Jh=Array.prototype.filter?function(l,p){return Array.prototype.filter.call(l,p,void 0)}:function(l,p){for(var v=l.length,E=[],T=0,R="string"==typeof l?l.split(""):l,P=0;P<v;P++)if(P in R){var U=R[P];p.call(void 0,U,P,l)&&(E[T++]=U)}return E},Kt=Array.prototype.map?function(l,p){return Array.prototype.map.call(l,p,void 0)}:function(l,p){for(var v=l.length,E=Array(v),T="string"==typeof l?l.split(""):l,R=0;R<v;R++)R in T&&(E[R]=p.call(void 0,T[R],R,l));return E},on=Array.prototype.some?function(l,p){return Array.prototype.some.call(l,p,void 0)}:function(l,p){for(var v=l.length,E="string"==typeof l?l.split(""):l,T=0;T<v;T++)if(T in E&&p.call(void 0,E[T],T,l))return!0;return!1};function Gn(l,p){return 0<=Ku(l,p)}function sr(l,p){var v;return(v=0<=(p=Ku(l,p)))&&Array.prototype.splice.call(l,p,1),v}function mr(l,p){!function Jr(l,p){for(var v="string"==typeof l?l.split(""):l,E=l.length-1;0<=E;--E)E in v&&p.call(void 0,v[E],E,l)}(l,function(E,T){p.call(void 0,E,T,l)&&Array.prototype.splice.call(l,T,1)})}function ui(l){return Array.prototype.concat.apply([],arguments)}function yn(l){var p=l.length;if(0<p){for(var v=Array(p),E=0;E<p;E++)v[E]=l[E];return v}return[]}var Lo,Ra=String.prototype.trim?function(l){return l.trim()}:function(l){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(l)[1]},ss=/&/g,Zh=/</g,Di=/>/g,ia=/"/g,Km=/'/g,Kc=/\x00/g,qf=/[\x00&<>"']/;function Ln(l,p){return-1!=l.indexOf(p)}function Rs(l,p){return l<p?-1:l>p?1:0}e:{var Wu=G.navigator;if(Wu){var Qu=Wu.userAgent;if(Qu){Lo=Qu;break e}}Lo=""}function $n(l){return Ln(Lo,l)}function Oa(l,p){for(var v in l)p.call(void 0,l[v],v,l)}function K(l){for(var p in l)return!1;return!0}function $(l){var v,p={};for(v in l)p[v]=l[v];return p}var J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function re(l,p){for(var v,E,T=1;T<arguments.length;T++){for(v in E=arguments[T])l[v]=E[v];for(var R=0;R<J.length;R++)v=J[R],Object.prototype.hasOwnProperty.call(E,v)&&(l[v]=E[v])}}function W(l,p){e:{try{var v=l&&l.ownerDocument,E=v&&(v.defaultView||v.parentWindow);if((E=E||G).Element&&E.Location){var T=E;break e}}catch(P){}T=null}if(T&&void 0!==T[p]&&(!l||!(l instanceof T[p])&&(l instanceof T.Location||l instanceof T.Element))){if(Ct(l))try{var R=l.constructor.displayName||l.constructor.name||Object.prototype.toString.call(l)}catch(P){R="<object could not be stringified>"}else R=void 0===l?"undefined":null===l?"null":typeof l;Ie("Argument is not a %s (or a non-Element, non-Location mock); got: %s",p,R)}}function Re(l,p){this.a=l===fn&&p||"",this.b=Jt}function gt(l){return l instanceof Re&&l.constructor===Re&&l.b===Jt?l.a:(Ie("expected object of type Const, got '"+l+"'"),"type_error:Const")}Re.prototype.ta=!0,Re.prototype.sa=function(){return this.a},Re.prototype.toString=function(){return"Const{"+this.a+"}"};var sn,Jt={},fn={};function Zr(){if(void 0===sn){var l=null,p=G.trustedTypes;if(p&&p.createPolicy){try{l=p.createPolicy("goog#html",{createHTML:_e,createScript:_e,createScriptURL:_e})}catch(v){G.console&&G.console.error(v.message)}sn=l}else sn=l}return sn}function Zt(l,p){this.a=p===Os?l:""}function Ht(l){return l instanceof Zt&&l.constructor===Zt?l.a:(Ie("expected object of type TrustedResourceUrl, got '"+l+"' of type "+Ut(l)),"type_error:TrustedResourceUrl")}function Bo(l,p){var v=gt(l);if(!Wc.test(v))throw Error("Invalid TrustedResourceUrl format: "+v);return function oa(l){var p=Zr();return new Zt(l=p?p.createScriptURL(l):l,Os)}(l=v.replace(nr,function(E,T){if(!Object.prototype.hasOwnProperty.call(p,T))throw Error('Found marker, "'+T+'", in format string, "'+v+'", but no valid label mapping found in args: '+JSON.stringify(p));return(E=p[T])instanceof Re?gt(E):encodeURIComponent(String(E))}))}Zt.prototype.ta=!0,Zt.prototype.sa=function(){return this.a.toString()},Zt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var nr=/%{(\w+)}/g,Wc=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Os={};function gr(l,p){this.a=p===Yu?l:""}function Na(l){return l instanceof gr&&l.constructor===gr?l.a:(Ie("expected object of type SafeUrl, got '"+l+"' of type "+Ut(l)),"type_error:SafeUrl")}gr.prototype.ta=!0,gr.prototype.sa=function(){return this.a.toString()},gr.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Qc=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,zl=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,as=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function cu(l){if(l instanceof gr)return l;if(l="object"==typeof l&&l.ta?l.sa():String(l),as.test(l))l=new gr(l,Yu);else{var p=(l=(l=String(l)).replace(/(%0A|%0D)/g,"")).match(zl);l=p&&Qc.test(p[1])?new gr(l,Yu):null}return l}function Yc(l){return l instanceof gr?l:(l="object"==typeof l&&l.ta?l.sa():String(l),as.test(l)||(l="about:invalid#zClosurez"),new gr(l,Yu))}var Yu={},Xc=new gr("about:invalid#zClosurez",Yu);function Pa(l,p,v){this.a=v===td?l:""}Pa.prototype.ta=!0,Pa.prototype.sa=function(){return this.a.toString()},Pa.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var td={};function Xu(l,p,v,E){return l=l instanceof gr?l:Yc(l),p=p||G,v=v instanceof Re?gt(v):v||"",p.open(Na(l),v,E,void 0)}function Ju(l,p){for(var v=l.split("%s"),E="",T=Array.prototype.slice.call(arguments,1);T.length&&1<v.length;)E+=v.shift()+T.shift();return E+v.join("%s")}function wr(l){return qf.test(l)&&(-1!=l.indexOf("&")&&(l=l.replace(ss,"&amp;")),-1!=l.indexOf("<")&&(l=l.replace(Zh,"&lt;")),-1!=l.indexOf(">")&&(l=l.replace(Di,"&gt;")),-1!=l.indexOf('"')&&(l=l.replace(ia,"&quot;")),-1!=l.indexOf("'")&&(l=l.replace(Km,"&#39;")),-1!=l.indexOf("\0")&&(l=l.replace(Kc,"&#0;"))),l}function Fa(l){return Fa[" "](l),l}Fa[" "]=He;var sa,l,rd=$n("Opera"),yo=$n("Trident")||$n("MSIE"),cn=$n("Edge"),La=cn||yo,vn=$n("Gecko")&&!(Ln(Lo.toLowerCase(),"webkit")&&!$n("Edge"))&&!($n("Trident")||$n("MSIE"))&&!$n("Edge"),Vo=Ln(Lo.toLowerCase(),"webkit")&&!$n("Edge");function id(){var l=G.document;return l?l.documentMode:void 0}e:{var xt="",aa=(l=Lo,vn?/rv:([^\);]+)(\)|;)/.exec(l):cn?/Edge\/([\d\.]+)/.exec(l):yo?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(l):Vo?/WebKit\/(\S+)/.exec(l):rd?/(?:Version)[ \/]?(\S+)/.exec(l):void 0);if(aa&&(xt=aa?aa[1]:""),yo){var od=id();if(null!=od&&od>parseFloat(xt)){sa=String(od);break e}}sa=xt}var Mt={};function Jc(l){return function ei(l,p){var v=Mt;return Object.prototype.hasOwnProperty.call(v,l)?v[l]:v[l]=p(l)}(l,function(){for(var p=0,v=Ra(String(sa)).split("."),E=Ra(String(l)).split("."),T=Math.max(v.length,E.length),R=0;0==p&&R<T;R++){var P=v[R]||"",U=E[R]||"";do{if(P=/(\d*)(\D*)(.*)/.exec(P)||["","","",""],U=/(\d*)(\D*)(.*)/.exec(U)||["","","",""],0==P[0].length&&0==U[0].length)break;p=Rs(0==P[1].length?0:parseInt(P[1],10),0==U[1].length?0:parseInt(U[1],10))||Rs(0==P[2].length,0==U[2].length)||Rs(P[2],U[2]),P=P[3],U=U[3]}while(0==p)}return 0<=p})}var us=G.document&&yo&&(id()||parseInt(sa,10))||void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(l){}var zf=!yo||9<=Number(us);function Zu(l){var p=document;return"string"==typeof l?p.getElementById(l):l}function ec(l,p){Oa(p,function(v,E){v&&"object"==typeof v&&v.ta&&(v=v.sa()),"style"==E?l.style.cssText=v:"class"==E?l.className=v:"for"==E?l.htmlFor=v:Br.hasOwnProperty(E)?l.setAttribute(Br[E],v):0==E.lastIndexOf("aria-",0)||0==E.lastIndexOf("data-",0)?l.setAttribute(E,v):l[E]=v})}var nc,el,Br={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function tc(l,p,v){function E(U){U&&p.appendChild("string"==typeof U?l.createTextNode(U):U)}for(var T=2;T<v.length;T++){var R=v[T];if(!Gt(R)||Ct(R)&&0<R.nodeType)E(R);else{e:{if(R&&"number"==typeof R.length){if(Ct(R)){var P="function"==typeof R.item||"string"==typeof R.item;break e}if(Lt(R)){P="function"==typeof R.item;break e}}P=!1}Mn(P?yn(R):R,E)}}}function Zc(l,p){return p=String(p),"application/xhtml+xml"===l.contentType&&(p=p.toLowerCase()),l.createElement(p)}function vo(l){G.setTimeout(function(){throw l},0)}function sd(l,p){el||function Gl(){if(G.Promise&&G.Promise.resolve){var l=G.Promise.resolve(void 0);el=function(){l.then($f)}}else el=function(){var p=$f;!Lt(G.setImmediate)||G.Window&&G.Window.prototype&&!$n("Edge")&&G.Window.prototype.setImmediate==G.setImmediate?(nc||(nc=function Wm(){var l=G.MessageChannel;if(void 0===l&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!$n("Presto")&&(l=function(){var T=Zc(document,"IFRAME");T.style.display="none",document.documentElement.appendChild(T);var R=T.contentWindow;(T=R.document).open(),T.close();var P="callImmediate"+Math.random(),U="file:"==R.location.protocol?"*":R.location.protocol+"//"+R.location.host;T=at(function(le){("*"==U||le.origin==U)&&le.data==P&&this.port1.onmessage()},this),R.addEventListener("message",T,!1),this.port1={},this.port2={postMessage:function(){R.postMessage(P,U)}}}),void 0!==l&&!$n("Trident")&&!$n("MSIE")){var p=new l,v={},E=v;return p.port1.onmessage=function(){if(void 0!==v.next){var T=(v=v.next).Hb;v.Hb=null,T()}},function(T){E.next={Hb:T},E=E.next,p.port2.postMessage(0)}}return function(T){G.setTimeout(T,0)}}()),nc(p)):G.setImmediate(p)}}(),tl||(el(),tl=!0),ad.add(l,p)}var tl=!1,ad=new wn;function $f(){for(var l;l=Ms();){try{l.a.call(l.b)}catch(p){vo(p)}xn(go,l)}tl=!1}function ft(l,p){if(this.a=pn,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,l!=He)try{var v=this;l.call(p,function(E){ne(v,ua,E)},function(E){if(!(E instanceof Vt))try{throw E instanceof Error?E:Error("Promise rejected.")}catch(T){}ne(v,_o,E)})}catch(E){ne(this,_o,E)}}var pn=0,ua=2,_o=3;function $l(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}$l.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Xe=new je(function(){return new $l},function(l){l.reset()});function Ba(l,p,v){var E=Xe.get();return E.g=l,E.b=p,E.f=v,E}function Be(l){if(l instanceof ft)return l;var p=new ft(He);return ne(p,ua,l),p}function Kn(l){return new ft(function(p,v){v(l)})}function nl(l,p,v){be(l,p,v,null)||sd(dn(p,l))}function x(l){return new ft(function(p){var v=l.length,E=[];if(v)for(var T=function(U,le,c){v--,E[U]=le?{Qb:!0,value:c}:{Qb:!1,reason:c},0==v&&p(E)},R=0;R<l.length;R++)nl(l[R],dn(T,R,!0),dn(T,R,!1));else p(E)})}function B(l,p){if(l.a==pn)if(l.c){var v=l.c;if(v.b){for(var E=0,T=null,R=null,P=v.b;P&&(P.c||(E++,P.a==l&&(T=P),!(T&&1<E)));P=P.next)T||(R=P);T&&(v.a==pn&&1==E?B(v,p):(R?((E=R).next==v.f&&(v.f=E),E.next=E.next.next):it(v),lt(v,T,_o,p)))}l.c=null}else ne(l,_o,p)}function H(l,p){l.b||l.a!=ua&&l.a!=_o||Fe(l),l.f?l.f.next=p:l.b=p,l.f=p}function Q(l,p,v,E){var T=Ba(null,null,null);return T.a=new ft(function(R,P){T.g=p?function(U){try{var le=p.call(E,U);R(le)}catch(c){P(c)}}:R,T.b=v?function(U){try{var le=v.call(E,U);void 0===le&&U instanceof Vt?P(U):R(le)}catch(c){P(c)}}:P}),T.a.c=l,H(l,T),T.a}function ne(l,p,v){l.a==pn&&(l===v&&(p=_o,v=new TypeError("Promise cannot resolve to itself")),l.a=1,be(v,l.$c,l.ad,l)||(l.i=v,l.a=p,l.c=null,Fe(l),p!=_o||v instanceof Vt||function Sr(l,p){l.g=!0,sd(function(){l.g&&ar.call(null,p)})}(l,v)))}function be(l,p,v,E){if(l instanceof ft)return H(l,Ba(p||He,v||null,E)),!0;if(wt(l))return l.then(p,v,E),!0;if(Ct(l))try{var T=l.then;if(Lt(T))return function fe(l,p,v,E,T){function R(le){U||(U=!0,E.call(T,le))}var U=!1;try{p.call(l,function P(le){U||(U=!0,v.call(T,le))},R)}catch(le){R(le)}}(l,T,p,v,E),!0}catch(R){return v.call(E,R),!0}return!1}function Fe(l){l.h||(l.h=!0,sd(l.gc,l))}function it(l){var p=null;return l.b&&(l.b=(p=l.b).next,p.next=null),l.b||(l.f=null),p}function lt(l,p,v,E){if(v==_o&&p.b&&!p.c)for(;l&&l.g;l=l.c)l.g=!1;if(p.a)p.a.c=null,_t(p,v,E);else try{p.c?p.g.call(p.f):_t(p,v,E)}catch(T){ar.call(null,T)}xn(Xe,p)}function _t(l,p,v){p==ua?l.g.call(l.f,v):l.b&&l.b.call(l.f,v)}ft.prototype.then=function(l,p,v){return Q(this,Lt(l)?l:null,Lt(p)?p:null,v)},ft.prototype.$goog_Thenable=!0,(S=ft.prototype).oa=function(l,p){return(l=Ba(l,l,p)).c=!0,H(this,l),this},S.o=function(l,p){return Q(this,null,l,p)},S.cancel=function(l){if(this.a==pn){var p=new Vt(l);sd(function(){B(this,p)},this)}},S.$c=function(l){this.a=pn,ne(this,ua,l)},S.ad=function(l){this.a=pn,ne(this,_o,l)},S.gc=function(){for(var l;l=it(this);)lt(this,l,this.a,this.i);this.h=!1};var ar=vo;function Vt(l){un.call(this,l)}function ur(){0!=Vr&&(jr[Lr(this)]=this),this.ya=this.ya,this.pa=this.pa}te(Vt,un),Vt.prototype.name="cancel";var Vr=0,jr={};function Fi(l){if(!l.ya&&(l.ya=!0,l.Da(),0!=Vr)){var p=Lr(l);if(0!=Vr&&l.pa&&0<l.pa.length)throw Error(l+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete jr[p]}}ur.prototype.ya=!1,ur.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var jo=Object.freeze||function(l){return l},Ns=!yo||9<=Number(us),rl=yo&&!Jc("9"),ln=function(){if(!G.addEventListener||!Object.defineProperty)return!1;var l=!1,p=Object.defineProperty({},"passive",{get:function(){l=!0}});try{G.addEventListener("test",He,p),G.removeEventListener("test",He,p)}catch(v){}return l}();function Ur(l,p){this.type=l,this.b=this.target=p,this.defaultPrevented=!1}function ci(l,p){if(Ur.call(this,l?l.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,l){var v=this.type=l.type,E=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.b=p,p=l.relatedTarget){if(vn){e:{try{Fa(p.nodeName);var T=!0;break e}catch(R){}T=!1}T||(p=null)}}else"mouseover"==v?p=l.fromElement:"mouseout"==v&&(p=l.toElement);this.relatedTarget=p,E?(this.clientX=void 0!==E.clientX?E.clientX:E.pageX,this.clientY=void 0!==E.clientY?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=void 0!==l.clientX?l.clientX:l.pageX,this.clientY=void 0!==l.clientY?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType="string"==typeof l.pointerType?l.pointerType:li[l.pointerType]||"",this.a=l,l.defaultPrevented&&this.preventDefault()}}Ur.prototype.preventDefault=function(){this.defaultPrevented=!0},te(ci,Ur);var li=jo({2:"touch",3:"pen",4:"mouse"});ci.prototype.preventDefault=function(){ci.bb.preventDefault.call(this);var l=this.a;if(l.preventDefault)l.preventDefault();else if(l.returnValue=!1,rl)try{(l.ctrlKey||112<=l.keyCode&&123>=l.keyCode)&&(l.keyCode=-1)}catch(p){}},ci.prototype.g=function(){return this.a};var En="closure_listenable_"+(1e6*Math.random()|0),ud=0;function rc(l,p,v,E,T){this.listener=l,this.proxy=null,this.src=p,this.type=v,this.capture=!!E,this.Wa=T,this.key=++ud,this.wa=this.Qa=!1}function Kl(l){l.wa=!0,l.listener=null,l.proxy=null,l.src=null,l.Wa=null}function cd(l){this.src=l,this.a={},this.b=0}function Ps(l,p){var v=p.type;v in l.a&&sr(l.a[v],p)&&(Kl(p),0==l.a[v].length&&(delete l.a[v],l.b--))}function il(l,p,v,E){for(var T=0;T<l.length;++T){var R=l[T];if(!R.wa&&R.listener==p&&R.capture==!!v&&R.Wa==E)return T}return-1}cd.prototype.add=function(l,p,v,E,T){var R=l.toString();(l=this.a[R])||(l=this.a[R]=[],this.b++);var P=il(l,p,E,T);return-1<P?(p=l[P],v||(p.Qa=!1)):((p=new rc(p,this.src,R,!!E,T)).Qa=v,l.push(p)),p};var Kf="closure_lm_"+(1e6*Math.random()|0),Ar={};function bo(l,p,v,E,T){if(E&&E.once)kn(l,p,v,E,T);else if(Array.isArray(p))for(var R=0;R<p.length;R++)bo(l,p[R],v,E,T);else v=Va(v),l&&l[En]?Wl(l,p,v,Ct(E)?!!E.capture:!!E,T):Wf(l,p,v,!1,E,T)}function Wf(l,p,v,E,T,R){if(!p)throw Error("Invalid event type");var P=Ct(T)?!!T.capture:!!T,U=Fs(l);if(U||(l[Kf]=U=new cd(l)),!(v=U.add(p,v,E,P,R)).proxy)if(E=function Qm(){var l=ca,p=Ns?function(v){return l.call(p.src,p.listener,v)}:function(v){if(!(v=l.call(p.src,p.listener,v)))return v};return p}(),v.proxy=E,E.src=l,E.listener=v,l.addEventListener)ln||(T=P),void 0===T&&(T=!1),l.addEventListener(p.toString(),E,T);else if(l.attachEvent)l.attachEvent(Bn(p.toString()),E);else{if(!l.addListener||!l.removeListener)throw Error("addEventListener and attachEvent are unavailable.");l.addListener(E)}}function kn(l,p,v,E,T){if(Array.isArray(p))for(var R=0;R<p.length;R++)kn(l,p[R],v,E,T);else v=Va(v),l&&l[En]?yr(l,p,v,Ct(E)?!!E.capture:!!E,T):Wf(l,p,v,!0,E,T)}function cs(l,p,v,E,T){if(Array.isArray(p))for(var R=0;R<p.length;R++)cs(l,p[R],v,E,T);else E=Ct(E)?!!E.capture:!!E,v=Va(v),l&&l[En]?(l=l.v,(p=String(p).toString())in l.a&&-1<(v=il(R=l.a[p],v,E,T))&&(Kl(R[v]),Array.prototype.splice.call(R,v,1),0==R.length&&(delete l.a[p],l.b--))):l&&(l=Fs(l))&&(p=l.a[p.toString()],l=-1,p&&(l=il(p,v,E,T)),(v=-1<l?p[l]:null)&&Ym(v))}function Ym(l){if("number"!=typeof l&&l&&!l.wa){var p=l.src;if(p&&p[En])Ps(p.v,l);else{var v=l.type,E=l.proxy;p.removeEventListener?p.removeEventListener(v,E,l.capture):p.detachEvent?p.detachEvent(Bn(v),E):p.addListener&&p.removeListener&&p.removeListener(E),(v=Fs(p))?(Ps(v,l),0==v.b&&(v.src=null,p[Kf]=null)):Kl(l)}}}function Bn(l){return l in Ar?Ar[l]:Ar[l]="on"+l}function Ii(l,p,v,E){var T=!0;if((l=Fs(l))&&(p=l.a[p.toString()]))for(p=p.concat(),l=0;l<p.length;l++){var R=p[l];R&&R.capture==v&&!R.wa&&(R=Hr(R,E),T=T&&!1!==R)}return T}function Hr(l,p){var v=l.listener,E=l.Wa||l.src;return l.Qa&&Ym(l),v.call(E,p)}function ca(l,p){if(l.wa)return!0;if(!Ns){if(!p)e:{p=["window","event"];for(var v=G,E=0;E<p.length;E++)if(null==(v=v[p[E]])){p=null;break e}p=v}if(p=new ci(E=p,this),v=!0,!(0>E.keyCode||null!=E.returnValue)){e:{var T=!1;if(0==E.keyCode)try{E.keyCode=-1;break e}catch(P){T=!0}(T||null==E.returnValue)&&(E.returnValue=!0)}for(E=[],T=p.b;T;T=T.parentNode)E.push(T);for(l=l.type,T=E.length-1;0<=T;T--){p.b=E[T];var R=Ii(E[T],l,!0,p);v=v&&R}for(T=0;T<E.length;T++)p.b=E[T],R=Ii(E[T],l,!1,p),v=v&&R}return v}return Hr(l,new ci(p,this))}function Fs(l){return(l=l[Kf])instanceof cd?l:null}var wo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Va(l){return Lt(l)?l:(l[wo]||(l[wo]=function(p){return l.handleEvent(p)}),l[wo])}function qr(){ur.call(this),this.v=new cd(this),this.bc=this,this.hb=null}function Wl(l,p,v,E,T){l.v.add(String(p),v,!1,E,T)}function yr(l,p,v,E,T){l.v.add(String(p),v,!0,E,T)}function la(l,p,v,E){if(!(p=l.v.a[String(p)]))return!0;p=p.concat();for(var T=!0,R=0;R<p.length;++R){var P=p[R];if(P&&!P.wa&&P.capture==v){var U=P.listener,le=P.Wa||P.src;P.Qa&&Ps(l.v,P),T=!1!==U.call(le,E)&&T}}return T&&!E.defaultPrevented}function Ti(l,p,v){if(Lt(l))v&&(l=at(l,v));else{if(!l||"function"!=typeof l.handleEvent)throw Error("Invalid listener argument");l=at(l.handleEvent,l)}return 2147483647<Number(p)?-1:G.setTimeout(l,p||0)}function Ql(l){var p=null;return new ft(function(v,E){-1==(p=Ti(function(){v(void 0)},l))&&E(Error("Failed to schedule timer."))}).o(function(v){throw G.clearTimeout(p),v})}function ls(l){if(l.X&&"function"==typeof l.X)return l.X();if("string"==typeof l)return l.split("");if(Gt(l)){for(var p=[],v=l.length,E=0;E<v;E++)p.push(l[E]);return p}for(E in p=[],v=0,l)p[v++]=l[E];return p}function ze(l){if(l.Y&&"function"==typeof l.Y)return l.Y();if(!l.X||"function"!=typeof l.X){if(Gt(l)||"string"==typeof l){var p=[];l=l.length;for(var v=0;v<l;v++)p.push(v);return p}for(var E in p=[],v=0,l)p[v++]=E;return p}}function Rn(l,p){this.b={},this.a=[],this.c=0;var v=arguments.length;if(1<v){if(v%2)throw Error("Uneven number of arguments");for(var E=0;E<v;E+=2)this.set(arguments[E],arguments[E+1])}else if(l)if(l instanceof Rn)for(v=l.Y(),E=0;E<v.length;E++)this.set(v[E],l.get(v[E]));else for(E in l)this.set(E,l[E])}function Zi(l){if(l.c!=l.a.length){for(var p=0,v=0;p<l.a.length;){var E=l.a[p];eo(l.b,E)&&(l.a[v++]=E),p++}l.a.length=v}if(l.c!=l.a.length){var T={};for(v=p=0;p<l.a.length;)eo(T,E=l.a[p])||(l.a[v++]=E,T[E]=1),p++;l.a.length=v}}function eo(l,p){return Object.prototype.hasOwnProperty.call(l,p)}te(qr,ur),qr.prototype[En]=!0,qr.prototype.addEventListener=function(l,p,v,E){bo(this,l,p,v,E)},qr.prototype.removeEventListener=function(l,p,v,E){cs(this,l,p,v,E)},qr.prototype.dispatchEvent=function(l){var p,v=this.hb;if(v)for(p=[];v;v=v.hb)p.push(v);v=this.bc;var E=l.type||l;if("string"==typeof l)l=new Ur(l,v);else if(l instanceof Ur)l.target=l.target||v;else{var T=l;re(l=new Ur(E,v),T)}if(T=!0,p)for(var R=p.length-1;0<=R;R--){var P=l.b=p[R];T=la(P,E,!0,l)&&T}if(T=la(P=l.b=v,E,!0,l)&&T,T=la(P,E,!1,l)&&T,p)for(R=0;R<p.length;R++)T=la(P=l.b=p[R],E,!1,l)&&T;return T},qr.prototype.Da=function(){if(qr.bb.Da.call(this),this.v){var v,l=this.v;for(v in l.a){for(var E=l.a[v],T=0;T<E.length;T++)Kl(E[T]);delete l.a[v],l.b--}}this.hb=null},(S=Rn.prototype).X=function(){Zi(this);for(var l=[],p=0;p<this.a.length;p++)l.push(this.b[this.a[p]]);return l},S.Y=function(){return Zi(this),this.a.concat()},S.clear=function(){this.b={},this.c=this.a.length=0},S.get=function(l,p){return eo(this.b,l)?this.b[l]:p},S.set=function(l,p){eo(this.b,l)||(this.c++,this.a.push(l)),this.b[l]=p},S.forEach=function(l,p){for(var v=this.Y(),E=0;E<v.length;E++){var T=v[E],R=this.get(T);l.call(p,R,T,this)}};var ti=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Vn(l,p){var v;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,l instanceof Vn?(this.i=void 0!==p?p:l.i,lu(this,l.c),this.l=l.l,this.a=l.a,Ls(this,l.g),this.f=l.f,kt(this,iv(l.b)),this.h=l.h):l&&(v=String(l).match(ti))?(this.i=!!p,lu(this,v[1]||"",!0),this.l=ni(v[2]||""),this.a=ni(v[3]||"",!0),Ls(this,v[4]),this.f=ni(v[5]||"",!0),kt(this,v[6]||"",!0),this.h=ni(v[7]||"")):(this.i=!!p,this.b=new fi(null,this.i))}function lu(l,p,v){l.c=v?ni(p,!0):p,l.c&&(l.c=l.c.replace(/:$/,""))}function Ls(l,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);l.g=p}else l.g=null}function kt(l,p,v){p instanceof fi?(l.b=p,function ov(l,p){p&&!l.f&&(ha(l),l.c=null,l.a.forEach(function(v,E){var T=E.toLowerCase();E!=T&&(Uo(this,E),oc(this,T,v))},l)),l.f=p}(l.b,l.i)):(v||(p=Bs(p,rv)),l.b=new fi(p,l.i))}function vr(l,p,v){l.b.set(p,v)}function hi(l,p){return l.b.get(p)}function di(l){return l instanceof Vn?new Vn(l):new Vn(l,void 0)}function ja(l,p,v,E){var T=new Vn(null,void 0);return l&&lu(T,l),p&&(T.a=p),v&&Ls(T,v),E&&(T.f=E),T}function ni(l,p){return l?p?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Bs(l,p,v){return"string"==typeof l?(l=encodeURI(l).replace(p,Yl),v&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Yl(l){return"%"+((l=l.charCodeAt(0))>>4&15).toString(16)+(15&l).toString(16)}Vn.prototype.toString=function(){var l=[],p=this.c;p&&l.push(Bs(p,hs,!0),":");var v=this.a;return(v||"file"==p)&&(l.push("//"),(p=this.l)&&l.push(Bs(p,hs,!0),"@"),l.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(v=this.g)&&l.push(":",String(v))),(v=this.f)&&(this.a&&"/"!=v.charAt(0)&&l.push("/"),l.push(Bs(v,"/"==v.charAt(0)?nv:On,!0))),(v=this.b.toString())&&l.push("?",v),(v=this.h)&&l.push("#",Bs(v,Vs)),l.join("")},Vn.prototype.resolve=function(l){var p=new Vn(this),v=!!l.c;v?lu(p,l.c):v=!!l.l,v?p.l=l.l:v=!!l.a,v?p.a=l.a:v=null!=l.g;var E=l.f;if(v)Ls(p,l.g);else if(v=!!l.f){if("/"!=E.charAt(0))if(this.a&&!this.f)E="/"+E;else{var T=p.f.lastIndexOf("/");-1!=T&&(E=p.f.substr(0,T+1)+E)}if(".."==(T=E)||"."==T)E="";else if(Ln(T,"./")||Ln(T,"/.")){E=0==T.lastIndexOf("/",0),T=T.split("/");for(var R=[],P=0;P<T.length;){var U=T[P++];"."==U?E&&P==T.length&&R.push(""):".."==U?((1<R.length||1==R.length&&""!=R[0])&&R.pop(),E&&P==T.length&&R.push("")):(R.push(U),E=!0)}E=R.join("/")}else E=T}return v?p.f=E:v=""!==l.b.toString(),v?kt(p,iv(l.b)):v=!!l.h,v&&(p.h=l.h),p};var hs=/[#\/\?@]/g,On=/[#\?:]/g,nv=/[#\?]/g,rv=/[#\?@]/g,Vs=/#/g;function fi(l,p){this.b=this.a=null,this.c=l||null,this.f=!!p}function ha(l){l.a||(l.a=new Rn,l.b=0,l.c&&function Eo(l,p){if(l){l=l.split("&");for(var v=0;v<l.length;v++){var E=l[v].indexOf("="),T=null;if(0<=E){var R=l[v].substring(0,E);T=l[v].substring(E+1)}else R=l[v];p(R,T?decodeURIComponent(T.replace(/\+/g," ")):"")}}}(l.c,function(p,v){l.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}function ic(l){var p=ze(l);if(void 0===p)throw Error("Keys are undefined");var v=new fi(null,void 0);l=ls(l);for(var E=0;E<p.length;E++){var T=p[E],R=l[E];Array.isArray(R)?oc(v,T,R):v.add(T,R)}return v}function Uo(l,p){ha(l),p=ol(l,p),eo(l.a.b,p)&&(l.c=null,l.b-=l.a.get(p).length,eo((l=l.a).b,p)&&(delete l.b[p],l.c--,l.a.length>2*l.c&&Zi(l)))}function Ho(l,p){return ha(l),p=ol(l,p),eo(l.a.b,p)}function oc(l,p,v){Uo(l,p),0<v.length&&(l.c=null,l.a.set(ol(l,p),yn(v)),l.b+=v.length)}function iv(l){var p=new fi;return p.c=l.c,l.a&&(p.a=new Rn(l.a),p.b=l.b),p}function ol(l,p){return p=String(p),l.f&&(p=p.toLowerCase()),p}function sv(l){var p=[];return qo(new Xm,l,p),p.join("")}function Xm(){}function qo(l,p,v){if(null==p)v.push("null");else{if("object"==typeof p){if(Array.isArray(p)){var E=p;p=E.length,v.push("[");for(var T="",R=0;R<p;R++)v.push(T),qo(l,E[R],v),T=",";return void v.push("]")}if(!(p instanceof String||p instanceof Number||p instanceof Boolean)){for(E in v.push("{"),T="",p)Object.prototype.hasOwnProperty.call(p,E)&&"function"!=typeof(R=p[E])&&(v.push(T),Xl(E,v),v.push(":"),qo(l,R,v),T=",");return void v.push("}")}p=p.valueOf()}switch(typeof p){case"string":Xl(p,v);break;case"number":v.push(isFinite(p)&&!isNaN(p)?String(p):"null");break;case"boolean":v.push(String(p));break;case"function":v.push("null");break;default:throw Error("Unknown type: "+typeof p)}}}(S=fi.prototype).add=function(l,p){ha(this),this.c=null,l=ol(this,l);var v=this.a.get(l);return v||this.a.set(l,v=[]),v.push(p),this.b+=1,this},S.clear=function(){this.a=this.c=null,this.b=0},S.forEach=function(l,p){ha(this),this.a.forEach(function(v,E){Mn(v,function(T){l.call(p,T,E,this)},this)},this)},S.Y=function(){ha(this);for(var l=this.a.X(),p=this.a.Y(),v=[],E=0;E<p.length;E++)for(var T=l[E],R=0;R<T.length;R++)v.push(p[E]);return v},S.X=function(l){ha(this);var p=[];if("string"==typeof l)Ho(this,l)&&(p=ui(p,this.a.get(ol(this,l))));else{l=this.a.X();for(var v=0;v<l.length;v++)p=ui(p,l[v])}return p},S.set=function(l,p){return ha(this),this.c=null,Ho(this,l=ol(this,l))&&(this.b-=this.a.get(l).length),this.a.set(l,[p]),this.b+=1,this},S.get=function(l,p){return l&&0<(l=this.X(l)).length?String(l[0]):p},S.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var l=[],p=this.a.Y(),v=0;v<p.length;v++){var E=p[v],T=encodeURIComponent(String(E));E=this.X(E);for(var R=0;R<E.length;R++){var P=T;""!==E[R]&&(P+="="+encodeURIComponent(String(E[R]))),l.push(P)}}return this.c=l.join("&")};var av={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Rb=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Xl(l,p){p.push('"',l.replace(Rb,function(v){var E=av[v];return E||(E="\\u"+(65536|v.charCodeAt(0)).toString(16).substr(1),av[v]=E),E}),'"')}function Jm(){var l=jn();return yo&&!!us&&11==us||/Edge\/\d+/.test(l)}function hd(){return G.window&&G.window.location.href||self&&self.location&&self.location.href||""}function Qf(l,p){p=p||G.window;var v="about:blank";l&&(v=Na(cu(l)||Xc)),p.location.href=v}function uv(l,p){var E,v=[];for(E in l)E in p?typeof l[E]!=typeof p[E]?v.push(E):"object"==typeof l[E]&&null!=l[E]&&null!=p[E]?0<uv(l[E],p[E]).length&&v.push(E):l[E]!==p[E]&&v.push(E):v.push(E);for(E in p)E in l||v.push(E);return v}function Zm(l){return!!((l=(l||jn()).toLowerCase()).match(/android/)||l.match(/webos/)||l.match(/iphone|ipad|ipod/)||l.match(/blackberry/)||l.match(/windows phone/)||l.match(/iemobile/))}function sl(l){l=l||G.window;try{l.close()}catch(p){}}function dd(l,p,v){var E=Math.floor(1e9*Math.random()).toString();p=p||500,v=v||600;var T=(window.screen.availHeight-v)/2,R=(window.screen.availWidth-p)/2;for(P in p={width:p,height:v,top:0<T?T:0,left:0<R?R:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},v=jn().toLowerCase(),E&&(p.target=E,Ln(v,"crios/")&&(p.target="_blank")),mt(jn())==Jl&&(l=l||"http://localhost",p.scrollbars=!0),v=l||"",(l=p)||(l={}),E=window,p=v instanceof gr?v:cu(void 0!==v.href?v.href:String(v))||Xc,v=l.target||v.target,T=[],l)switch(P){case"width":case"height":case"top":case"left":T.push(P+"="+l[P]);break;case"target":case"noopener":case"noreferrer":break;default:T.push(P+"="+(l[P]?1:0))}var P=T.join(",");if(($n("iPhone")&&!$n("iPod")&&!$n("iPad")||$n("iPad")||$n("iPod"))&&E.navigator&&E.navigator.standalone&&v&&"_self"!=v?(W(P=Zc(document,"A"),"HTMLAnchorElement"),p=p instanceof gr?p:Yc(p),P.href=Na(p),P.setAttribute("target",v),l.noreferrer&&P.setAttribute("rel","noreferrer"),(l=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,E,1),P.dispatchEvent(l),P={}):l.noreferrer?(P=Xu("",E,v,P),l=Na(p),P&&(La&&Ln(l,";")&&(l="'"+l.replace(/'/g,"%27")+"'"),P.opener=null,l='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+wr(l)+'">',l=new Pa(l=(E=Zr())?E.createHTML(l):l,null,td),E=P.document)&&(E.write(function ed(l){return l instanceof Pa&&l.constructor===Pa?l.a:(Ie("expected object of type SafeHtml, got '"+l+"' of type "+Ut(l)),"type_error:SafeHtml")}(l)),E.close())):(P=Xu(p,E,v,P))&&l.noopener&&(P.opener=null),P)try{P.focus()}catch(U){}return P}var cv=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uI=/^[^@]+@[^@]+$/;function Co(){var l=null;return new ft(function(p){"complete"==G.document.readyState?p():(l=function(){p()},kn(window,"load",l))}).o(function(p){throw cs(window,"load",l),p})}function ge(l){return l=l||jn(),!("file:"!==Ot()&&"ionic:"!==Ot()||!l.toLowerCase().match(/iphone|ipad|ipod|android/))}function ds(){var l=G.window;try{return!(!l||l==l.top)}catch(p){return!1}}function pi(){return void 0!==G.WorkerGlobalScope&&"function"==typeof G.importScripts}function Se(){return me.Z.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":me.Z.INTERNAL.hasOwnProperty("node")?"Node":pi()?"Worker":"Browser"}function zr(){var l=Se();return"ReactNative"===l||"Node"===l}var Jl="Firefox";function mt(l){var p=l.toLowerCase();return Ln(p,"opera/")||Ln(p,"opr/")||Ln(p,"opios/")?"Opera":Ln(p,"iemobile")?"IEMobile":Ln(p,"msie")||Ln(p,"trident/")?"IE":Ln(p,"edge/")?"Edge":Ln(p,"firefox/")?Jl:Ln(p,"silk/")?"Silk":Ln(p,"blackberry")?"Blackberry":Ln(p,"webos")?"Webos":!Ln(p,"safari/")||Ln(p,"chrome/")||Ln(p,"crios/")||Ln(p,"android")?!Ln(p,"chrome/")&&!Ln(p,"crios/")||Ln(p,"edge/")?Ln(p,"android")?"Android":(l=l.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==l.length?l[1]:"Other":"Chrome":"Safari"}var Ue={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Zl(l,p){p=p||[];var T,v=[],E={};for(T in Ue)E[Ue[T]]=!0;for(T=0;T<p.length;T++)void 0!==E[p[T]]&&(delete E[p[T]],v.push(p[T]));return v.sort(),(p=v).length||(p=["FirebaseCore-web"]),"Browser"===(v=Se())?v=mt(E=jn()):"Worker"===v&&(v=mt(E=jn())+"-"+v),v+"/JsCore/"+l+"/"+p.join(",")}function jn(){return G.navigator&&G.navigator.userAgent||""}function st(l,p){l=l.split("."),p=p||G;for(var v=0;v<l.length&&"object"==typeof p&&null!=p;v++)p=p[l[v]];return v!=l.length&&(p=void 0),p}function hu(){try{var l=G.localStorage,p=ht();if(l)return l.setItem(p,"1"),l.removeItem(p),!Jm()||!!G.indexedDB}catch(v){return pi()&&!!G.indexedDB}return!1}function Ua(){return(Li()||"chrome-extension:"===Ot()||ge())&&!zr()&&hu()&&!pi()}function Li(){return"http:"===Ot()||"https:"===Ot()}function Ot(){return G.location&&G.location.protocol||null}function pd(l){return!(Zm(l=l||jn())||mt(l)==Jl)}function Cn(l){return void 0===l?null:sv(l)}function Yf(l){var v,p={};for(v in l)l.hasOwnProperty(v)&&null!=l[v]&&(p[v]=l[v]);return p}function al(l){if(null!==l)return JSON.parse(l)}function ht(l){return l||Math.floor(1e9*Math.random()).toString()}function lv(l){return!("Safari"==mt(l=l||jn())||l.toLowerCase().match(/iphone|ipad|ipod/))}function da(){var l=G.___jsl;if(l&&l.H)for(var p in l.H)if(l.H[p].r=l.H[p].r||[],l.H[p].L=l.H[p].L||[],l.H[p].r=l.H[p].L.concat(),l.CP)for(var v=0;v<l.CP.length;v++)l.CP[v]=null}function to(l,p){if(l>p)throw Error("Short delay should be less than long delay!");this.a=l,this.c=p,l=jn(),p=Se(),this.b=Zm(l)||"ReactNative"===p}function Wn(){var l=G.document;return!l||void 0===l.visibilityState||"visible"==l.visibilityState}function zo(l){try{var p=new Date(parseInt(l,10));if(!isNaN(p.getTime())&&!/[^0-9]/.test(l))return p.toUTCString()}catch(v){}return null}function cr(){return!(!st("fireauth.oauthhelper",G)&&!st("fireauth.iframe",G))}to.prototype.get=function(){var l=G.navigator;return!l||"boolean"!=typeof l.onLine||!Li()&&"chrome-extension:"!==Ot()&&void 0===l.connection||l.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var no,md={};function ul(l){md[l]||(md[l]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(l))}try{var cl={};Object.defineProperty(cl,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(cl,"abcd",{configurable:!0,enumerable:!0,value:2}),no=2==cl.abcd}catch(l){no=!1}function Je(l,p,v){no?Object.defineProperty(l,p,{configurable:!0,enumerable:!0,value:v}):l[p]=v}function pe(l,p){if(p)for(var v in p)p.hasOwnProperty(v)&&Je(l,v,p[v])}function Do(l){var p={};return pe(p,l),p}function sc(l){var p=l;if("object"==typeof l&&null!=l)for(var v in p="length"in l?[]:{},l)Je(p,v,sc(l[v]));return p}function yd(l){var p=l&&(l[Bi]?"phone":null);if(!(p&&l&&l[Yt]))throw new V("internal-error","Internal assert: invalid MultiFactorInfo object");Je(this,"uid",l[Yt]),Je(this,"displayName",l[Jf]||null);var v=null;l[ye]&&(v=new Date(l[ye]).toUTCString()),Je(this,"enrollmentTime",v),Je(this,"factorId",p)}function vd(l){try{var p=new Er(l)}catch(v){p=null}return p}yd.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Jf="displayName",ye="enrolledAt",Yt="mfaEnrollmentId",Bi="phoneInfo";function Er(l){yd.call(this,l),Je(this,"phoneNumber",l[Bi])}function tg(l){var p={},v=l[Zf],E=l[Pb],T=l[_d];if(l=vd(l[ro]),!T||T!=Vi&&T!=mi&&!v||T==mi&&!E||T==qa&&!l)throw Error("Invalid checkActionCode response!");T==mi?(p[gi]=v||null,p[Io]=v||null,p[du]=E):(p[gi]=E||null,p[Io]=E||null,p[du]=v||null),p[js]=l||null,Je(this,fu,T),Je(this,eh,sc(p))}te(Er,yd),Er.prototype.w=function(){var l=Er.bb.w.call(this);return l.phoneNumber=this.phoneNumber,l};var qa="REVERT_SECOND_FACTOR_ADDITION",Vi="EMAIL_SIGNIN",mi="VERIFY_AND_CHANGE_EMAIL",Zf="email",ro="mfaInfo",Pb="newEmail",_d="requestType",du="email",gi="fromEmail",js="multiFactorInfo",Io="previousEmail",eh="data",fu="operation";function ng(l){var p=hi(l=di(l),ep)||null,v=hi(l,hv)||null,E=hi(l,tp)||null;if(E=E&&nh[E]||null,!p||!v||!E)throw new V("argument-error",ep+", "+hv+"and "+tp+" are required in a valid action code URL.");pe(this,{apiKey:p,operation:E,code:v,continueUrl:hi(l,Fb)||null,languageCode:hi(l,rg)||null,tenantId:hi(l,th)||null})}var ep="apiKey",hv="oobCode",Fb="continueUrl",rg="languageCode",tp="mode",th="tenantId",nh={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:qa,signIn:Vi,verifyAndChangeEmail:mi,verifyEmail:"VERIFY_EMAIL"};function ll(l){try{return new ng(l)}catch(p){return null}}function bd(l){var p=l[hl];if(void 0===p)throw new V("missing-continue-uri");if("string"!=typeof p||"string"==typeof p&&!p.length)throw new V("invalid-continue-uri");this.h=p,this.b=this.a=null,this.g=!1;var v=l[rh];if(v&&"object"==typeof v){p=v[ip];var E=v[ac];if(v=v[wd],"string"==typeof p&&p.length){if(this.a=p,void 0!==E&&"boolean"!=typeof E)throw new V("argument-error",ac+" property must be a boolean when specified.");if(this.g=!!E,void 0!==v&&("string"!=typeof v||"string"==typeof v&&!v.length))throw new V("argument-error",wd+" property must be a non empty string when specified.");this.b=v||null}else{if(void 0!==p)throw new V("argument-error",ip+" property must be a non empty string when specified.");if(void 0!==E||void 0!==v)throw new V("missing-android-pkg-name")}}else if(void 0!==v)throw new V("argument-error",rh+" property must be a non null object when specified.");if(this.f=null,(p=l[rp])&&"object"==typeof p){if("string"==typeof(p=p[Ai])&&p.length)this.f=p;else if(void 0!==p)throw new V("argument-error",Ai+" property must be a non empty string when specified.")}else if(void 0!==p)throw new V("argument-error",rp+" property must be a non null object when specified.");if(void 0!==(p=l[Us])&&"boolean"!=typeof p)throw new V("argument-error",Us+" property must be a boolean when specified.");if(this.c=!!p,void 0!==(l=l[np])&&("string"!=typeof l||"string"==typeof l&&!l.length))throw new V("argument-error",np+" property must be a non empty string when specified.");this.i=l||null}var rh="android",np="dynamicLinkDomain",Us="handleCodeInApp",rp="iOS",hl="url",ac="installApp",wd="minimumVersion",ip="packageName",Ai="bundleId";function fs(l){var p={};for(var v in p.continueUrl=l.h,p.canHandleCodeInApp=l.c,(p.androidPackageName=l.a)&&(p.androidMinimumVersion=l.b,p.androidInstallApp=l.g),p.iOSBundleId=l.f,p.dynamicLinkDomain=l.i,p)null===p[v]&&delete p[v];return p}var ji=null;function ih(l){var p=oh(l);if(!(p&&p.sub&&p.iss&&p.aud&&p.exp))throw Error("Invalid JWT");this.h=l,this.a=p.exp,this.i=p.sub,l=Date.now()/1e3,this.g=p.iat||(l>this.a?this.a:l),this.b=p.provider_id||p.firebase&&p.firebase.sign_in_provider||null,this.f=p.firebase&&p.firebase.tenant||null,this.c=!!p.is_anonymous||"anonymous"==this.b}function uc(l){try{return new ih(l)}catch(p){return null}}function oh(l){if(!l||3!=(l=l.split(".")).length)return null;for(var p=(4-(l=l[1]).length%4)%4,v=0;v<p;v++)l+=".";try{var E=function dv(l){var p=[];return function Ed(l,p){function v(le){for(;E<l.length;){var c=l.charAt(E++),a=ji[c];if(null!=a)return a;if(!/^[\s\xa0]*$/.test(c))throw Error("Unknown base64 encoding at char: "+c)}return le}!function fv(){if(!ji){ji={};for(var l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),p=["+/=","+/","-_=","-_.","-_"],v=0;5>v;v++)for(var E=l.concat(p[v].split("")),T=0;T<E.length;T++){var R=E[T];void 0===ji[R]&&(ji[R]=T)}}}();for(var E=0;;){var T=v(-1),R=v(0),P=v(64),U=v(64);if(64===U&&-1===T)break;p(T<<2|R>>4),64!=P&&(p(R<<4&240|P>>2),64!=U&&p(P<<6&192|U))}}(l,function(v){p.push(v)}),p}(l);for(l=[],v=p=0;p<E.length;){var T=E[p++];if(128>T)l[v++]=String.fromCharCode(T);else if(191<T&&224>T){var R=E[p++];l[v++]=String.fromCharCode((31&T)<<6|63&R)}else if(239<T&&365>T){R=E[p++];var P=E[p++],le=((7&T)<<18|(63&R)<<12|(63&P)<<6|63&E[p++])-65536;l[v++]=String.fromCharCode(55296+(le>>10)),l[v++]=String.fromCharCode(56320+(1023&le))}else R=E[p++],P=E[p++],l[v++]=String.fromCharCode((15&T)<<12|(63&R)<<6|63&P)}return JSON.parse(l.join(""))}catch(c){}return null}ih.prototype.T=function(){return this.f},ih.prototype.l=function(){return this.c},ih.prototype.toString=function(){return this.h};var Cd="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),cc=["client_id","response_type","scope","redirect_uri","state"],sh={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:cc},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:cc},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:cc},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:Cd},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Dd(l){for(var p in sh)if(sh[p].fa==l)return sh[p];return null}function Id(l){var p={};p["facebook.com"]=Hs,p["google.com"]=lc,p["github.com"]=Td,p["twitter.com"]=ig;var v=l&&l[ah];try{if(v)return p[v]?new p[v](l):new To(l);if(void 0!==l[za])return new op(l)}catch(E){}return null}var za="idToken",ah="providerId";function op(l){var p=l[ah];if(!p&&l[za]){var v=uc(l[za]);v&&v.b&&(p=v.b)}if(!p)throw Error("Invalid additional user info!");("anonymous"==p||"custom"==p)&&(p=null),v=!1,void 0!==l.isNewUser?v=!!l.isNewUser:"identitytoolkit#SignupNewUserResponse"===l.kind&&(v=!0),Je(this,"providerId",p),Je(this,"isNewUser",v)}function To(l){op.call(this,l),Je(this,"profile",sc((l=al(l.rawUserInfo||"{}"))||{}))}function Hs(l){if(To.call(this,l),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Td(l){if(To.call(this,l),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Je(this,"username",this.profile&&this.profile.login||null)}function lc(l){if(To.call(this,l),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function ig(l){if(To.call(this,l),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Je(this,"username",l.screenName||null)}function uh(l){var p=di(l),v=hi(p,"link"),E=hi(di(v),"link");return p=hi(p,"deep_link_id"),hi(di(p),"link")||p||E||v||l}function sp(l,p){if(!l&&!p)throw new V("internal-error","Internal assert: no raw session string available");if(l&&p)throw new V("internal-error","Internal assert: unable to determine the session type");this.a=l||null,this.b=p||null,this.type=this.a?pu:mu}te(To,op),te(Hs,To),te(Td,To),te(lc,To),te(ig,To);var pu="enroll",mu="signin";function hc(){}function Cr(l,p){return l.then(function(v){if(v[Ir]){var E=uc(v[Ir]);if(!E||p!=E.i)throw new V("user-mismatch");return v}throw new V("user-mismatch")}).o(function(v){throw v&&v.code&&v.code==Pe+"user-not-found"?new V("user-mismatch"):v})}function fa(l,p){if(!p)throw new V("internal-error","failed to construct a credential");this.a=p,Je(this,"providerId",l),Je(this,"signInMethod",l)}function dl(l){return{pendingToken:l.a,requestUri:"http://localhost"}}function ch(l){if(l&&l.providerId&&l.signInMethod&&0==l.providerId.indexOf("saml.")&&l.pendingToken)try{return new fa(l.providerId,l.pendingToken)}catch(p){}return null}function pa(l,p,v){if(this.a=null,p.idToken||p.accessToken)p.idToken&&Je(this,"idToken",p.idToken),p.accessToken&&Je(this,"accessToken",p.accessToken),p.nonce&&!p.pendingToken&&Je(this,"nonce",p.nonce),p.pendingToken&&(this.a=p.pendingToken);else{if(!p.oauthToken||!p.oauthTokenSecret)throw new V("internal-error","failed to construct a credential");Je(this,"accessToken",p.oauthToken),Je(this,"secret",p.oauthTokenSecret)}Je(this,"providerId",l),Je(this,"signInMethod",v)}function dc(l){var p={};return l.idToken&&(p.id_token=l.idToken),l.accessToken&&(p.access_token=l.accessToken),l.secret&&(p.oauth_token_secret=l.secret),p.providerId=l.providerId,l.nonce&&!l.a&&(p.nonce=l.nonce),p={postBody:ic(p).toString(),requestUri:"http://localhost"},l.a&&(delete p.postBody,p.pendingToken=l.a),p}function ap(l){if(l&&l.providerId&&l.signInMethod){var p={idToken:l.oauthIdToken,accessToken:l.oauthTokenSecret?null:l.oauthAccessToken,oauthTokenSecret:l.oauthTokenSecret,oauthToken:l.oauthTokenSecret&&l.oauthAccessToken,nonce:l.nonce,pendingToken:l.pendingToken};try{return new pa(l.providerId,p,l.signInMethod)}catch(v){}}return null}function ma(l,p){this.Qc=p||[],pe(this,{providerId:l,isOAuthProvider:!0}),this.Jb={},this.qb=(Dd(l)||{}).Ja||null,this.pb=null}function Sd(l){if("string"!=typeof l||0!=l.indexOf("saml."))throw new V("argument-error",'SAML provider IDs must be prefixed with "saml."');ma.call(this,l,[])}function Gr(l){ma.call(this,l,cc),this.a=[]}function gu(){Gr.call(this,"facebook.com")}function og(l){if(!l)throw new V("argument-error","credential failed: expected 1 argument (the OAuth access token).");var p=l;return Ct(l)&&(p=l.accessToken),(new gu).credential({accessToken:p})}function fc(){Gr.call(this,"github.com")}function _r(l){if(!l)throw new V("argument-error","credential failed: expected 1 argument (the OAuth access token).");var p=l;return Ct(l)&&(p=l.accessToken),(new fc).credential({accessToken:p})}function jt(){Gr.call(this,"google.com"),this.Ca("profile")}function pc(l,p){var v=l;return Ct(l)&&(v=l.idToken,p=l.accessToken),(new jt).credential({idToken:v,accessToken:p})}function ga(){ma.call(this,"twitter.com",Cd)}function Ad(l,p){var v=l;if(Ct(v)||(v={oauthToken:l,oauthTokenSecret:p}),!v.oauthToken||!v.oauthTokenSecret)throw new V("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new pa("twitter.com",v,"twitter.com")}function yu(l,p,v){this.a=l,this.f=p,Je(this,"providerId","password"),Je(this,"signInMethod",v===Qn.EMAIL_LINK_SIGN_IN_METHOD?Qn.EMAIL_LINK_SIGN_IN_METHOD:Qn.EMAIL_PASSWORD_SIGN_IN_METHOD)}function sg(l){return l&&l.email&&l.password?new yu(l.email,l.password,l.signInMethod):null}function Qn(){pe(this,{providerId:"password",isOAuthProvider:!1})}function lh(l,p){if(!(p=ya(p)))throw new V("argument-error","Invalid email link!");return new yu(l,p.code,Qn.EMAIL_LINK_SIGN_IN_METHOD)}function ya(l){return(l=ll(l=uh(l)))&&l.operation===Vi?l:null}function lr(l){if(!(l.fb&&l.eb||l.La&&l.ea))throw new V("internal-error");this.a=l,Je(this,"providerId","phone"),this.fa="phone",Je(this,"signInMethod","phone")}function pv(l){if(l&&"phone"===l.providerId&&(l.verificationId&&l.verificationCode||l.temporaryProof&&l.phoneNumber)){var p={};return Mn(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(v){l[v]&&(p[v]=l[v])}),new lr(p)}return null}function mc(l){return l.a.La&&l.a.ea?{temporaryProof:l.a.La,phoneNumber:l.a.ea}:{sessionInfo:l.a.fb,code:l.a.eb}}function Dr(l){try{this.a=l||me.Z.auth()}catch(p){throw new V("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}pe(this,{providerId:"phone",isOAuthProvider:!1})}function mv(l,p){if(!l)throw new V("missing-verification-id");if(!p)throw new V("missing-verification-code");return new lr({fb:l,eb:p})}function hh(l){if(l.temporaryProof&&l.phoneNumber)return new lr({La:l.temporaryProof,ea:l.phoneNumber});var p=l&&l.providerId;if(!p||"password"===p)return null;var v=l&&l.oauthAccessToken,E=l&&l.oauthTokenSecret,T=l&&l.nonce,R=l&&l.oauthIdToken,P=l&&l.pendingToken;try{switch(p){case"google.com":return pc(R,v);case"facebook.com":return og(v);case"github.com":return _r(v);case"twitter.com":return Ad(v,E);default:return v||E||R||P?P?0==p.indexOf("saml.")?new fa(p,P):new pa(p,{pendingToken:P,idToken:l.oauthIdToken,accessToken:l.oauthAccessToken},p):new Gr(p).credential({idToken:R,accessToken:v,rawNonce:T}):null}}catch(U){return null}}function up(l){if(!l.isOAuthProvider)throw new V("invalid-oauth-provider")}function Ui(l,p,v,E,T,R,P){if(this.c=l,this.b=p||null,this.g=v||null,this.f=E||null,this.i=R||null,this.h=P||null,this.a=T||null,!this.g&&!this.a)throw new V("invalid-auth-event");if(this.g&&this.a)throw new V("invalid-auth-event");if(this.g&&!this.f)throw new V("invalid-auth-event")}function cp(l){return(l=l||{}).type?new Ui(l.type,l.eventId,l.urlResponse,l.sessionId,l.error&&de(l.error),l.postBody,l.tenantId):null}function Sn(){this.b=null,this.a=[]}sp.prototype.Ha=function(){return Be(this.a?this.a:this.b)},sp.prototype.w=function(){return this.type==pu?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},hc.prototype.ka=function(){},hc.prototype.b=function(){},hc.prototype.c=function(){},hc.prototype.w=function(){},fa.prototype.ka=function(l){return Dp(l,dl(this))},fa.prototype.b=function(l,p){var v=dl(this);return v.idToken=p,Qa(l,v)},fa.prototype.c=function(l,p){return Cr(Ip(l,dl(this)),p)},fa.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},pa.prototype.ka=function(l){return Dp(l,dc(this))},pa.prototype.b=function(l,p){var v=dc(this);return v.idToken=p,Qa(l,v)},pa.prototype.c=function(l,p){return Cr(Ip(l,dc(this)),p)},pa.prototype.w=function(){var l={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(l.oauthIdToken=this.idToken),this.accessToken&&(l.oauthAccessToken=this.accessToken),this.secret&&(l.oauthTokenSecret=this.secret),this.nonce&&(l.nonce=this.nonce),this.a&&(l.pendingToken=this.a),l},ma.prototype.Ka=function(l){return this.Jb=$(l),this},te(Sd,ma),te(Gr,ma),Gr.prototype.Ca=function(l){return Gn(this.a,l)||this.a.push(l),this},Gr.prototype.Rb=function(){return yn(this.a)},Gr.prototype.credential=function(l,p){var v;if(!(v=Ct(l)?{idToken:l.idToken||null,accessToken:l.accessToken||null,nonce:l.rawNonce||null}:{idToken:l||null,accessToken:p||null}).idToken&&!v.accessToken)throw new V("argument-error","credential failed: must provide the ID token and/or the access token.");return new pa(this.providerId,v,this.providerId)},te(gu,Gr),Je(gu,"PROVIDER_ID","facebook.com"),Je(gu,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),te(fc,Gr),Je(fc,"PROVIDER_ID","github.com"),Je(fc,"GITHUB_SIGN_IN_METHOD","github.com"),te(jt,Gr),Je(jt,"PROVIDER_ID","google.com"),Je(jt,"GOOGLE_SIGN_IN_METHOD","google.com"),te(ga,ma),Je(ga,"PROVIDER_ID","twitter.com"),Je(ga,"TWITTER_SIGN_IN_METHOD","twitter.com"),yu.prototype.ka=function(l){return this.signInMethod==Qn.EMAIL_LINK_SIGN_IN_METHOD?en(l,Sv,{email:this.a,oobCode:this.f}):en(l,_h,{email:this.a,password:this.f})},yu.prototype.b=function(l,p){return this.signInMethod==Qn.EMAIL_LINK_SIGN_IN_METHOD?en(l,Sp,{idToken:p,email:this.a,oobCode:this.f}):en(l,Gs,{idToken:p,email:this.a,password:this.f})},yu.prototype.c=function(l,p){return Cr(this.ka(l),p)},yu.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},pe(Qn,{PROVIDER_ID:"password"}),pe(Qn,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),pe(Qn,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),lr.prototype.ka=function(l){return l.gb(mc(this))},lr.prototype.b=function(l,p){var v=mc(this);return v.idToken=p,en(l,vl,v)},lr.prototype.c=function(l,p){var v=mc(this);return v.operation="REAUTH",Cr(l=en(l,vg,v),p)},lr.prototype.w=function(){var l={providerId:"phone"};return this.a.fb&&(l.verificationId=this.a.fb),this.a.eb&&(l.verificationCode=this.a.eb),this.a.La&&(l.temporaryProof=this.a.La),this.a.ea&&(l.phoneNumber=this.a.ea),l},Dr.prototype.gb=function(l,p){var v=this.a.a;return Be(p.verify()).then(function(E){if("string"!=typeof E)throw new V("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");if("recaptcha"===p.type){var P,T=Ct(l)?l.session:null,R=Ct(l)?l.phoneNumber:l;return P=T&&T.type==pu?T.Ha().then(function(U){return function Iv(l,p){return en(l,Mv,p).then(function(v){return v.phoneSessionInfo.sessionInfo})}(v,{idToken:U,phoneEnrollmentInfo:{phoneNumber:R,recaptchaToken:E}})}):T&&T.type==mu?T.Ha().then(function(U){return function iE(l,p){return en(l,mg,p).then(function(v){return v.phoneResponseInfo.sessionInfo})}(v,{mfaPendingCredential:U,mfaEnrollmentId:l.multiFactorHint&&l.multiFactorHint.uid||l.multiFactorUid,phoneSignInInfo:{recaptchaToken:E}})}):function Wa(l,p){return en(l,Tc,p)}(v,{phoneNumber:R,recaptchaToken:E}),P.then(function(U){return"function"==typeof p.reset&&p.reset(),U},function(U){throw"function"==typeof p.reset&&p.reset(),U})}throw new V("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')})},pe(Dr,{PROVIDER_ID:"phone"}),pe(Dr,{PHONE_SIGN_IN_METHOD:"phone"}),Ui.prototype.getUid=function(){var l=[];return l.push(this.c),this.b&&l.push(this.b),this.f&&l.push(this.f),this.h&&l.push(this.h),l.join("-")},Ui.prototype.T=function(){return this.h},Ui.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var ag,gc=null;function Ga(l){var p="unauthorized-domain",v=void 0,E=di(l);l=E.a,"chrome-extension"==(E=E.c)?v=Ju("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",l):"http"==E||"https"==E?v=Ju("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",l):p="operation-not-supported-in-this-environment",V.call(this,p,v)}function qs(l,p,v){V.call(this,l,v),(l=p||{}).Kb&&Je(this,"email",l.Kb),l.ea&&Je(this,"phoneNumber",l.ea),l.credential&&Je(this,"credential",l.credential),l.$b&&Je(this,"tenantId",l.$b)}function yc(l){if(l.code){var p=l.code||"";0==p.indexOf(Pe)&&(p=p.substring(Pe.length));var v={credential:hh(l),$b:l.tenantId};if(l.email)v.Kb=l.email;else if(l.phoneNumber)v.ea=l.phoneNumber;else if(!v.credential)return new V(p,l.message||void 0);return new qs(p,v,l.message)}return null}function vc(){}function lp(){}function Qe(l){if(!l.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var p=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],v=0;v<p.length;v++){var E=p[v];try{return new ActiveXObject(E),l.f=E}catch(T){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return l.f}function xd(){}function Lb(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=at(this.qc,this),this.a.onerror=at(this.Tb,this),this.a.onprogress=at(this.rc,this),this.a.ontimeout=at(this.vc,this)}function gv(l,p){l.readyState=p,l.onreadystatechange&&l.onreadystatechange()}function yv(l,p,v){this.reset(l,p,v,void 0,void 0)}function ug(l){this.f=l,this.b=this.c=this.a=null}function dp(l,p){this.name=l,this.value=p}te(Ga,V),te(qs,V),qs.prototype.w=function(){var l={code:this.code,message:this.message};this.email&&(l.email=this.email),this.phoneNumber&&(l.phoneNumber=this.phoneNumber),this.tenantId&&(l.tenantId=this.tenantId);var p=this.credential&&this.credential.w();return p&&re(l,p),l},qs.prototype.toJSON=function(){return this.w()},vc.prototype.c=null,te(lp,vc),lp.prototype.a=function(){var l=Qe(this);return l?new ActiveXObject(l):new XMLHttpRequest},lp.prototype.b=function(){var l={};return Qe(this)&&(l[0]=!0,l[1]=!0),l},ag=new lp,te(xd,vc),xd.prototype.a=function(){var l=new XMLHttpRequest;if("withCredentials"in l)return l;if("undefined"!=typeof XDomainRequest)return new Lb;throw Error("Unsupported browser")},xd.prototype.b=function(){return{}},(S=Lb.prototype).open=function(l,p,v){if(null!=v&&!v)throw Error("Only async requests are supported.");this.a.open(l,p)},S.send=function(l){if(l){if("string"!=typeof l)throw Error("Only string data is supported");this.a.send(l)}else this.a.send()},S.abort=function(){this.a.abort()},S.setRequestHeader=function(){},S.getResponseHeader=function(l){return"content-type"==l.toLowerCase()?this.a.contentType:""},S.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,gv(this,4)},S.Tb=function(){this.status=500,this.response=this.responseText="",gv(this,4)},S.vc=function(){this.Tb()},S.rc=function(){this.status=200,gv(this,1)},S.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},yv.prototype.a=null,yv.prototype.reset=function(l,p,v,E,T){E||Ji(),delete this.a},dp.prototype.toString=function(){return this.name};var xr=new dp("SEVERE",1e3),fp=new dp("WARNING",900),ri=new dp("CONFIG",700),fl=new dp("FINE",500);function So(l){return l.c?l.c:l.a?So(l.a):(Ie("Root logger has no level set."),null)}ug.prototype.log=function(l,p,v){if(l.value>=So(this).value)for(Lt(p)&&(p=p()),l=new yv(l,String(p),this.f),v&&(l.a=v),v=this;v;)v=v.a};var pp={},Md=null;function xi(l){var p;if(Md||(Md=new ug(""),pp[""]=Md,Md.c=ri),!(p=pp[l])){p=new ug(l);var v=l.lastIndexOf("."),E=l.substr(v+1);(v=xi(l.substr(0,v))).b||(v.b={}),v.b[E]=p,p.a=v,pp[l]=p}return p}function Nr(l,p){l&&l.log(fl,p,void 0)}function dh(l){this.f=l}function bc(l){qr.call(this),this.u=l,this.h=void 0,this.readyState=$a,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=xi("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}te(dh,vc),dh.prototype.a=function(){return new bc(this.f)},dh.prototype.b=function(l){return function(){return l}}({}),te(bc,qr);var $a=0;function mp(l){l.c.read().then(l.pc.bind(l)).catch(l.Va.bind(l))}function fh(l){l.readyState=4,l.g=null,l.c=null,l.m=null,ph(l)}function ph(l){l.onreadystatechange&&l.onreadystatechange.call(l)}function kd(l){qr.call(this),this.headers=new Rn,this.D=l||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=vv,this.u=this.S=!1}(S=bc.prototype).open=function(l,p){if(this.readyState!=$a)throw this.abort(),Error("Error reopening a connection");this.s=l,this.f=p,this.readyState=1,ph(this)},S.send=function(l){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var p={headers:this.l,method:this.s,credentials:this.h,cache:void 0};l&&(p.body=l),this.u.fetch(new Request(this.f,p)).then(this.uc.bind(this),this.Va.bind(this))},S.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,fh(this)),this.readyState=$a},S.uc=function(l){this.a&&(this.g=l,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=l.headers,this.readyState=2,ph(this)),this.a&&(this.readyState=3,ph(this),this.a&&("arraybuffer"===this.responseType?l.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):void 0!==G.ReadableStream&&"body"in l?(this.response=this.responseText="",this.c=l.body.getReader(),this.m=new TextDecoder,mp(this)):l.text().then(this.tc.bind(this),this.Va.bind(this)))))},S.pc=function(l){if(this.a){var p=this.m.decode(l.value?l.value:new Uint8Array(0),{stream:!l.done});p&&(this.response=this.responseText+=p),l.done?fh(this):ph(this),3==this.readyState&&mp(this)}},S.tc=function(l){this.a&&(this.response=this.responseText=l,fh(this))},S.sc=function(l){this.a&&(this.response=l,fh(this))},S.Va=function(l){var p=this.i;p&&p.log(fp,"Failed to fetch url "+this.f,l instanceof Error?l:Error(l)),this.a&&fh(this)},S.setRequestHeader=function(l,p){this.l.append(l,p)},S.getResponseHeader=function(l){return this.b?this.b.get(l.toLowerCase())||"":((l=this.i)&&l.log(fp,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},S.getAllResponseHeaders=function(){if(!this.b){var l=this.i;return l&&l.log(fp,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}l=[];for(var p=this.b.entries(),v=p.next();!v.done;)l.push((v=v.value)[0]+": "+v[1]),v=p.next();return l.join("\r\n")},Object.defineProperty(bc.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(l){this.h=l?"include":"same-origin"}}),te(kd,qr);var vv="";kd.prototype.b=xi("goog.net.XhrIo");var cg=/^https?$/i,Go=["POST","PUT"];function Rd(l){return"content-type"==l.toLowerCase()}function wc(l,p){l.c=!1,l.a&&(l.f=!0,l.a.abort(),l.f=!1),l.h=p,_v(l),gp(l)}function _v(l){l.J||(l.J=!0,l.dispatchEvent("complete"),l.dispatchEvent("error"))}function bv(l){if(l.c&&void 0!==se)if(l.C[1]&&4==Ao(l)&&2==Od(l))Nr(l.b,ii(l,"Local request error detected and ignored"));else if(l.i&&4==Ao(l))Ti(l.Wb,0,l);else if(l.dispatchEvent("readystatechange"),4==Ao(l)){Nr(l.b,ii(l,"Request complete")),l.c=!1;try{var E,p=Od(l);e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}if(!(E=v)){var T;if(T=0===p){var R=String(l.l).match(ti)[1]||null;if(!R&&G.self&&G.self.location){var P=G.self.location.protocol;R=P.substr(0,P.length-1)}T=!cg.test(R?R.toLowerCase():"")}E=T}if(E)l.dispatchEvent("complete"),l.dispatchEvent("success");else{try{var U=2<Ao(l)?l.a.statusText:""}catch(le){Nr(l.b,"Can not get status: "+le.message),U=""}l.h=U+" ["+Od(l)+"]",_v(l)}}finally{gp(l)}}}function gp(l,p){if(l.a){hg(l);var v=l.a,E=l.C[0]?He:null;l.a=null,l.C=null,p||l.dispatchEvent("ready");try{v.onreadystatechange=E}catch(T){(l=l.b)&&l.log(xr,"Problem encountered resetting onreadystatechange: "+T.message,void 0)}}}function hg(l){l.a&&l.u&&(l.a.ontimeout=null),l.s&&(G.clearTimeout(l.s),l.s=null)}function Ao(l){return l.a?l.a.readyState:0}function Od(l){try{return 2<Ao(l)?l.a.status:-1}catch(p){return-1}}function ii(l,p){return p+" ["+l.P+" "+l.l+" "+Od(l)+"]"}function gh(l){var p=Ka;this.g=[],this.u=p,this.s=l||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function $r(l,p,v){l.a=!0,l.c=v,l.f=!p,Ev(l)}function ps(l){if(l.a){if(!l.v)throw new hr(l);l.v=!1}}function Mi(l,p,v,E){l.g.push([p,v,E]),l.a&&Ev(l)}function wv(l){return on(l.g,function(p){return Lt(p[1])})}function Ev(l){if(l.h&&l.a&&wv(l)){var p=l.h,v=Kr[p];v&&(G.clearTimeout(v.a),delete Kr[p]),l.h=0}l.b&&(l.b.l--,delete l.b),p=l.c;for(var E=v=!1;l.g.length&&!l.i;){var T=l.g.shift(),R=T[0],P=T[1];if(T=T[2],R=l.f?P:R)try{var U=R.call(T||l.s,p);void 0!==U&&(l.f=l.f&&(U==p||U instanceof Error),l.c=p=U),(wt(p)||"function"==typeof G.Promise&&p instanceof G.Promise)&&(E=!0,l.i=!0)}catch(le){p=le,l.f=!0,wv(l)||(v=!0)}}l.c=p,E&&(U=at(l.m,l,!0),E=at(l.m,l,!1),p instanceof gh?(Mi(p,U,E),p.C=!0):p.then(U,E)),v&&(p=new yi(p),Kr[p.a]=p,l.h=p.a)}function hr(){un.call(this)}function $o(){un.call(this)}function yi(l){this.a=G.setTimeout(at(this.c,this),0),this.b=l}(S=kd.prototype).Ma=function(){void 0!==se&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Nr(this.b,ii(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},S.abort=function(){this.a&&this.c&&(Nr(this.b,ii(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),gp(this))},S.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),gp(this,!0)),kd.bb.Da.call(this)},S.Wb=function(){this.ya||(this.N||this.i||this.f?bv(this):this.Jc())},S.Jc=function(){bv(this)},S.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case vv:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var l=this.b;return l&&l.log(xr,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(p){return Nr(this.b,"Can not get response: "+p.message),null}},gh.prototype.cancel=function(l){if(this.a)this.c instanceof gh&&this.c.cancel();else{if(this.b){var p=this.b;delete this.b,l?p.cancel(l):(p.l--,0>=p.l&&p.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(l=new $o(this),ps(this),$r(this,!1,l))}},gh.prototype.m=function(l,p){this.i=!1,$r(this,l,p)},gh.prototype.then=function(l,p,v){var E,T,R=new ft(function(P,U){E=P,T=U});return Mi(this,E,function(P){P instanceof $o?R.cancel():T(P)}),R.then(l,p,v)},gh.prototype.$goog_Thenable=!0,te(hr,un),hr.prototype.message="Deferred has already fired",hr.prototype.name="AlreadyCalledError",te($o,un),$o.prototype.message="Deferred was canceled",$o.prototype.name="CanceledError",yi.prototype.c=function(){throw delete Kr[this.a],this.b};var Kr={};function xo(l){var p={},v=p.document||document,E=Ht(l).toString(),T=Zc(document,"SCRIPT"),R={Xb:T,Ma:void 0},P=new gh(R),U=null,le=null!=p.timeout?p.timeout:5e3;return 0<le&&(U=window.setTimeout(function(){va(T,!0);var c=new vp(Nd,"Timeout reached for loading script "+E);ps(P),$r(P,!1,c)},le),R.Ma=U),T.onload=T.onreadystatechange=function(){T.readyState&&"loaded"!=T.readyState&&"complete"!=T.readyState||(va(T,p.xd||!1,U),ps(P),$r(P,!0,null))},T.onerror=function(){va(T,!0,U);var c=new vp(Ec,"Error while loading script "+E);ps(P),$r(P,!1,c)},re(R=p.attributes||{},{type:"text/javascript",charset:"UTF-8"}),ec(T,R),function nd(l,p){W(l,"HTMLScriptElement"),l.src=Ht(p),(p=l.ownerDocument&&l.ownerDocument.defaultView)&&p!=G?p=ke(p.document):(null===Me&&(Me=ke(G.document)),p=Me),p&&l.setAttribute("nonce",p)}(T,l),function ce(l){var p;return(p=(l||document).getElementsByTagName("HEAD"))&&0!=p.length?p[0]:l.documentElement}(v).appendChild(T),P}function Ka(){if(this&&this.Xb){var l=this.Xb;l&&"SCRIPT"==l.tagName&&va(l,!0,this.Ma)}}function va(l,p,v){null!=v&&G.clearTimeout(v),l.onload=He,l.onerror=He,l.onreadystatechange=He,p&&window.setTimeout(function(){l&&l.parentNode&&l.parentNode.removeChild(l)},0)}var Ec=0,Nd=1;function vp(l,p){var v="Jsloader error (code #"+l+")";p&&(v+=": "+p),un.call(this,v),this.code=l}function Pd(l){this.f=l}function dr(l,p,v){if(this.c=l,this.l=(l=p||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=l.secureTokenTimeout||pl,this.g=$(l.secureTokenHeaders||ml),this.h=l.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=l.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=l.firebaseTimeout||Fd,this.a=$(l.firebaseHeaders||Cc),v&&(this.a["X-Client-Version"]=v,this.g["X-Client-Version"]=v),v="Node"==Se(),!(v=G.XMLHttpRequest||v&&me.Z.INTERNAL.node&&me.Z.INTERNAL.node.XMLHttpRequest)&&!pi())throw new V("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=pi()?new dh(self):zr()?new Pd(v):new xd,this.b=null}te(vp,un),te(Pd,vc),Pd.prototype.a=function(){return new this.f},Pd.prototype.b=function(){return{}};var Ee,Ir="idToken",pl=new to(3e4,6e4),ml={"Content-Type":"application/x-www-form-urlencoded"},Fd=new to(3e4,6e4),Cc={"Content-Type":"application/json"};function _p(l,p){p?l.a["X-Firebase-Locale"]=p:delete l.a["X-Firebase-Locale"]}function ms(l,p){p&&(l.l=Ld("https://securetoken.googleapis.com/v1/token",p),l.h=Ld("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",p),l.i=Ld("https://identitytoolkit.googleapis.com/v2/",p))}function Ld(l,p){return l=di(l),p=di(p.url),l.f=l.a+l.f,lu(l,p.c),l.a=p.a,Ls(l,p.g),l.toString()}function bp(l,p){p?(l.a["X-Client-Version"]=p,l.g["X-Client-Version"]=p):(delete l.a["X-Client-Version"],delete l.g["X-Client-Version"])}function dg(l,p,v,E,T,R,P){(function Ob(){var l=jn();return!((l="Chrome"!=mt(l)?null:(l=l.match(/\sChrome\/(\d+)/i))&&2==l.length?parseInt(l[1],10):null)&&30>l||yo&&us&&!(9<us))})()||pi()?l=at(l.u,l):(Ee||(Ee=new ft(function(U,le){!function Bb(l,p){((window.gapi||{}).client||{}).request?l():(G[Dc]=function(){((window.gapi||{}).client||{}).request?l():p(Error("CORS_UNSUPPORTED"))},function Yn(l,p){Mi(l,null,p,void 0)}(xo(Bo(vi,{onload:Dc})),function(){p(Error("CORS_UNSUPPORTED"))}))}(U,le)})),l=at(l.s,l)),l(p,v,E,T,R,P)}dr.prototype.T=function(){return this.b},dr.prototype.u=function(l,p,v,E,T,R){if(pi()&&(void 0===G.fetch||void 0===G.Headers||void 0===G.Request))throw new V("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var P=new kd(this.f);if(R){P.g=Math.max(0,R);var U=setTimeout(function(){P.dispatchEvent("timeout")},R)}Wl(P,"complete",function(){U&&clearTimeout(U);var le=null;try{le=JSON.parse(function yp(l){try{return l.a?l.a.responseText:""}catch(p){return Nr(l.b,"Can not get responseText: "+p.message),""}}(this))||null}catch(c){le=null}p&&p(le)}),yr(P,"ready",function(){U&&clearTimeout(U),Fi(this)}),yr(P,"timeout",function(){U&&clearTimeout(U),Fi(this),p&&p(null)}),function lg(l,p,v,E,T){if(l.a)throw Error("[goog.net.XhrIo] Object is active with another request="+l.l+"; newUri="+p);v=v?v.toUpperCase():"GET",l.l=p,l.h="",l.P=v,l.J=!1,l.c=!0,l.a=l.D?l.D.a():ag.a(),l.C=function _c(l){return l.c||(l.c=l.b())}(l.D?l.D:ag),l.a.onreadystatechange=at(l.Wb,l);try{Nr(l.b,ii(l,"Opening Xhr")),l.N=!0,l.a.open(v,String(p),!0),l.N=!1}catch(P){return Nr(l.b,ii(l,"Error opening Xhr: "+P.message)),void wc(l,P)}p=E||"";var R=new Rn(l.headers);T&&function Wt(l,p){if(l.forEach&&"function"==typeof l.forEach)l.forEach(p,void 0);else if(Gt(l)||"string"==typeof l)Mn(l,p,void 0);else for(var v=ze(l),E=ls(l),T=E.length,R=0;R<T;R++)p.call(void 0,E[R],v&&v[R],l)}(T,function(P,U){R.set(U,P)}),T=function Pi(l){e:{for(var p=Rd,v=l.length,E="string"==typeof l?l.split(""):l,T=0;T<v;T++)if(T in E&&p.call(void 0,E[T],T,l)){p=T;break e}p=-1}return 0>p?null:"string"==typeof l?l.charAt(p):l[p]}(R.Y()),E=G.FormData&&p instanceof G.FormData,!Gn(Go,v)||T||E||R.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),R.forEach(function(P,U){this.a.setRequestHeader(U,P)},l),l.m&&(l.a.responseType=l.m),"withCredentials"in l.a&&l.a.withCredentials!==l.S&&(l.a.withCredentials=l.S);try{hg(l),0<l.g&&(l.u=function mh(l){return yo&&Jc(9)&&"number"==typeof l.timeout&&void 0!==l.ontimeout}(l.a),Nr(l.b,ii(l,"Will abort after "+l.g+"ms if incomplete, xhr2 "+l.u)),l.u?(l.a.timeout=l.g,l.a.ontimeout=at(l.Ma,l)):l.s=Ti(l.Ma,l.g,l)),Nr(l.b,ii(l,"Sending request")),l.i=!0,l.a.send(p),l.i=!1}catch(P){Nr(l.b,ii(l,"Send error: "+P.message)),wc(l,P)}}(P,l,v,E,T)};var vi=new Re(fn,"https://apis.google.com/js/client.js?onload=%{onload}"),Dc="__fcb"+Math.floor(1e6*Math.random()).toString();function _u(l){if("string"!=typeof(l=l.email)||!uI.test(l))throw new V("invalid-email")}function Cv(l){"email"in l&&_u(l)}function _i(l){if(!l[Ir])throw l.mfaPendingCredential?new V("multi-factor-auth-required",null,$(l)):new V("internal-error")}function _a(l){if(l.phoneNumber||l.temporaryProof){if(!l.phoneNumber||!l.temporaryProof)throw new V("internal-error")}else{if(!l.sessionInfo)throw new V("missing-verification-id");if(!l.code)throw new V("missing-verification-code")}}dr.prototype.s=function(l,p,v,E,T){var R=this;Ee.then(function(){window.gapi.client.setApiKey(R.c);var P=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:l,method:v,body:E,headers:T,authType:"none",callback:function(U){window.gapi.auth.setToken(P),p&&p(U)}})}).o(function(P){p&&p({error:{message:P&&P.message||"CORS_UNSUPPORTED"}})})},dr.prototype.Ab=function(){return en(this,jd,{})},dr.prototype.Cb=function(l,p){return en(this,Sc,{idToken:l,email:p})},dr.prototype.Db=function(l,p){return en(this,Gs,{idToken:l,password:p})};var Ic={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function Ep(l){if(!l.phoneVerificationInfo)throw new V("internal-error");if(!l.phoneVerificationInfo.sessionInfo)throw new V("missing-verification-id");if(!l.phoneVerificationInfo.code)throw new V("missing-verification-code")}function yh(l){if(!l.requestUri||!l.sessionId&&!l.postBody&&!l.pendingToken)throw new V("internal-error")}function Cp(l,p){return p.oauthIdToken&&p.providerId&&0==p.providerId.indexOf("oidc.")&&!p.pendingToken&&(l.sessionId?p.nonce=l.sessionId:l.postBody&&Ho(l=new fi(l.postBody),"nonce")&&(p.nonce=l.get("nonce"))),p}function Vd(l){var p=null;if(l.needConfirmation?(l.code="account-exists-with-different-credential",p=yc(l)):"FEDERATED_USER_ID_ALREADY_LINKED"==l.errorMessage?(l.code="credential-already-in-use",p=yc(l)):"EMAIL_EXISTS"==l.errorMessage?(l.code="email-already-in-use",p=yc(l)):l.errorMessage&&(p=_g(l.errorMessage)),p)throw p;_i(l)}function Dp(l,p){return p.returnIdpCredential=!0,en(l,wu,p)}function Qa(l,p){return p.returnIdpCredential=!0,en(l,sE,p)}function Ip(l,p){return p.returnIdpCredential=!0,p.autoCreate=!1,en(l,gg,p)}function zs(l){if(!l.oobCode)throw new V("invalid-action-code")}(S=dr.prototype).Eb=function(l,p){var v={idToken:l},E=[];return Oa(Ic,function(T,R){var P=p[R];null===P?E.push(T):R in p&&(v[R]=P)}),E.length&&(v.deleteAttribute=E),en(this,Sc,v)},S.wb=function(l,p){return re(l={requestType:"PASSWORD_RESET",email:l},p),en(this,Ub,l)},S.xb=function(l,p){return re(l={requestType:"EMAIL_SIGNIN",email:l},p),en(this,bu,l)},S.vb=function(l,p){return re(l={requestType:"VERIFY_EMAIL",idToken:l},p),en(this,yl,l)},S.Fb=function(l,p,v){return re(l={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:l,newEmail:p},v),en(this,xv,l)},S.gb=function(l){return en(this,yg,l)},S.ob=function(l,p){return en(this,qb,{oobCode:l,newPassword:p})},S.Sa=function(l){return en(this,Tp,{oobCode:l})},S.kb=function(l){return en(this,Tv,{oobCode:l})};var Tv={endpoint:"setAccountInfo",A:zs,Z:"email",B:!0},Tp={endpoint:"resetPassword",A:zs,G:function(l){var p=l.requestType;if(!p||!l.email&&"EMAIL_SIGNIN"!=p&&"VERIFY_AND_CHANGE_EMAIL"!=p)throw new V("internal-error")},B:!0},Vb={endpoint:"signupNewUser",A:function(l){if(_u(l),!l.password)throw new V("weak-password")},G:_i,V:!0,B:!0},Ko={endpoint:"createAuthUri",B:!0},Hi={endpoint:"deleteAccount",O:["idToken"]},gl={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(l){if(!Array.isArray(l.deleteProvider))throw new V("internal-error")}},Sv={endpoint:"emailLinkSignin",O:["email","oobCode"],A:_u,G:_i,V:!0,B:!0},Sp={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:_u,G:_i,V:!0},jb={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:Ep,G:_i,B:!0,Na:!0},vh={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:Ep,G:_i,B:!0,Na:!0},Av={endpoint:"getAccountInfo"},bu={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(l){if("EMAIL_SIGNIN"!=l.requestType)throw new V("internal-error");_u(l)},Z:"email",B:!0},yl={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(l){if("VERIFY_EMAIL"!=l.requestType)throw new V("internal-error")},Z:"email",B:!0},xv={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(l){if("VERIFY_AND_CHANGE_EMAIL"!=l.requestType)throw new V("internal-error")},Z:"email",B:!0},Ub={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(l){if("PASSWORD_RESET"!=l.requestType)throw new V("internal-error");_u(l)},Z:"email",B:!0},Hb={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},oE={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(l){if(!l.recaptchaSiteKey)throw new V("internal-error")}},qb={endpoint:"resetPassword",A:zs,Z:"email",B:!0},Tc={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Sc={endpoint:"setAccountInfo",O:["idToken"],A:Cv,V:!0},Gs={endpoint:"setAccountInfo",O:["idToken"],A:function(l){if(Cv(l),!l.password)throw new V("weak-password")},G:_i,V:!0},jd={endpoint:"signupNewUser",G:_i,V:!0,B:!0},Mv={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(l){if(!l.phoneEnrollmentInfo)throw new V("internal-error");if(!l.phoneEnrollmentInfo.phoneNumber)throw new V("missing-phone-number");if(!l.phoneEnrollmentInfo.recaptchaToken)throw new V("missing-app-credential")},G:function(l){if(!l.phoneSessionInfo||!l.phoneSessionInfo.sessionInfo)throw new V("internal-error")},B:!0,Na:!0},mg={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(l){if(!l.phoneSignInInfo||!l.phoneSignInInfo.recaptchaToken)throw new V("missing-app-credential")},G:function(l){if(!l.phoneResponseInfo||!l.phoneResponseInfo.sessionInfo)throw new V("internal-error")},B:!0,Na:!0},wu={endpoint:"verifyAssertion",A:yh,Za:Cp,G:Vd,V:!0,B:!0},gg={endpoint:"verifyAssertion",A:yh,Za:Cp,G:function(l){if(l.errorMessage&&"USER_NOT_FOUND"==l.errorMessage)throw new V("user-not-found");if(l.errorMessage)throw _g(l.errorMessage);_i(l)},V:!0,B:!0},sE={endpoint:"verifyAssertion",A:function(l){if(yh(l),!l.idToken)throw new V("internal-error")},Za:Cp,G:Vd,V:!0},zb={endpoint:"verifyCustomToken",A:function(l){if(!l.token)throw new V("invalid-custom-token")},G:_i,V:!0,B:!0},_h={endpoint:"verifyPassword",A:function(l){if(_u(l),!l.password)throw new V("wrong-password")},G:_i,V:!0,B:!0},yg={endpoint:"verifyPhoneNumber",A:_a,G:_i,B:!0},vl={endpoint:"verifyPhoneNumber",A:function(l){if(!l.idToken)throw new V("internal-error");_a(l)},G:function(l){if(l.temporaryProof)throw l.code="credential-already-in-use",yc(l);_i(l)}},vg={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:_a,G:_i,B:!0},kv={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(l){if(!!l[Ir]^!!l.refreshToken)throw new V("internal-error")},B:!0,Na:!0};function en(l,p,v){if(!function gd(l,p){if(!p||!p.length)return!0;if(!l)return!1;for(var v=0;v<p.length;v++){var E=l[p[v]];if(null==E||""===E)return!1}return!0}(v,p.O))return Kn(new V("internal-error"));var R,E=!!p.Na,T=p.Vb||"POST";return Be(v).then(p.A).then(function(){return p.V&&(v.returnSecureToken=!0),p.B&&l.b&&void 0===v.tenantId&&(v.tenantId=l.b),function wp(l,p,v,E,T,R,P){var U=di(p+v);vr(U,"key",l.c),P&&vr(U,"cb",Date.now().toString());var le="GET"==E;if(le)for(var c in T)T.hasOwnProperty(c)&&vr(U,c,T[c]);return new ft(function(a,h){dg(l,U.toString(),function(f){f?f.error?h(bg(f,R||{})):a(f):h(new V("network-request-failed"))},E,le?void 0:sv(Yf(T)),l.a,l.v.get())})}(l,E?l.i:l.h,p.endpoint,T,v,p.Ib,p.mb||!1)}).then(function(P){return R=P,p.Za?p.Za(v,R):R}).then(p.G).then(function(){if(!p.Z)return R;if(!(p.Z in R))throw new V("internal-error");return R[p.Z]})}function _g(l){return bg({error:{errors:[{message:l}],code:400,message:l}})}function bg(l,p){var v=(l.error&&l.error.errors&&l.error.errors[0]||{}).reason||"",E={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(v=E[v]?new V(E[v]):null)return v;for(var T in v=l.error&&l.error.message||"",re(E={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},p||{}),p=(p=v.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<p.length?p[1]:void 0,E)if(0===v.indexOf(T))return new V(E[T],p);return!p&&l&&(p=Cn(l)),new V("internal-error",p)}function Rv(l){this.b=l,this.a=null,this.sb=function Gb(l){return function Kb(){return hn||(hn=new ft(function(l,p){function v(){da(),st("gapi.load")("gapi.iframes",{callback:l,ontimeout:function(){da(),p(Error("Network Error"))},timeout:Ap.get()})}if(st("gapi.iframes.Iframe"))l();else if(st("gapi.load"))v();else{var E="__iframefcb"+Math.floor(1e6*Math.random()).toString();G[E]=function(){st("gapi.load")?v():p(Error("Network Error"))},Be(xo(E=Bo(Ov,{onload:E}))).o(function(){p(Error("Network Error"))})}}).o(function(l){throw hn=null,l}))}().then(function(){return new ft(function(p,v){st("gapi.iframes.getContext")().open({where:document.body,url:l.b,messageHandlersFilter:st("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(E){function T(){clearTimeout(R),p()}l.a=E,l.a.restyle({setHideOnLeave:!1});var R=setTimeout(function(){v(Error("Network Error"))},$b.get());E.ping(T).then(T,function(){v(Error("Network Error"))})})})})}(this)}var Ov=new Re(fn,"https://apis.google.com/js/api.js?onload=%{onload}"),Ap=new to(3e4,6e4),$b=new to(5e3,15e3),hn=null;function _l(l,p,v,E){this.l=l,this.h=p,this.i=v,this.g=E,this.f=null,l=this.g?ja((l=di(this.g.url)).c,l.a,l.g,"/emulator/auth/iframe"):ja("https",this.l,null,"/__/auth/iframe"),this.a=l,vr(this.a,"apiKey",this.h),vr(this.a,"appName",this.i),this.b=null,this.c=[]}function ba(l,p,v,E,T,R){this.u=l,this.s=p,this.c=v,this.m=E,this.v=R,this.i=this.g=this.l=null,this.a=T,this.h=this.f=null}function bl(l){try{return me.Z.app(l).auth().Ga()}catch(p){return[]}}function Eg(l,p,v,E,T,R){this.s=l,this.g=p,this.b=v,this.f=R,this.c=E||null,this.i=T||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function Cg(l){var p=hd();return function Dv(l){return en(l,Hb,{}).then(function(p){return p.authorizedDomains||[]})}(l).then(function(v){e:{var E=di(p),T=E.c;E=E.a;for(var R=0;R<v.length;R++){var P=v[R],U=E,le=T;if(0==P.indexOf("chrome-extension://")?U=di(P).a==U&&"chrome-extension"==le:"http"!=le&&"https"!=le?U=!1:cv.test(P)?U=U==P:(P=P.split(".").join("\\."),U=new RegExp("^(.+\\."+P+"|"+P+")$","i").test(U)),U){v=!0;break e}}v=!1}if(!v)throw new Ga(hd())})}function Nv(l){return l.m||(l.m=Co().then(function(){if(!l.u){var p=l.c,v=l.i,E=bl(l.b),T=new _l(l.s,l.g,l.b,l.f);T.f=p,T.b=v,T.c=yn(E||[]),l.u=T.toString()}l.v=new Rv(l.u),function aE(l){if(!l.v)throw Error("IfcHandler must be initialized!");!function Ud(l,p){l.sb.then(function(){l.a.register("authEvent",p,st("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(l.v,function(p){var v={};if(p&&p.authEvent){var E=!1;for(p=cp(p.authEvent),v=0;v<l.h.length;v++)E=l.h[v](p)||E;return(v={}).status=E?"ACK":"ERROR",Be(v)}return v.status="ERROR",Be(v)})}(l)})),l.m}function Pv(l){return l.l||(l.C=l.c?Zl(l.c,bl(l.b)):null,l.l=new dr(l.g,Qt(l.i),l.C),l.f&&ms(l.l,l.f)),l.l}function Hd(l,p,v,E,T,R,P,U,le,c,a,h){return(l=new ba(l,p,v,E,T,h)).l=R,l.g=P,l.i=U,l.b=$(le||null),l.f=c,l.zb(a).toString()}function Mr(l){if(this.a=l||me.Z.INTERNAL.reactNative&&me.Z.INTERNAL.reactNative.AsyncStorage,!this.a)throw new V("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function io(l){this.b=l,this.a={},this.f=at(this.c,this)}_l.prototype.toString=function(){return this.f?vr(this.a,"v",this.f):Uo(this.a.b,"v"),this.b?vr(this.a,"eid",this.b):Uo(this.a.b,"eid"),this.c.length?vr(this.a,"fw",this.c.join(",")):Uo(this.a.b,"fw"),this.a.toString()},ba.prototype.zb=function(l){return this.h=l,this},ba.prototype.toString=function(){if(this.v){var l=di(this.v.url);l=ja(l.c,l.a,l.g,"/emulator/auth/handler")}else l=ja("https",this.u,null,"/__/auth/handler");if(vr(l,"apiKey",this.s),vr(l,"appName",this.c),vr(l,"authType",this.m),this.a.isOAuthProvider){var p=this.a;try{var v=me.Z.app(this.c).auth().la()}catch(U){v=null}for(var E in p.pb=v,vr(l,"providerId",this.a.providerId),p=Yf((v=this.a).Jb))p[E]=p[E].toString();E=v.Qc,p=$(p);for(var T=0;T<E.length;T++){var R=E[T];R in p&&delete p[R]}v.qb&&v.pb&&!p[v.qb]&&(p[v.qb]=v.pb),K(p)||vr(l,"customParameters",Cn(p))}if("function"==typeof this.a.Rb&&(v=this.a.Rb()).length&&vr(l,"scopes",v.join(",")),this.l?vr(l,"redirectUrl",this.l):Uo(l.b,"redirectUrl"),this.g?vr(l,"eventId",this.g):Uo(l.b,"eventId"),this.i?vr(l,"v",this.i):Uo(l.b,"v"),this.b)for(var P in this.b)this.b.hasOwnProperty(P)&&!hi(l,P)&&vr(l,P,this.b[P]);return this.h?vr(l,"tid",this.h):Uo(l.b,"tid"),this.f?vr(l,"eid",this.f):Uo(l.b,"eid"),(P=bl(this.c)).length&&vr(l,"fw",P.join(",")),l.toString()},(S=Eg.prototype).Pb=function(l,p,v){var E=new V("popup-closed-by-user"),T=new V("web-storage-unsupported"),R=this,P=!1;return this.ma().then(function(){(function Fv(l){var p={type:"webStorageSupport"};return Nv(l).then(function(){return function wg(l,p){return l.sb.then(function(){return new ft(function(v){l.a.send(p.type,p,v,st("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(l.v,p)}).then(function(v){if(v&&v.length&&void 0!==v[0].webStorageSupport)return v[0].webStorageSupport;throw Error()})})(R).then(function(U){U||(l&&sl(l),p(T),P=!0)})}).o(function(){}).then(function(){if(!P)return function eg(l){return new ft(function(p){return function v(){Ql(2e3).then(function(){if(l&&!l.closed)return v();p()})}()})}(l)}).then(function(){if(!P)return Ql(v).then(function(){p(E)})})},S.Yb=function(){var l=jn();return!pd(l)&&!lv(l)},S.Ub=function(){return!1},S.Nb=function(l,p,v,E,T,R,P,U){if(!l)return Kn(new V("popup-blocked"));if(P&&!pd())return this.ma().o(function(c){sl(l),T(c)}),E(),Be();this.a||(this.a=Cg(Pv(this)));var le=this;return this.a.then(function(){var c=le.ma().o(function(a){throw sl(l),T(a),a});return E(),c}).then(function(){up(v),P||Qf(Hd(le.s,le.g,le.b,p,v,null,R,le.c,void 0,le.i,U,le.f),l)}).o(function(c){throw"auth/network-request-failed"==c.code&&(le.a=null),c})},S.Ob=function(l,p,v,E){this.a||(this.a=Cg(Pv(this)));var T=this;return this.a.then(function(){up(p),Qf(Hd(T.s,T.g,T.b,l,p,hd(),v,T.c,void 0,T.i,E,T.f))}).o(function(R){throw"auth/network-request-failed"==R.code&&(T.a=null),R})},S.ma=function(){var l=this;return Nv(this).then(function(){return l.v.sb}).o(function(){throw l.a=null,new V("network-request-failed")})},S.ac=function(){return!0},S.Ea=function(l){this.h.push(l)},S.Ta=function(l){mr(this.h,function(p){return p==l})},(S=Mr.prototype).get=function(l){return Be(this.a.getItem(l)).then(function(p){return p&&al(p)})},S.set=function(l,p){return Be(this.a.setItem(l,Cn(p)))},S.U=function(l){return Be(this.a.removeItem(l))},S.ca=function(){},S.ia=function(){};var qd,xp=[];function Dg(l,p,v){K(l.a)&&l.b.addEventListener("message",l.f),void 0===l.a[p]&&(l.a[p]=[]),l.a[p].push(v)}function qi(l){this.a=l}function bh(l){this.c=l,this.b=!1,this.a=[]}function Mp(l,p,v,E){var T,P,U,le,R=v||{},c=null;if(l.b)return Kn(Error("connection_unavailable"));var a=E?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new ft(function(f,g){h?(T=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),U=setTimeout(function(){g(Error("unsupported_event"))},a),l.a.push(c={messageChannel:h,onMessage:P=function(_){_.data.eventId===T&&("ack"===_.data.status?(clearTimeout(U),le=setTimeout(function(){g(Error("timeout"))},3e3)):"done"===_.data.status?(clearTimeout(le),void 0!==_.data.response?f(_.data.response):g(Error("unknown_error"))):(clearTimeout(U),clearTimeout(le),g(Error("invalid_response"))))}}),h.port1.addEventListener("message",P),l.c.postMessage({eventType:p,eventId:T,data:R},[h.port2])):g(Error("connection_unavailable"))}).then(function(f){return bi(l,c),f}).o(function(f){throw bi(l,c),f})}function bi(l,p){if(p){var v=p.messageChannel;v&&(v.port1.removeEventListener("message",p.onMessage),v.port1.close()),mr(l.a,function(T){return T==p})}}function Ig(){if(!Sg())throw new V("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=G.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var l=this;pi()&&self?(this.v=function Lv(){var l=pi()?self:null;if(Mn(xp,function(v){v.b==l&&(p=v)}),!p){var p=new io(l);xp.push(p)}return p}(),Dg(this.v,"keyChanged",function(p,v){return Gd(l).then(function(E){return 0<E.length&&Mn(l.a,function(T){T(E)}),{keyProcessed:Gn(E,v.key)}})}),Dg(this.v,"ping",function(){return Be(["keyChanged"])})):function Xf(){var l=G.navigator;return l&&l.serviceWorker?Be().then(function(){return l.serviceWorker.ready}).then(function(p){return p.active||null}).o(function(){return null}):Be(null)}().then(function(p){(l.h=p)&&(l.g=new bh(new qi(p)),Mp(l.g,"ping",null,!0).then(function(v){v[0].fulfilled&&Gn(v[0].value,"keyChanged")&&(l.s=!0)}).o(function(){}))})}function kp(l){return new ft(function(p,v){var E=l.m.open("firebaseLocalStorageDb",1);E.onerror=function(T){try{T.preventDefault()}catch(R){}v(Error(T.target.error))},E.onupgradeneeded=function(T){T=T.target.result;try{T.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(R){v(R)}},E.onsuccess=function(T){(T=T.target.result).objectStoreNames.contains("firebaseLocalStorage")?p(T):function Tg(l){return new ft(function(p,v){var E=l.m.deleteDatabase("firebaseLocalStorageDb");E.onsuccess=function(){p()},E.onerror=function(T){v(Error(T.target.error))}})}(l).then(function(){return kp(l)}).then(function(R){p(R)}).o(function(R){v(R)})}})}function zd(l){return l.i||(l.i=kp(l)),l.i}function wh(l,p){var E=0;return new ft(function v(T,R){zd(l).then(p).then(T).o(function(P){if(!(3<++E))return zd(l).then(function(U){return U.close(),l.i=void 0,v(T,R)}).o(function(U){R(U)});R(P)})})}function Sg(){try{return!!G.indexedDB}catch(l){return!1}}function wl(l){return l.objectStore("firebaseLocalStorage")}function Eu(l,p){return l.transaction(["firebaseLocalStorage"],p?"readwrite":"readonly")}function El(l){return new ft(function(p,v){l.onsuccess=function(E){E&&E.target?p(E.target.result):p()},l.onerror=function(E){v(E.target.error)}})}function Bv(l,p){return l.g&&l.h&&function Si(){var l=G.navigator;return l&&l.serviceWorker&&l.serviceWorker.controller||null}()===l.h?Mp(l.g,"keyChanged",{key:p},l.s).then(function(){}).o(function(){}):Be()}function Gd(l){return zd(l).then(function(p){var v=wl(Eu(p,!1));return v.getAll?El(v.getAll()):new ft(function(E,T){var R=[],P=v.openCursor();P.onsuccess=function(U){(U=U.target.result)?(R.push(U.value),U.continue()):E(R)},P.onerror=function(U){T(U.target.error)}})}).then(function(p){var v={},E=[];if(0==l.b){for(E=0;E<p.length;E++)v[p[E].fbase_key]=p[E].value;E=uv(l.c,v),l.c=v}return E})}function Vv(l){l.l&&l.l.cancel("STOP_EVENT"),l.f&&(clearTimeout(l.f),l.f=null)}function Ya(l){var p=this,v=null;this.a=[],this.type="indexedDB",this.c=l,this.b=Be().then(function(){if(Sg()){var E=ht(),T="__sak"+E;return qd||(qd=new Ig),(v=qd).set(T,E).then(function(){return v.get(T)}).then(function(R){if(R!==E)throw Error("indexedDB not supported!");return v.U(T)}).then(function(){return v}).o(function(){return p.c})}return p.c}).then(function(E){return p.type=E.type,E.ca(function(T){Mn(p.a,function(R){R(T)})}),E})}function Eh(){this.a={},this.type="inMemory"}function Cl(){if(!function Ag(){var l="Node"==Se();if(!(l=Ch()||l&&me.Z.INTERNAL.node&&me.Z.INTERNAL.node.localStorage))return!1;try{return l.setItem("__sak","1"),l.removeItem("__sak"),!0}catch(p){return!1}}())throw"Node"==Se()?new V("internal-error","The LocalStorage compatibility library was not found."):new V("web-storage-unsupported");this.a=Ch()||me.Z.INTERNAL.node.localStorage,this.type="localStorage"}function Ch(){try{var l=G.localStorage,p=ht();return l&&(l.setItem(p,"1"),l.removeItem(p)),l}catch(v){return null}}function Rp(){this.type="nullStorage"}function Op(){if(!function Qb(){var l="Node"==Se();if(!(l=jv()||l&&me.Z.INTERNAL.node&&me.Z.INTERNAL.node.sessionStorage))return!1;try{return l.setItem("__sak","1"),l.removeItem("__sak"),!0}catch(p){return!1}}())throw"Node"==Se()?new V("internal-error","The SessionStorage compatibility library was not found."):new V("web-storage-unsupported");this.a=jv()||me.Z.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function jv(){try{var l=G.sessionStorage,p=ht();return l&&(l.setItem(p,"1"),l.removeItem(p)),l}catch(v){return null}}function Yb(){var l={};l.Browser=Dh,l.Node=Ih,l.ReactNative=Np,l.Worker=$d,this.a=l[Se()]}io.prototype.c=function(l){var p=l.data.eventType,v=l.data.eventId,E=this.a[p];if(E&&0<E.length){l.ports[0].postMessage({status:"ack",eventId:v,eventType:p,response:null});var T=[];Mn(E,function(R){T.push(Be().then(function(){return R(l.origin,l.data.data)}))}),x(T).then(function(R){var P=[];Mn(R,function(U){P.push({fulfilled:U.Qb,value:U.value,reason:U.reason?U.reason.message:void 0})}),Mn(P,function(U){for(var le in U)void 0===U[le]&&delete U[le]}),l.ports[0].postMessage({status:"done",eventId:v,eventType:p,response:P})})}},qi.prototype.postMessage=function(l,p){this.a.postMessage(l,p)},bh.prototype.close=function(){for(;0<this.a.length;)bi(this,this.a[0]);this.b=!0},(S=Ig.prototype).set=function(l,p){var v=this,E=!1;return wh(this,function(T){return El((T=wl(Eu(T,!0))).get(l))}).then(function(T){return wh(v,function(R){if(R=wl(Eu(R,!0)),T)return T.value=p,El(R.put(T));v.b++,E=!0;var P={};return P.fbase_key=l,P.value=p,El(R.add(P))})}).then(function(){return v.c[l]=p,Bv(v,l)}).oa(function(){E&&v.b--})},S.get=function(l){return wh(this,function(p){return El(wl(Eu(p,!1)).get(l))}).then(function(p){return p&&p.value})},S.U=function(l){var p=this,v=!1;return wh(this,function(E){return v=!0,p.b++,El(wl(Eu(E,!0)).delete(l))}).then(function(){return delete p.c[l],Bv(p,l)}).oa(function(){v&&p.b--})},S.ca=function(l){0==this.a.length&&function Wb(l){Vv(l),function p(){l.f=setTimeout(function(){l.l=Gd(l).then(function(v){0<v.length&&Mn(l.a,function(E){E(v)})}).then(function(){p()}).o(function(v){"STOP_EVENT"!=v.message&&p()})},800)}()}(this),this.a.push(l)},S.ia=function(l){mr(this.a,function(p){return p==l}),0==this.a.length&&Vv(this)},(S=Ya.prototype).get=function(l){return this.b.then(function(p){return p.get(l)})},S.set=function(l,p){return this.b.then(function(v){return v.set(l,p)})},S.U=function(l){return this.b.then(function(p){return p.U(l)})},S.ca=function(l){this.a.push(l)},S.ia=function(l){mr(this.a,function(p){return p==l})},(S=Eh.prototype).get=function(l){return Be(this.a[l])},S.set=function(l,p){return this.a[l]=p,Be()},S.U=function(l){return delete this.a[l],Be()},S.ca=function(){},S.ia=function(){},(S=Cl.prototype).get=function(l){var p=this;return Be().then(function(){return al(p.a.getItem(l))})},S.set=function(l,p){var v=this;return Be().then(function(){var E=Cn(p);null===E?v.U(l):v.a.setItem(l,E)})},S.U=function(l){var p=this;return Be().then(function(){p.a.removeItem(l)})},S.ca=function(l){G.window&&bo(G.window,"storage",l)},S.ia=function(l){G.window&&cs(G.window,"storage",l)},(S=Rp.prototype).get=function(){return Be(null)},S.set=function(){return Be()},S.U=function(){return Be()},S.ca=function(){},S.ia=function(){},(S=Op.prototype).get=function(l){var p=this;return Be().then(function(){return al(p.a.getItem(l))})},S.set=function(l,p){var v=this;return Be().then(function(){var E=Cn(p);null===E?v.U(l):v.a.setItem(l,E)})},S.U=function(l){var p=this;return Be().then(function(){p.a.removeItem(l)})},S.ca=function(){},S.ia=function(){};var xg,Pp,Dh={F:Cl,cb:Op},Ih={F:Cl,cb:Op},Np={F:Mr,cb:Rp},$d={F:Cl,cb:Rp},gs={rd:"local",NONE:"none",td:"session"};function Mg(){var l=!(lv(jn())||!ds()),p=pd(),v=hu();this.m=l,this.h=p,this.l=v,this.a={},xg||(xg=new Yb),l=xg;try{this.g=!Jm()&&cr()||!G.indexedDB?new l.a.F:new Ya(pi()?new Eh:new l.a.F)}catch(E){this.g=new Eh,this.h=!0}try{this.i=new l.a.cb}catch(E){this.i=new Eh}this.v=new Eh,this.f=at(this.Zb,this),this.b={}}function ys(){return Pp||(Pp=new Mg),Pp}function Dl(l,p){switch(p){case"session":return l.i;case"none":return l.v;default:return l.g}}function ki(l,p){return"firebase:"+l.name+(p?":"+p:"")}function Ac(l,p,v){return v=ki(p,v),"local"==p.F&&(l.b[v]=null),Dl(l,p.F).U(v)}function Kd(l){l.c&&(clearInterval(l.c),l.c=null)}function Xa(l){this.a=l,this.b=ys()}(S=Mg.prototype).get=function(l,p){return Dl(this,l.F).get(ki(l,p))},S.set=function(l,p,v){var E=ki(l,v),T=this,R=Dl(this,l.F);return R.set(E,p).then(function(){return R.get(E)}).then(function(P){"local"==l.F&&(T.b[E]=P)})},S.addListener=function(l,p,v){l=ki(l,p),this.l&&(this.b[l]=G.localStorage.getItem(l)),K(this.a)&&(Dl(this,"local").ca(this.f),this.h||(Jm()||!cr())&&G.indexedDB||!this.l||function Fp(l){Kd(l),l.c=setInterval(function(){for(var p in l.a){var v=G.localStorage.getItem(p),E=l.b[p];v!=E&&(l.b[p]=v,v=new ci({type:"storage",key:p,target:window,oldValue:E,newValue:v,a:!0}),l.Zb(v))}},1e3)}(this)),this.a[l]||(this.a[l]=[]),this.a[l].push(v)},S.removeListener=function(l,p,v){l=ki(l,p),this.a[l]&&(mr(this.a[l],function(E){return E==v}),0==this.a[l].length&&delete this.a[l]),K(this.a)&&(Dl(this,"local").ia(this.f),Kd(this))},S.Zb=function(l){if(l&&l.g){var p=l.a.key;if(null==p)for(var v in this.a){var E=this.b[v];void 0===E&&(E=null);var T=G.localStorage.getItem(v);T!==E&&(this.b[v]=T,this.nb(v))}else if(0==p.indexOf("firebase:")&&this.a[p]){if(void 0!==l.a.a?Dl(this,"local").ia(this.f):Kd(this),this.m)if(v=G.localStorage.getItem(p),(E=l.a.newValue)!==v)null!==E?G.localStorage.setItem(p,E):G.localStorage.removeItem(p);else if(this.b[p]===E&&void 0===l.a.a)return;var R=this;v=function(){(void 0!==l.a.a||R.b[p]!==G.localStorage.getItem(p))&&(R.b[p]=G.localStorage.getItem(p),R.nb(p))},yo&&us&&10==us&&G.localStorage.getItem(p)!==l.a.newValue&&l.a.newValue!==l.a.oldValue?setTimeout(v,10):v()}}else Mn(l,at(this.nb,this))},S.nb=function(l){this.a[l]&&Mn(this.a[l],function(p){p()})};var Pg,Wd={name:"authEvent",F:"local"};function Og(){this.a=ys()}function Qd(l,p){this.b=Cu,this.f=G.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=l,this.h=p,this.l=G.Int32Array?new Int32Array(64):Array(64),void 0===Pg&&(Pg=G.Int32Array?new Int32Array(Yd):Yd),this.reset()}te(Qd,function Ng(){this.b=-1});for(var Cu=64,xc=Cu-1,Ja=[],Fg=0;Fg<xc;Fg++)Ja[Fg]=0;var Du=ui(128,Ja);function Lp(l){for(var p=l.f,v=l.l,E=0,T=0;T<p.length;)v[E++]=p[T]<<24|p[T+1]<<16|p[T+2]<<8|p[T+3],T=4*E;for(p=16;64>p;p++){var R=(0|v[p-16])+(((T=0|v[p-15])>>>7|T<<25)^(T>>>18|T<<14)^T>>>3)|0,P=(0|v[p-7])+(((E=0|v[p-2])>>>17|E<<15)^(E>>>19|E<<13)^E>>>10)|0;v[p]=R+P|0}E=0|l.a[0],T=0|l.a[1];var U=0|l.a[2],le=0|l.a[3],c=0|l.a[4],a=0|l.a[5],h=0|l.a[6];for(R=0|l.a[7],p=0;64>p;p++){var f=((E>>>2|E<<30)^(E>>>13|E<<19)^(E>>>22|E<<10))+(E&T^E&U^T&U)|0;P=(R=R+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((P=(P=c&a^~c&h)+(0|Pg[p])|0)+(0|v[p])|0)|0,R=h,h=a,a=c,c=le+P|0,le=U,U=T,T=E,E=P+f|0}l.a[0]=l.a[0]+E|0,l.a[1]=l.a[1]+T|0,l.a[2]=l.a[2]+U|0,l.a[3]=l.a[3]+le|0,l.a[4]=l.a[4]+c|0,l.a[5]=l.a[5]+a|0,l.a[6]=l.a[6]+h|0,l.a[7]=l.a[7]+R|0}function Bp(l,p,v){void 0===v&&(v=p.length);var E=0,T=l.c;if("string"==typeof p)for(;E<v;)l.f[T++]=p.charCodeAt(E++),T==l.b&&(Lp(l),T=0);else{if(!Gt(p))throw Error("message must be string or array");for(;E<v;){var R=p[E++];if(!("number"==typeof R&&0<=R&&255>=R&&R==(0|R)))throw Error("message must be a byte array");l.f[T++]=R,T==l.b&&(Lp(l),T=0)}}l.c=T,l.g+=v}Qd.prototype.reset=function(){this.g=this.c=0,this.a=G.Int32Array?new Int32Array(this.h):yn(this.h)};var Yd=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Uv(){Qd.call(this,8,Xb)}te(Uv,Qd);var Xb=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Vp(l,p,v,E,T,R){this.v=l,this.i=p,this.l=v,this.m=E||null,this.u=T||null,this.s=R,this.h=p+":"+v,this.C=new Og,this.g=new Xa(this.h),this.f=null,this.b=[],this.a=this.c=null}function Il(l){return new V("invalid-cordova-configuration",l)}function jp(l,p){for(var v=0;v<l.b.length;v++)try{l.b[v](p)}catch(E){}}function qv(l){return l.f||(l.f=l.ma().then(function(){return new ft(function(p){l.Ea(function v(E){return p(E),l.Ta(v),!1}),function zv(l){function p(P){E=!0,T&&T.cancel(),Jd(l).then(function(U){var le=v;if(U&&P&&P.url){var c=null;-1!=(le=uh(P.url)).indexOf("/__/auth/callback")&&(c=(c="object"==typeof(c=al(hi(c=di(le),"firebaseError")||null))?de(c):null)?new Ui(U.c,U.b,null,null,c,null,U.T()):new Ui(U.c,U.b,le,U.f,null,null,U.T())),le=c||v}jp(l,le)})}var v=new Ui("unknown",null,null,null,new V("no-auth-event")),E=!1,T=Ql(500).then(function(){return Jd(l).then(function(){E||jp(l,v)})}),R=G.handleOpenURL;G.handleOpenURL=function(P){if(0==P.toLowerCase().indexOf(st("BuildInfo.packageName",G).toLowerCase()+"://")&&p({url:P}),"function"==typeof R)try{R(P)}catch(U){console.error(U)}},gc||(gc=new Sn),function vu(l){var p=gc;p.a.push(l),p.b||(p.b=function(v){for(var E=0;E<p.a.length;E++)p.a[E](v)},"function"==typeof(l=st("universalLinks.subscribe",G))&&l(null,p.b))}(p)}(l)})})),l.f}function Jd(l){var p=null;return function Rg(l){return l.b.get(Wd,l.a).then(function(p){return cp(p)})}(l.g).then(function(v){return p=v,Ac((v=l.g).b,Wd,v.a)}).then(function(){return p})}function Mc(l){this.a=l,this.b=ys()}(S=Vp.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=function oe(){return ge(void 0)?Co().then(function(){return new ft(function(l,p){var v=G.document,E=setTimeout(function(){p(Error("Cordova framework is not ready."))},1e3);v.addEventListener("deviceready",function(){clearTimeout(E),l()},!1)})}):Kn(Error("Cordova must run in an Android or iOS file scheme."))}().then(function(){if("function"!=typeof st("universalLinks.subscribe",G))throw Il("cordova-universal-links-plugin-fix is not installed");if(void 0===st("BuildInfo.packageName",G))throw Il("cordova-plugin-buildinfo is not installed");if("function"!=typeof st("cordova.plugins.browsertab.openUrl",G))throw Il("cordova-plugin-browsertab is not installed");if("function"!=typeof st("cordova.InAppBrowser.open",G))throw Il("cordova-plugin-inappbrowser is not installed")},function(){throw new V("cordova-not-ready")})},S.Pb=function(l,p){return p(new V("operation-not-supported-in-this-environment")),Be()},S.Nb=function(){return Kn(new V("operation-not-supported-in-this-environment"))},S.ac=function(){return!1},S.Yb=function(){return!0},S.Ub=function(){return!0},S.Ob=function(l,p,v,E){if(this.c)return Kn(new V("redirect-operation-pending"));var T=this,R=G.document,P=null,U=null,le=null,c=null;return this.c=Be().then(function(){return up(p),qv(T)}).then(function(){return function Xd(l,p,v,E,T){var R=function Lg(){for(var l=20,p=[];0<l;)p.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),l--;return p.join("")}(),P=new Ui(p,E,null,R,new V("no-auth-event"),null,T),U=st("BuildInfo.packageName",G);if("string"!=typeof U)throw new V("invalid-cordova-configuration");var le=st("BuildInfo.displayName",G),c={};if(jn().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=U;else{if(!jn().toLowerCase().match(/android/))return Kn(new V("operation-not-supported-in-this-environment"));c.apn=U}le&&(c.appDisplayName=le),R=function Hv(l){var p=new Uv;Bp(p,l),l=[];var v=8*p.g;Bp(p,Du,56>p.c?56-p.c:p.b-(p.c-56));for(var E=63;56<=E;E--)p.f[E]=255&v,v/=256;for(Lp(p),E=v=0;E<p.i;E++)for(var T=24;0<=T;T-=8)l[v++]=p.a[E]>>T&255;return function rr(l){return Kt(l,function(p){return 1<(p=p.toString(16)).length?p:"0"+p}).join("")}(l)}(R),c.sessionId=R;var a=Hd(l.v,l.i,l.l,p,v,null,E,l.m,c,l.u,T,l.s);return l.ma().then(function(){var h=l.h;return l.C.a.set(Wd,P.w(),h)}).then(function(){var h=st("cordova.plugins.browsertab.isAvailable",G);if("function"!=typeof h)throw new V("invalid-cordova-configuration");var f=null;h(function(g){if(g){if("function"!=typeof(f=st("cordova.plugins.browsertab.openUrl",G)))throw new V("invalid-cordova-configuration");f(a)}else{if("function"!=typeof(f=st("cordova.InAppBrowser.open",G)))throw new V("invalid-cordova-configuration");g=jn(),l.a=f(a,g.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||g.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(T,l,p,v,E)}).then(function(){return new ft(function(a,h){U=function(){var f=st("cordova.plugins.browsertab.close",G);return a(),"function"==typeof f&&f(),T.a&&"function"==typeof T.a.close&&(T.a.close(),T.a=null),!1},T.Ea(U),c=function(){Wn()&&le()},R.addEventListener("resume",le=function(){P||(P=Ql(2e3).then(function(){h(new V("redirect-cancelled-by-user"))}))},!1),jn().toLowerCase().match(/android/)||R.addEventListener("visibilitychange",c,!1)}).o(function(a){return Jd(T).then(function(){throw a})})}).oa(function(){le&&R.removeEventListener("resume",le,!1),c&&R.removeEventListener("visibilitychange",c,!1),P&&P.cancel(),U&&T.Ta(U),T.c=null})},S.Ea=function(l){this.b.push(l),qv(this).o(function(p){"auth/invalid-cordova-configuration"===p.code&&(p=new Ui("unknown",null,null,null,new V("no-auth-event")),l(p))})},S.Ta=function(l){mr(this.b,function(p){return p==l})};var Zd={name:"pendingRedirect",F:"session"};function Up(l){return Ac(l.b,Zd,l.a)}function qp(l,p,v,E){this.i={},this.u=0,this.D=l,this.v=p,this.m=v,this.J=E,this.h=[],this.f=!1,this.l=at(this.s,this),this.b=new sf,this.C=new qg,this.g=new Mc($p(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Vg(this.D,this.v,this.m,et,this.J)}function Vg(l,p,v,E,T){var R=me.Z.SDK_VERSION||null;return ge()?new Vp(l,p,v,R,E,T):new Eg(l,p,v,R,E,T)}function jg(l){l.f||(l.f=!0,l.a.Ea(l.l));var p=l.a;return l.a.ma().o(function(v){throw l.a==p&&l.reset(),v})}function ef(l){l.a.Yb()&&jg(l).o(function(p){var v=new Ui("unknown",null,null,null,new V("operation-not-supported-in-this-environment"));rf(p)&&l.s(v)}),l.a.Ub()||Kp(l.b)}function Th(l,p){Gn(l.h,p)||l.h.push(p),l.f||function Hp(l){return l.b.get(Zd,l.a).then(function(p){return"pending"==p})}(l.g).then(function(v){v?Up(l.g).then(function(){jg(l).o(function(E){var T=new Ui("unknown",null,null,null,new V("operation-not-supported-in-this-environment"));rf(E)&&l.s(T)})}):ef(l)}).o(function(){ef(l)})}function zp(l,p){mr(l.h,function(v){return v==p})}qp.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=Vg(this.D,this.v,this.m,null,this.J),this.i={}},qp.prototype.s=function(l){if(!l)throw new V("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),l&&l.getUid()&&this.i.hasOwnProperty(l.getUid()))return!1;for(var p=!1,v=0;v<this.h.length;v++){var E=this.h[v];if(E.Gb(l.c,l.b)){(p=this.c[l.c])&&(p.h(l,E),l&&(l.f||l.b)&&(this.i[l.getUid()]=!0,this.u=Date.now())),p=!0;break}}return Kp(this.b),p};var tf=new to(2e3,1e4),nf=new to(3e4,6e4);function Ug(l,p,v,E,T,R,P){return l.a.Nb(p,v,E,function(){l.f||(l.f=!0,l.a.Ea(l.l))},function(){l.reset()},T,R,P)}function rf(l){return!(!l||"auth/cordova-not-ready"!=l.code)}function Hg(l,p,v,E,T){var R;return function Bg(l){return l.b.set(Zd,"pending",l.a)}(l.g).then(function(){return l.a.Ob(p,v,E,T).o(function(P){if(rf(P))throw new V("operation-not-supported-in-this-environment");return R=P,Up(l.g).then(function(){throw R})}).then(function(){return l.a.ac()?new ft(function(){}):Up(l.g).then(function(){return l.ra()}).then(function(){}).o(function(){})})})}function Gp(l,p,v,E,T){return l.a.Pb(E,function(R){p.na(v,null,R,T)},tf.get())}qp.prototype.ra=function(){return this.b.ra()};var Iu={};function $p(l,p,v){return l=l+":"+p,v&&(l=l+":"+v.url),l}function Tu(l,p,v,E){var T=$p(p,v,E);return Iu[T]||(Iu[T]=new qp(l,p,v,E)),Iu[T]}function sf(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Kp(l){l.g||(l.g=!0,kc(l,!1,null,null))}function af(l){l.g&&!l.i&&kc(l,!1,null,null)}function Jb(l,p){if(l.b=function(){return Be(p)},l.f.length)for(var v=0;v<l.f.length;v++)l.f[v](p)}function kc(l,p,v,E){p?E?function Za(l,p){if(l.b=function(){return Kn(p)},l.c.length)for(var v=0;v<l.c.length;v++)l.c[v](p)}(l,E):Jb(l,v):Jb(l,{user:null}),l.f=[],l.c=[]}function qg(){}function Gv(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(l){this.jb=l},enumerable:!1})}function Wo(l,p){this.a=p,Je(this,"verificationId",l)}function Wp(l,p,v,E){return new Dr(l).gb(p,v).then(function(T){return new Wo(T,E)})}function $v(l){var p=oh(l);if(!(p&&p.exp&&p.auth_time&&p.iat))throw new V("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");pe(this,{token:l,expirationTime:zo(1e3*p.exp),authTime:zo(1e3*p.auth_time),issuedAtTime:zo(1e3*p.iat),signInProvider:p.firebase&&p.firebase.sign_in_provider?p.firebase.sign_in_provider:null,signInSecondFactor:p.firebase&&p.firebase.sign_in_second_factor?p.firebase.sign_in_second_factor:null,claims:p})}function zg(l,p,v){var E=p&&p[Qp];if(!E)throw new V("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=l,this.f=$(p),this.g=v,this.c=new sp(null,E),this.b=[];var T=this;Mn(p[Kv]||[],function(R){(R=vd(R))&&T.b.push(R)}),Je(this,"auth",this.a),Je(this,"session",this.c),Je(this,"hints",this.b)}sf.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},sf.prototype.h=function(l,p){if(l){this.reset(),this.g=!0;var v=l.c,E=l.b,T=l.a&&"auth/web-storage-unsupported"==l.a.code,R=l.a&&"auth/operation-not-supported-in-this-environment"==l.a.code;this.i=!(!T&&!R),"unknown"!=v||T||R?l.a?(kc(this,!0,null,l.a),Be()):p.Fa(v,E)?function uf(l,p,v){v=v.Fa(p.c,p.b);var E=p.g,T=p.f,R=p.i,P=p.T(),U=!!p.c.match(/Redirect$/);v(E,T,P,R).then(function(le){kc(l,U,le,null)}).o(function(le){kc(l,U,null,le)})}(this,l,p):Kn(new V("invalid-auth-event")):(kc(this,!1,null,null),Be())}else Kn(new V("invalid-auth-event"))},sf.prototype.ra=function(){var l=this;return new ft(function(p,v){l.b?l.b().then(p,v):(l.f.push(p),l.c.push(v),function Zb(l){var p=new V("timeout");l.a&&l.a.cancel(),l.a=Ql(nf.get()).then(function(){l.b||(l.g=!0,kc(l,!0,null,p))})}(l))})},qg.prototype.h=function(l,p){if(l){var v=l.c,E=l.b;l.a?(p.na(l.c,null,l.a,l.b),Be()):p.Fa(v,E)?function e0(l,p){var v=l.b,E=l.c;p.Fa(E,v)(l.g,l.f,l.T(),l.i).then(function(T){p.na(E,T,null,v)}).o(function(T){p.na(E,null,T,v)})}(l,p):Kn(new V("invalid-auth-event"))}else Kn(new V("invalid-auth-event"))},Wo.prototype.confirm=function(l){return l=mv(this.verificationId,l),this.a(l)};var Kv="mfaInfo",Qp="mfaPendingCredential";function cf(l,p,v,E){V.call(this,"multi-factor-auth-required",E,p),this.b=new zg(l,p,v),Je(this,"resolver",this.b)}function Gg(l,p,v){if(l&&Ct(l.serverResponse)&&"auth/multi-factor-auth-required"===l.code)try{return new cf(p,l.serverResponse,v,l.message)}catch(E){}return null}function $g(){}function Tt(l){Je(this,"factorId",l.fa),this.a=l}function Xn(l){if(Tt.call(this,l),this.a.fa!=Dr.PROVIDER_ID)throw new V("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function eu(l,p){for(var v in Ur.call(this,l),p)this[v]=p[v]}function Yp(l,p){this.a=l,this.b=[],this.c=at(this.yc,this),bo(this.a,"userReloaded",this.c);var v=[];p&&p.multiFactor&&p.multiFactor.enrolledFactors&&Mn(p.multiFactor.enrolledFactors,function(E){var T=null,R={};if(E){E.uid&&(R[Yt]=E.uid),E.displayName&&(R[Jf]=E.displayName),E.enrollmentTime&&(R[ye]=new Date(E.enrollmentTime).toISOString()),E.phoneNumber&&(R[Bi]=E.phoneNumber);try{T=new Er(R)}catch(P){}E=T}else E=null;E&&v.push(E)}),Qo(this,v)}function Qo(l,p){l.b=p,Je(l,"enrolledFactors",p)}function Jp(l,p,v){if(this.h=l,this.i=p,this.g=v,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function Sh(l,p){l.stop(),l.b=Ql(function Qv(l,p){return p?(l.a=l.c,l.g()):(p=l.a,l.a*=2,l.a>l.f&&(l.a=l.f),p)}(l,p)).then(function(){return function Nb(){var l=G.document,p=null;return Wn()||!l?Be():new ft(function(v){p=function(){Wn()&&(l.removeEventListener("visibilitychange",p,!1),v())},l.addEventListener("visibilitychange",p,!1)}).o(function(v){throw l.removeEventListener("visibilitychange",p,!1),v})}()}).then(function(){return l.h()}).then(function(){Sh(l,!0)}).o(function(v){l.i(v)&&Sh(l,!1)})}function vs(l){this.f=l,this.b=this.a=null,this.c=Date.now()}function Tl(l,p){void 0===p&&(p=l.b?(p=l.b).a-p.g:0),l.c=Date.now()+1e3*p}function Zp(l,p){l.b=uc(p[Ir]||""),l.a=p.refreshToken,Tl(l,void 0!==(p=p.expiresIn)?Number(p):void 0)}function Sl(l,p){this.a=l||null,this.b=p||null,pe(this,{lastSignInTime:zo(p||null),creationTime:zo(l||null)})}function df(l,p,v,E,T,R){pe(this,{uid:l,displayName:E||null,photoURL:T||null,email:v||null,phoneNumber:R||null,providerId:p})}function zi(l,p,v){this.N=[],this.l=l.apiKey,this.m=l.appName,this.s=l.authDomain||null;var E=me.Z.SDK_VERSION?Zl(me.Z.SDK_VERSION):null;this.a=new dr(this.l,Qt(et),E),(this.u=l.emulatorConfig||null)&&ms(this.a,this.u),this.h=new vs(this.a),nm(this,p[Ir]),Zp(this.h,p),Je(this,"refreshToken",this.h.a),rm(this,v||{}),qr.call(this),this.P=!1,this.s&&Ua()&&(this.b=Tu(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function r0(l){return new Jp(function(){return l.I(!0)},function(p){return!(!p||"auth/network-request-failed"!=p.code)},function(){var p=l.h.c-Date.now()-3e5;return 0<p?p:0})}(this),this.ba=at(this.ib,this);var T=this;this.za=null,this.Pa=function(R){T.xa(R.h)},this.qa=null,this.Ba=function(R){ff(T,R.c)},this.$=null,this.aa=[],this.Oa=function(R){pf(T,R.f)},this.ja=null,this.S=new Yp(this,v),Je(this,"multiFactor",this.S)}function ff(l,p){l.u=p,ms(l.a,p),l.b&&(p=l.b,l.b=Tu(l.s,l.l,l.m,l.u),l.P&&(zp(p,l),Th(l.b,l)))}function Rc(l,p){l.qa&&cs(l.qa,"languageCodeChanged",l.Pa),(l.qa=p)&&bo(p,"languageCodeChanged",l.Pa)}function Ah(l,p){l.$&&cs(l.$,"emulatorConfigChanged",l.Ba),(l.$=p)&&bo(p,"emulatorConfigChanged",l.Ba)}function pf(l,p){l.aa=p,bp(l.a,me.Z.SDK_VERSION?Zl(me.Z.SDK_VERSION,l.aa):null)}function em(l,p){l.ja&&cs(l.ja,"frameworkChanged",l.Oa),(l.ja=p)&&bo(p,"frameworkChanged",l.Oa)}function Kg(l){try{return me.Z.app(l.m).auth()}catch(p){throw new V("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+l.m+"'!")}}function Yv(l){l.J||l.D.b||(l.D.start(),cs(l,"tokenChanged",l.ba),bo(l,"tokenChanged",l.ba))}function tm(l){cs(l,"tokenChanged",l.ba),l.D.stop()}function nm(l,p){l.Aa=p,Je(l,"_lat",p)}function Al(l){for(var p=[],v=0;v<l.W.length;v++)p.push(l.W[v](l));return x(p).then(function(){return l})}function xl(l){l.b&&!l.P&&(l.P=!0,Th(l.b,l))}function rm(l,p){pe(l,{uid:p.uid,displayName:p.displayName||null,photoURL:p.photoURL||null,email:p.email||null,emailVerified:p.emailVerified||!1,phoneNumber:p.phoneNumber||null,isAnonymous:p.isAnonymous||!1,tenantId:p.tenantId||null,metadata:new Sl(p.createdAt,p.lastLoginAt),providerData:[]}),l.a.b=l.tenantId}function mf(){}function an(l){return Be().then(function(){if(l.J)throw new V("app-deleted")})}function Qg(l){return Kt(l.providerData,function(p){return p.providerId})}function Yg(l,p){p&&(gf(l,p.providerId),l.providerData.push(p))}function gf(l,p){mr(l.providerData,function(v){return v.providerId==p})}function Un(l,p,v){("uid"!=p||v)&&l.hasOwnProperty(p)&&Je(l,p,v)}function oo(l,p){l!=p&&(pe(l,{uid:p.uid,displayName:p.displayName,photoURL:p.photoURL,email:p.email,emailVerified:p.emailVerified,phoneNumber:p.phoneNumber,isAnonymous:p.isAnonymous,tenantId:p.tenantId,providerData:[]}),Je(l,"metadata",p.metadata?function hf(l){return new Sl(l.a,l.b)}(p.metadata):new Sl),Mn(p.providerData,function(v){Yg(l,v)}),function lf(l,p){l.b=p.b,l.a=p.a,l.c=p.c}(l.h,p.h),Je(l,"refreshToken",l.h.a),Qo(l.S,p.S.b))}function Su(l){return l.I().then(function(p){var v=l.isAnonymous;return function Xg(l,p){return en(l.a,Av,{idToken:p}).then(at(l.Kc,l))}(l,p).then(function(){return v||Un(l,"isAnonymous",!1),p})})}function tu(l,p){p[Ir]&&l.Aa!=p[Ir]&&(Zp(l.h,p),l.dispatchEvent(new eu("tokenChanged")),nm(l,p[Ir]),Un(l,"refreshToken",l.h.a))}function im(l,p){return Su(l).then(function(){if(Gn(Qg(l),p))return Al(l).then(function(){throw new V("provider-already-linked")})})}function $s(l,p,v){return Do({user:l,credential:hh(p),additionalUserInfo:p=Id(p),operationType:v})}function Au(l,p){return tu(l,p),l.reload().then(function(){return l})}function Xv(l,p,v,E,T){if(!Ua())return Kn(new V("operation-not-supported-in-this-environment"));if(l.i&&!T)return Kn(l.i);var R=Dd(v.providerId),P=ht(l.uid+":::"),U=null;(!pd()||ds())&&l.s&&v.isOAuthProvider&&(U=Hd(l.s,l.l,l.m,p,v,null,P,me.Z.SDK_VERSION||null,null,null,l.tenantId,l.u));var le=dd(U,R&&R.va,R&&R.ua);return E=E().then(function(){if(Tr(l),!T)return l.I().then(function(){})}).then(function(){return Ug(l.b,le,p,v,P,!!U,l.tenantId)}).then(function(){return new ft(function(c,a){l.na(p,null,new V("cancelled-popup-request"),l.g||null),l.f=c,l.C=a,l.g=P,l.c=Gp(l.b,l,p,le,P)})}).then(function(c){return le&&sl(le),c?Do(c):null}).o(function(c){throw le&&sl(le),c}),tn(l,E,T)}function Jg(l,p,v,E,T){if(!Ua())return Kn(new V("operation-not-supported-in-this-environment"));if(l.i&&!T)return Kn(l.i);var R=null,P=ht(l.uid+":::");return E=E().then(function(){if(Tr(l),!T)return l.I().then(function(){})}).then(function(){return l.ga=P,Al(l)}).then(function(U){return l.ha&&(U=(U=l.ha).b.set(Ca,l.w(),U.a)),U}).then(function(){return Hg(l.b,p,v,P,l.tenantId)}).o(function(U){if(R=U,l.ha)return yf(l.ha);throw R}).then(function(){if(R)throw R}),tn(l,E,T)}function Tr(l){if(!l.b||!l.P)throw new V(l.b&&!l.P?"internal-error":"auth-domain-config-required")}function tn(l,p,v){var E=function om(l,p,v){return l.i&&!v?(p.cancel(),Kn(l.i)):p.o(function(E){throw!E||"auth/user-disabled"!=E.code&&"auth/user-token-expired"!=E.code||(l.i||l.dispatchEvent(new eu("userInvalidated")),l.i=E),E})}(l,p,v);return l.N.push(E),E.oa(function(){sr(l.N,E)}),E.o(function(T){var R=null;throw T&&"auth/multi-factor-auth-required"===T.code&&(R=Gg(T.w(),Kg(l),at(l.jc,l))),R||T})}function Zg(l){if(!l.apiKey)return null;var p={apiKey:l.apiKey,authDomain:l.authDomain,appName:l.appName,emulatorConfig:l.emulatorConfig},v={};if(!l.stsTokenManager||!l.stsTokenManager.accessToken)return null;v[Ir]=l.stsTokenManager.accessToken,v.refreshToken=l.stsTokenManager.refreshToken||null;var E=l.stsTokenManager.expirationTime;E&&(v.expiresIn=(E-Date.now())/1e3);var T=new zi(p,v,l);return l.providerData&&Mn(l.providerData,function(R){R&&Yg(T,Do(R))}),l.redirectEventId&&(T.ga=l.redirectEventId),T}function Ml(l){this.a=l,this.b=ys()}zg.prototype.Rc=function(l){var p=this;return l.tb(this.a.a,this.c).then(function(v){var E=$(p.f);return delete E[Kv],delete E[Qp],re(E,v),p.g(E)})},te(cf,V),$g.prototype.tb=function(l,p,v){return p.type==pu?function Wv(l,p,v,E){return v.Ha().then(function(T){return T={idToken:T},void 0!==E&&(T.displayName=E),re(T,{phoneVerificationInfo:mc(l.a)}),en(p,jb,T)})}(this,l,p,v):function t0(l,p,v){return v.Ha().then(function(E){return re(E={mfaPendingCredential:E},{phoneVerificationInfo:mc(l.a)}),en(p,vh,E)})}(this,l,p)},te(Tt,$g),te(Xn,Tt),te(eu,Ur),(S=Yp.prototype).yc=function(l){Qo(this,function Xp(l){var p=[];return Mn(l.mfaInfo||[],function(v){(v=vd(v))&&p.push(v)}),p}(l.hd))},S.Sb=function(){return this.a.I().then(function(l){return new sp(l,null)})},S.fc=function(l,p){var v=this,E=this.a.a;return this.Sb().then(function(T){return l.tb(E,T,p)}).then(function(T){return tu(v.a,T),v.a.reload()})},S.bd=function(l){var p=this,v="string"==typeof l?l:l.uid,E=this.a.a;return this.a.I().then(function(T){return en(E,kv,{idToken:T,mfaEnrollmentId:v})}).then(function(T){var R=Jh(p.b,function(P){return P.uid!=v});return Qo(p,R),tu(p.a,T),p.a.reload().o(function(P){if("auth/user-token-expired"!=P.code)throw P})})},S.w=function(){return{multiFactor:{enrolledFactors:Kt(this.b,function(l){return l.w()})}}},Jp.prototype.start=function(){this.a=this.c,Sh(this,!0)},Jp.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},vs.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},vs.prototype.getToken=function(l){return l=!!l,this.b&&!this.a?Kn(new V("user-token-expired")):l||!this.b||Date.now()>this.c-3e4?this.a?function n0(l,p){return function fg(l,p){return new ft(function(v,E){"refresh_token"==p.grant_type&&p.refresh_token||"authorization_code"==p.grant_type&&p.code?dg(l,l.l+"?key="+encodeURIComponent(l.c),function(T){T?T.error?E(bg(T)):T.access_token&&T.refresh_token?v(T):E(new V("internal-error")):E(new V("network-request-failed"))},"POST",ic(p).toString(),l.g,l.m.get()):E(new V("internal-error"))})}(l.f,p).then(function(v){return l.b=uc(v.access_token),l.a=v.refresh_token,Tl(l,v.expires_in),{accessToken:l.b.toString(),refreshToken:l.a}}).o(function(v){throw"auth/user-token-expired"==v.code&&(l.a=null),v})}(this,{grant_type:"refresh_token",refresh_token:this.a}):Be(null):Be({accessToken:this.b.toString(),refreshToken:this.a})},Sl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},te(zi,qr),zi.prototype.xa=function(l){this.za=l,_p(this.a,l)},zi.prototype.la=function(){return this.za},zi.prototype.Ga=function(){return yn(this.aa)},zi.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},Je(zi.prototype,"providerId","firebase"),(S=zi.prototype).reload=function(){var l=this;return tn(this,an(this).then(function(){return Su(l).then(function(){return Al(l)}).then(mf)}))},S.oc=function(l){return this.I(l).then(function(p){return new $v(p)})},S.I=function(l){var p=this;return tn(this,an(this).then(function(){return p.h.getToken(l)}).then(function(v){if(!v)throw new V("internal-error");return v.accessToken!=p.Aa&&(nm(p,v.accessToken),p.dispatchEvent(new eu("tokenChanged"))),Un(p,"refreshToken",v.refreshToken),v.accessToken}))},S.Kc=function(l){if(!(l=l.users)||!l.length)throw new V("internal-error");rm(this,{uid:(l=l[0]).localId,displayName:l.displayName,photoURL:l.photoUrl,email:l.email,emailVerified:!!l.emailVerified,phoneNumber:l.phoneNumber,lastLoginAt:l.lastLoginAt,createdAt:l.createdAt,tenantId:l.tenantId});for(var p=function o0(l){return(l=l.providerUserInfo)&&l.length?Kt(l,function(p){return new df(p.rawId,p.providerId,p.email,p.displayName,p.photoUrl,p.phoneNumber)}):[]}(l),v=0;v<p.length;v++)Yg(this,p[v]);Un(this,"isAnonymous",!(this.email&&l.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new eu("userReloaded",{hd:l}))},S.Lc=function(l){return ul("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(l)},S.ub=function(l){var p=this,v=null;return tn(this,l.c(this.a,this.uid).then(function(E){return tu(p,E),v=$s(p,E,"reauthenticate"),p.i=null,p.reload()}).then(function(){return v}),!0)},S.Cc=function(l){return ul("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(l)},S.rb=function(l){var p=this,v=null;return tn(this,im(this,l.providerId).then(function(){return p.I()}).then(function(E){return l.b(p.a,E)}).then(function(E){return v=$s(p,E,"link"),Au(p,E)}).then(function(){return v}))},S.Dc=function(l,p){var v=this;return tn(this,im(this,"phone").then(function(){return Wp(Kg(v),l,p,at(v.rb,v))}))},S.Mc=function(l,p){var v=this;return tn(this,Be().then(function(){return Wp(Kg(v),l,p,at(v.ub,v))}),!0)},S.Cb=function(l){var p=this;return tn(this,this.I().then(function(v){return p.a.Cb(v,l)}).then(function(v){return tu(p,v),p.reload()}))},S.ed=function(l){var p=this;return tn(this,this.I().then(function(v){return l.b(p.a,v)}).then(function(v){return tu(p,v),p.reload()}))},S.Db=function(l){var p=this;return tn(this,this.I().then(function(v){return p.a.Db(v,l)}).then(function(v){return tu(p,v),p.reload()}))},S.Eb=function(l){if(void 0===l.displayName&&void 0===l.photoURL)return an(this);var p=this;return tn(this,this.I().then(function(v){return p.a.Eb(v,{displayName:l.displayName,photoUrl:l.photoURL})}).then(function(v){return tu(p,v),Un(p,"displayName",v.displayName||null),Un(p,"photoURL",v.photoUrl||null),Mn(p.providerData,function(E){"password"===E.providerId&&(Je(E,"displayName",p.displayName),Je(E,"photoURL",p.photoURL))}),Al(p)}).then(mf))},S.cd=function(l){var p=this;return tn(this,Su(this).then(function(v){return Gn(Qg(p),l)?function Bd(l,p,v){return en(l,gl,{idToken:p,deleteProvider:v})}(p.a,v,[l]).then(function(E){var T={};return Mn(E.providerUserInfo||[],function(R){T[R.providerId]=!0}),Mn(Qg(p),function(R){T[R]||gf(p,R)}),T[Dr.PROVIDER_ID]||Je(p,"phoneNumber",null),Al(p)}):Al(p).then(function(){throw new V("no-such-provider")})}))},S.delete=function(){var l=this;return tn(this,this.I().then(function(p){return en(l.a,Hi,{idToken:p})}).then(function(){l.dispatchEvent(new eu("userDeleted"))})).then(function(){for(var p=0;p<l.N.length;p++)l.N[p].cancel("app-deleted");Rc(l,null),Ah(l,null),em(l,null),l.N=[],l.J=!0,tm(l),Je(l,"refreshToken",null),l.b&&zp(l.b,l)})},S.Gb=function(l,p){return!!("linkViaPopup"==l&&(this.g||null)==p&&this.f||"reauthViaPopup"==l&&(this.g||null)==p&&this.f||"linkViaRedirect"==l&&(this.ga||null)==p||"reauthViaRedirect"==l&&(this.ga||null)==p)},S.na=function(l,p,v,E){"linkViaPopup"!=l&&"reauthViaPopup"!=l||E!=(this.g||null)||(v&&this.C?this.C(v):p&&!v&&this.f&&this.f(p),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},S.Fa=function(l,p){return"linkViaPopup"==l&&p==(this.g||null)?at(this.Lb,this):"reauthViaPopup"==l&&p==(this.g||null)?at(this.Mb,this):"linkViaRedirect"==l&&(this.ga||null)==p?at(this.Lb,this):"reauthViaRedirect"==l&&(this.ga||null)==p?at(this.Mb,this):null},S.Ec=function(l){var p=this;return Xv(this,"linkViaPopup",l,function(){return im(p,l.providerId).then(function(){return Al(p)})},!1)},S.Nc=function(l){return Xv(this,"reauthViaPopup",l,function(){return Be()},!0)},S.Fc=function(l){var p=this;return Jg(this,"linkViaRedirect",l,function(){return im(p,l.providerId)},!1)},S.Oc=function(l){return Jg(this,"reauthViaRedirect",l,function(){return Be()},!0)},S.Lb=function(l,p,v,E){var T=this;this.c&&(this.c.cancel(),this.c=null);var R=null;return tn(this,this.I().then(function(P){return Qa(T.a,{requestUri:l,postBody:E,sessionId:p,idToken:P})}).then(function(P){return R=$s(T,P,"link"),Au(T,P)}).then(function(){return R}))},S.Mb=function(l,p,v,E){var T=this;this.c&&(this.c.cancel(),this.c=null);var R=null;return tn(this,Be().then(function(){return Cr(Ip(T.a,{requestUri:l,sessionId:p,postBody:E,tenantId:v}),T.uid)}).then(function(U){return R=$s(T,U,"reauthenticate"),tu(T,U),T.i=null,T.reload()}).then(function(){return R}),!0)},S.vb=function(l){var p=this,v=null;return tn(this,this.I().then(function(E){return v=E,void 0===l||K(l)?{}:fs(new bd(l))}).then(function(E){return p.a.vb(v,E)}).then(function(E){if(p.email!=E)return p.reload()}).then(function(){}))},S.Fb=function(l,p){var v=this,E=null;return tn(this,this.I().then(function(T){return E=T,void 0===p||K(p)?{}:fs(new bd(p))}).then(function(T){return v.a.Fb(E,l,T)}).then(function(T){if(v.email!=T)return v.reload()}).then(function(){}))},S.jc=function(l){var p=null,v=this;return tn(this,l=Cr(Be(l),v.uid).then(function(E){return p=$s(v,E,"reauthenticate"),tu(v,E),v.i=null,v.reload()}).then(function(){return p}),!0)},S.toJSON=function(){return this.w()},S.w=function(){var l={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&re(l,this.metadata.w()),Mn(this.providerData,function(p){l.providerData.push(function Ha(l){var v,p={};for(v in l)l.hasOwnProperty(v)&&(p[v]=l[v]);return p}(p))}),re(l,this.S.w()),l};var Ca={name:"redirectUser",F:"session"};function yf(l){return Ac(l.b,Ca,l.a)}function ey(l){this.a=l,this.b=ys(),this.c=null,this.f=function xh(l){var p=Ks("local"),v=Ks("session"),E=Ks("none");return function kg(l,p,v){var E=ki(p,v),T=Dl(l,p.F);return l.get(p,v).then(function(R){var P=null;try{P=al(G.localStorage.getItem(E))}catch(U){}if(P&&!R)return G.localStorage.removeItem(E),l.set(p,P,v);P&&R&&"localStorage"!=T.type&&G.localStorage.removeItem(E)})}(l.b,p,l.a).then(function(){return l.b.get(v,l.a)}).then(function(T){return T?v:l.b.get(E,l.a).then(function(R){return R?E:l.b.get(p,l.a).then(function(P){return P?p:l.b.get(Mu,l.a).then(function(U){return U?Ks(U):p})})})}).then(function(T){return l.c=T,sm(l,T.F)}).o(function(){l.c||(l.c=p)})}(this),this.b.addListener(Ks("local"),this.a,at(this.g,this))}function sm(l,p){var E,v=[];for(E in gs)gs[E]!==p&&v.push(Ac(l.b,Ks(gs[E]),l.a));return v.push(Ac(l.b,Mu,l.a)),function k(l){return new ft(function(p,v){var E=l.length,T=[];if(E)for(var R=function(c,a){E--,T[c]=a,0==E&&p(T)},P=function(c){v(c)},U=0;U<l.length;U++)nl(l[U],dn(R,U),P);else p(T)})}(v)}ey.prototype.g=function(){var l=this,p=Ks("local");kl(this,function(){return Be().then(function(){return l.c&&"local"!=l.c.F?l.b.get(p,l.a):null}).then(function(v){if(v)return sm(l,"local").then(function(){l.c=p})})})};var Mu={name:"persistence",F:"session"};function Ks(l){return{name:"authUser",F:l}}function ku(l,p){return kl(l,function(){return l.b.set(l.c,p.w(),l.a)})}function Ru(l){return kl(l,function(){return Ac(l.b,l.c,l.a)})}function ty(l,p,v){return kl(l,function(){return l.b.get(l.c,l.a).then(function(E){return E&&p&&(E.authDomain=p),E&&v&&(E.emulatorConfig=v),Zg(E||{})})})}function kl(l,p){return l.f=l.f.then(p,p),l.f}function Qs(l){if(this.l=!1,Je(this,"settings",new Gv),Je(this,"app",l),!Dn(this).options||!Dn(this).options.apiKey)throw new V("invalid-api-key");l=me.Z.SDK_VERSION?Zl(me.Z.SDK_VERSION):null,this.a=new dr(Dn(this).options&&Dn(this).options.apiKey,Qt(et),l),this.P=[],this.s=[],this.N=[],this.Pa=me.Z.INTERNAL.createSubscribe(at(this.zc,this)),this.W=void 0,this.ib=me.Z.INTERNAL.createSubscribe(at(this.Ac,this)),Oc(this,null),this.i=new ey(Dn(this).options.apiKey+":"+Dn(this).name),this.D=new Ml(Dn(this).options.apiKey+":"+Dn(this).name),this.$=br(this,function ny(l){var p=Dn(l).options.authDomain,v=function e_(l){var p=function Jv(l,p){return l.b.get(Ca,l.a).then(function(v){return v&&p&&(v.authDomain=p),Zg(v||{})})}(l.D,Dn(l).options.authDomain).then(function(v){return(l.m=v)&&(v.ha=l.D),yf(l.D)});return br(l,p)}(l).then(function(){return ty(l.i,p,l.R)}).then(function(E){return E?(E.ha=l.D,l.m&&(l.m.ga||null)==(E.ga||null)?E:E.reload().then(function(){return ku(l.i,E).then(function(){return E})}).o(function(T){return"auth/network-request-failed"==T.code?E:Ru(l.i)})):null}).then(function(E){Oc(l,E||null)});return br(l,v)}(this)),this.h=br(this,function hm(l){return l.$.then(function(){return cm(l)}).o(function(){}).then(function(){if(!l.l)return l.ja()}).o(function(){}).then(function(){if(!l.l){l.ba=!0;var p=l.i;p.b.addListener(Ks("local"),p.a,l.ja)}})}(this)),this.ba=!1,this.ja=at(this.Zc,this),this.Ba=at(this.da,this),this.qa=at(this.mc,this),this.za=at(this.wc,this),this.Aa=at(this.xc,this),this.b=null,function s0(l){var p=Dn(l).options.authDomain,v=Dn(l).options.apiKey;p&&Ua()&&(l.Oa=l.$.then(function(){if(!l.l){if(l.b=Tu(p,v,Dn(l).name,l.R),Th(l.b,l),qt(l)&&xl(qt(l)),l.m){xl(l.m);var E=l.m;E.xa(l.la()),Rc(E,l),pf(E=l.m,l.J),em(E,l),ff(E=l.m,l.R),Ah(E,l),l.m=null}return l.b}}))}(this),this.INTERNAL={},this.INTERNAL.delete=at(this.delete,this),this.INTERNAL.logFramework=at(this.Gc,this),this.u=0,qr.call(this),function Zv(l){Object.defineProperty(l,"lc",{get:function(){return this.la()},set:function(p){this.xa(p)},enumerable:!1}),l.aa=null,Object.defineProperty(l,"ti",{get:function(){return this.T()},set:function(p){this.zb(p)},enumerable:!1}),l.S=null,Object.defineProperty(l,"emulatorConfig",{get:function(){if(this.R){var p=di(this.R.url);p=Do({protocol:p.c,host:p.a,port:p.g,options:Do({disableWarnings:this.R.ec})})}else p=null;return p},enumerable:!1})}(this),this.J=[],this.R=null}function am(l){Ur.call(this,"languageCodeChanged"),this.h=l}function um(l){Ur.call(this,"emulatorConfigChanged"),this.c=l}function vf(l){Ur.call(this,"frameworkChanged"),this.f=l}function nu(l){return l.Oa||Kn(new V("auth-domain-config-required"))}function cm(l){if(!Ua())return Kn(new V("operation-not-supported-in-this-environment"));var p=nu(l).then(function(){return l.b.ra()}).then(function(v){return v?Do(v):null});return br(l,p)}function Oc(l,p){qt(l)&&(function Wg(l,p){mr(l.W,function(v){return v==p})}(qt(l),l.Ba),cs(qt(l),"tokenChanged",l.qa),cs(qt(l),"userDeleted",l.za),cs(qt(l),"userInvalidated",l.Aa),tm(qt(l))),p&&(p.W.push(l.Ba),bo(p,"tokenChanged",l.qa),bo(p,"userDeleted",l.za),bo(p,"userInvalidated",l.Aa),0<l.u&&Yv(p)),Je(l,"currentUser",p),p&&(p.xa(l.la()),Rc(p,l),pf(p,l.J),em(p,l),ff(p,l.R),Ah(p,l))}function oi(l,p){var v=null,E=null;return br(l,p.then(function(T){return v=hh(T),E=Id(T),function lm(l,p){var v={};return v.apiKey=Dn(l).options.apiKey,v.authDomain=Dn(l).options.authDomain,v.appName=Dn(l).name,l.R&&(v.emulatorConfig=l.R),l.$.then(function(){return function xu(l,p,v,E){var T=new zi(l,p);return v&&(T.ha=v),E&&pf(T,E),T.reload().then(function(){return T})}(v,p,l.D,l.Ga())}).then(function(E){return qt(l)&&E.uid==qt(l).uid?(oo(qt(l),E),l.da(E)):(Oc(l,E),xl(E),l.da(E))}).then(function(){ru(l)})}(l,T)},function(T){var R=null;throw T&&"auth/multi-factor-auth-required"===T.code&&(R=Gg(T.w(),l,at(l.kc,l))),R||T}).then(function(){return Do({user:qt(l),credential:v,additionalUserInfo:E,operationType:"signIn"})}))}function Dn(l){return l.app}function qt(l){return l.currentUser}function kh(l){return qt(l)&&qt(l)._lat||null}function ru(l){if(l.ba){for(var p=0;p<l.s.length;p++)l.s[p]&&l.s[p](kh(l));if(l.W!==l.getUid()&&l.N.length)for(l.W=l.getUid(),p=0;p<l.N.length;p++)l.N[p]&&l.N[p](kh(l))}}function br(l,p){return l.P.push(p),p.oa(function(){sr(l.P,p)}),p}function Ys(){}function Nc(){this.a={},this.b=1e12}ey.prototype.yb=function(l){var p=null,v=this;return function wa(l){var p=new V("invalid-persistence-type"),v=new V("unsupported-persistence-type");e:{for(E in gs)if(gs[E]==l){var E=!0;break e}E=!1}if(!E||"string"!=typeof l)throw p;switch(Se()){case"ReactNative":if("session"===l)throw v;break;case"Node":if("none"!==l)throw v;break;case"Worker":if("session"===l||!Sg()&&"none"!==l)throw v;break;default:if(!hu()&&"none"!==l)throw v}}(l),kl(this,function(){return l!=v.c.F?v.b.get(v.c,v.a).then(function(E){return p=E,sm(v,l)}).then(function(){if(v.c=Ks(l),p)return v.b.set(v.c,p,v.a)}):Be()})},te(Qs,qr),te(am,Ur),te(um,Ur),te(vf,Ur),(S=Qs.prototype).yb=function(l){return br(this,l=this.i.yb(l))},S.xa=function(l){this.aa===l||this.l||(this.aa=l,_p(this.a,this.aa),this.dispatchEvent(new am(this.la())))},S.la=function(){return this.aa},S.fd=function(){var l=G.navigator;this.xa(l&&(l.languages&&l.languages[0]||l.language||l.userLanguage)||null)},S.gd=function(l,p){if(!this.R){if(!/^https?:\/\//.test(l))throw new V("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function Mh(l){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),G.document&&!l&&Co().then(function(){var p=G.document.createElement("div");p.innerText="Running in emulator mode. Do not use with production credentials.",p.style.position="fixed",p.style.width="100%",p.style.backgroundColor="#ffffff",p.style.border=".1em solid #000000",p.style.color="#b50000",p.style.bottom="0px",p.style.left="0px",p.style.margin="0px",p.style.zIndex=1e4,p.style.textAlign="center",p.classList.add("firebase-emulator-warning"),G.document.body.appendChild(p)})})(p=!!p&&!!p.disableWarnings),this.R={url:l,ec:p},this.settings.jb=!0,ms(this.a,this.R),this.dispatchEvent(new um(this.R))}},S.Gc=function(l){this.J.push(l),bp(this.a,me.Z.SDK_VERSION?Zl(me.Z.SDK_VERSION,this.J):null),this.dispatchEvent(new vf(this.J))},S.Ga=function(){return yn(this.J)},S.zb=function(l){this.S===l||this.l||(this.S=l,this.a.b=this.S)},S.T=function(){return this.S},S.toJSON=function(){return{apiKey:Dn(this).options.apiKey,authDomain:Dn(this).options.authDomain,appName:Dn(this).name,currentUser:qt(this)&&qt(this).w()}},S.Gb=function(l,p){switch(l){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==p&&!!this.f;default:return!1}},S.na=function(l,p,v,E){"signInViaPopup"==l&&this.g==E&&(v&&this.C?this.C(v):p&&!v&&this.f&&this.f(p),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},S.Fa=function(l,p){return"signInViaRedirect"==l||"signInViaPopup"==l&&this.g==p&&this.f?at(this.ic,this):null},S.ic=function(l,p,v,E){var T=this,R={requestUri:l,postBody:E,sessionId:p,tenantId:v};return this.c&&(this.c.cancel(),this.c=null),T.$.then(function(){return oi(T,Dp(T.a,R))})},S.Xc=function(l){if(!Ua())return Kn(new V("operation-not-supported-in-this-environment"));var p=this,v=Dd(l.providerId),E=ht(),T=null;(!pd()||ds())&&Dn(this).options.authDomain&&l.isOAuthProvider&&(T=Hd(Dn(this).options.authDomain,Dn(this).options.apiKey,Dn(this).name,"signInViaPopup",l,null,E,me.Z.SDK_VERSION||null,null,null,this.T(),this.R));var R=dd(T,v&&v.va,v&&v.ua);return br(this,v=nu(this).then(function(P){return Ug(P,R,"signInViaPopup",l,E,!!T,p.T())}).then(function(){return new ft(function(P,U){p.na("signInViaPopup",null,new V("cancelled-popup-request"),p.g),p.f=P,p.C=U,p.g=E,p.c=Gp(p.b,p,"signInViaPopup",R,E)})}).then(function(P){return R&&sl(R),P?Do(P):null}).o(function(P){throw R&&sl(R),P}))},S.Yc=function(l){if(!Ua())return Kn(new V("operation-not-supported-in-this-environment"));var p=this,v=nu(this).then(function(){return function Ws(l){return kl(l,function(){return l.b.set(Mu,l.c.F,l.a)})}(p.i)}).then(function(){return Hg(p.b,"signInViaRedirect",l,void 0,p.T())});return br(this,v)},S.ra=function(){var l=this;return cm(this).then(function(p){return l.b&&af(l.b.b),p}).o(function(p){throw l.b&&af(l.b.b),p})},S.dd=function(l){if(!l)return Kn(new V("null-user"));if(this.S!=l.tenantId)return Kn(new V("tenant-id-mismatch"));var p=this,v={};v.apiKey=Dn(this).options.apiKey,v.authDomain=Dn(this).options.authDomain,v.appName=Dn(this).name;var E=function Ea(l,p,v,E){var T=l.h,R={};return R[Ir]=T.b&&T.b.toString(),R.refreshToken=T.a,p=new zi(p||{apiKey:l.l,authDomain:l.s,appName:l.m},R),v&&(p.ha=v),E&&pf(p,E),oo(p,l),p}(l,v,p.D,p.Ga());return br(this,this.h.then(function(){if(Dn(p).options.apiKey!=l.l)return E.reload()}).then(function(){return qt(p)&&l.uid==qt(p).uid?(oo(qt(p),l),p.da(l)):(Oc(p,E),xl(E),p.da(E))}).then(function(){ru(p)}))},S.Bb=function(){var l=this;return br(this,this.h.then(function(){return l.b&&af(l.b.b),qt(l)?(Oc(l,null),Ru(l.i).then(function(){ru(l)})):Be()}))},S.Zc=function(){var l=this;return ty(this.i,Dn(this).options.authDomain).then(function(p){if(!l.l){var v;if(v=qt(l)&&p){v=qt(l).uid;var E=p.uid;v=null!=v&&""!==v&&null!=E&&""!==E&&v==E}if(v)return oo(qt(l),p),qt(l).I();(qt(l)||p)&&(Oc(l,p),p&&(xl(p),p.ha=l.D),l.b&&Th(l.b,l),ru(l))}})},S.da=function(l){return ku(this.i,l)},S.mc=function(){ru(this),this.da(qt(this))},S.wc=function(){this.Bb()},S.xc=function(){this.Bb()},S.kc=function(l){var p=this;return this.h.then(function(){return oi(p,Be(l))})},S.zc=function(l){var p=this;this.addAuthTokenListener(function(){l.next(qt(p))})},S.Ac=function(l){var p=this;!function iu(l,p){l.N.push(p),br(l,l.h.then(function(){!l.l&&Gn(l.N,p)&&l.W!==l.getUid()&&(l.W=l.getUid(),p(kh(l)))}))}(this,function(){l.next(qt(p))})},S.Ic=function(l,p,v){var E=this;return this.ba&&Promise.resolve().then(function(){"function"==typeof l?l(qt(E)):"function"==typeof l.next&&l.next(qt(E))}),this.Pa(l,p,v)},S.Hc=function(l,p,v){var E=this;return this.ba&&Promise.resolve().then(function(){E.W=E.getUid(),"function"==typeof l?l(qt(E)):"function"==typeof l.next&&l.next(qt(E))}),this.ib(l,p,v)},S.nc=function(l){var p=this;return br(this,this.h.then(function(){return qt(p)?qt(p).I(l).then(function(E){return{accessToken:E}}):null}))},S.Tc=function(l){var p=this;return this.h.then(function(){return oi(p,en(p.a,zb,{token:l}))}).then(function(v){var E=v.user;return Un(E,"isAnonymous",!1),p.da(E),v})},S.Uc=function(l,p){var v=this;return this.h.then(function(){return oi(v,en(v.a,_h,{email:l,password:p}))})},S.dc=function(l,p){var v=this;return this.h.then(function(){return oi(v,en(v.a,Vb,{email:l,password:p}))})},S.ab=function(l){var p=this;return this.h.then(function(){return oi(p,l.ka(p.a))})},S.Sc=function(l){return ul("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(l)},S.Ab=function(){var l=this;return this.h.then(function(){var p=qt(l);if(p&&p.isAnonymous){var v=Do({providerId:null,isNewUser:!1});return Do({user:p,credential:null,additionalUserInfo:v,operationType:"signIn"})}return oi(l,l.a.Ab()).then(function(E){var T=E.user;return Un(T,"isAnonymous",!0),l.da(T),E})})},S.getUid=function(){return qt(this)&&qt(this).uid||null},S.cc=function(l){this.addAuthTokenListener(l),this.u++,0<this.u&&qt(this)&&Yv(qt(this))},S.Pc=function(l){var p=this;Mn(this.s,function(v){v==l&&p.u--}),0>this.u&&(this.u=0),0==this.u&&qt(this)&&tm(qt(this)),this.removeAuthTokenListener(l)},S.addAuthTokenListener=function(l){var p=this;this.s.push(l),br(this,this.h.then(function(){p.l||Gn(p.s,l)&&l(kh(p))}))},S.removeAuthTokenListener=function(l){mr(this.s,function(p){return p==l})},S.delete=function(){this.l=!0;for(var l=0;l<this.P.length;l++)this.P[l].cancel("app-deleted");return this.P=[],this.i&&(l=this.i).b.removeListener(Ks("local"),l.a,this.ja),this.b&&(zp(this.b,this),af(this.b.b)),Promise.resolve()},S.hc=function(l){return br(this,function pg(l,p){return en(l,Ko,{identifier:p,continueUri:Li()?hd():"http://localhost"}).then(function(v){return v.signinMethods||[]})}(this.a,l))},S.Bc=function(l){return!!ya(l)},S.xb=function(l,p){var v=this;return br(this,Be().then(function(){var E=new bd(p);if(!E.c)throw new V("argument-error",Us+" must be true when sending sign in link to email");return fs(E)}).then(function(E){return v.a.xb(l,E)}).then(function(){}))},S.jd=function(l){return this.Sa(l).then(function(p){return p.data.email})},S.ob=function(l,p){return br(this,this.a.ob(l,p).then(function(){}))},S.Sa=function(l){return br(this,this.a.Sa(l).then(function(p){return new tg(p)}))},S.kb=function(l){return br(this,this.a.kb(l).then(function(){}))},S.wb=function(l,p){var v=this;return br(this,Be().then(function(){return void 0===p||K(p)?{}:fs(new bd(p))}).then(function(E){return v.a.wb(l,E)}).then(function(){}))},S.Wc=function(l,p){return br(this,Wp(this,l,p,at(this.ab,this)))},S.Vc=function(l,p){var v=this;return br(this,Be().then(function(){var E=p||hd(),T=lh(l,E);if(!(E=ya(E)))throw new V("argument-error","Invalid email link!");if(E.tenantId!==v.T())throw new V("tenant-id-mismatch");return v.ab(T)}))},Ys.prototype.render=function(){},Ys.prototype.reset=function(){},Ys.prototype.getResponse=function(){},Ys.prototype.execute=function(){};var _f=null;function dm(l,p){return(p=Rh(p))&&l.a[p]||null}function Rh(l){return(l=void 0===l?1e12:l)?l.toString():null}function Da(l,p){this.g=!1,this.c=p,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=Zu(l);var v=this;this.i=function(){v.execute()},this.h?this.execute():bo(this.f,"click",this.i)}function fm(l){if(l.g)throw Error("reCAPTCHA mock was already deleted!")}function ry(){}function bf(){}Nc.prototype.render=function(l,p){return this.a[this.b.toString()]=new Da(l,p),this.b++},Nc.prototype.reset=function(l){var p=dm(this,l);l=Rh(l),p&&l&&(p.delete(),delete this.a[l])},Nc.prototype.getResponse=function(l){return(l=dm(this,l))?l.getResponse():null},Nc.prototype.execute=function(l){(l=dm(this,l))&&l.execute()},Da.prototype.getResponse=function(){return fm(this),this.b},Da.prototype.execute=function(){fm(this);var l=this;this.a||(this.a=setTimeout(function(){l.b=function fd(){for(var l=50,p=[];0<l;)p.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),l--;return p.join("")}();var p=l.c.callback,v=l.c["expired-callback"];if(p)try{p(l.b)}catch(E){}l.a=setTimeout(function(){if(l.a=null,l.b=null,v)try{v()}catch(E){}l.h&&l.execute()},6e4)},500))},Da.prototype.delete=function(){fm(this),this.g=!0,clearTimeout(this.a),this.a=null,cs(this.f,"click",this.i)},Je(ry,"FACTOR_ID","phone"),bf.prototype.g=function(){return _f||(_f=new Nc),Be(_f)},bf.prototype.c=function(){};var pm=null;function mm(){this.b=G.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var iy=new Re(fn,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),oy=new to(3e4,6e4);mm.prototype.g=function(l){var p=this;return new ft(function(v,E){var T=setTimeout(function(){E(new V("network-request-failed"))},oy.get());!G.grecaptcha||l!==p.f&&!p.b?(G[p.a]=function(){if(G.grecaptcha){p.f=l;var P=G.grecaptcha.render;G.grecaptcha.render=function(U,le){return U=P(U,le),p.b++,U},clearTimeout(T),v(G.grecaptcha)}else clearTimeout(T),E(new V("internal-error"));delete G[p.a]},Be(xo(Bo(iy,{onload:p.a,hl:l||""}))).o(function(){clearTimeout(T),E(new V("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(T),v(G.grecaptcha))})},mm.prototype.c=function(){this.b--};var gm=null;function _s(l,p,v,E,T,R,P){if(Je(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=p,this.g=null,P?(pm||(pm=new bf),P=pm):(gm||(gm=new mm),P=gm),this.m=P,this.a=v||{theme:"light",type:"image"},this.h=[],this.a[t_])throw new V("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[uE],!G.document)throw new V("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Zu(p)||!this.i&&Zu(p).hasChildNodes())throw new V("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new dr(l,R||null,T||null),this.u=E||function(){return null};var U=this;this.l=[];var le=this.a[Oh];this.a[Oh]=function(a){if(ou(U,a),"function"==typeof le)le(a);else if("string"==typeof le){var h=st(le,G);"function"==typeof h&&h(a)}};var c=this.a[wf];this.a[wf]=function(){if(ou(U,null),"function"==typeof c)c();else if("string"==typeof c){var a=st(c,G);"function"==typeof a&&a()}}}var Oh="callback",wf="expired-callback",t_="sitekey",uE="size";function ou(l,p){for(var v=0;v<l.l.length;v++)try{l.l[v](p)}catch(E){}}function ym(l,p){return l.h.push(p),p.oa(function(){sr(l.h,p)}),p}function Ef(l){if(l.J)throw new V("internal-error","RecaptchaVerifier instance has been destroyed.")}function Nh(l,p,v){var E=!1;try{this.b=v||me.Z.app()}catch(P){throw new V("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new V("invalid-api-key");v=this.b.options.apiKey;var T=this,R=null;try{R=this.b.auth().Ga()}catch(P){}try{E=this.b.auth().settings.appVerificationDisabledForTesting}catch(P){}R=me.Z.SDK_VERSION?Zl(me.Z.SDK_VERSION,R):null,_s.call(this,v,l,p,function(){try{var P=T.b.auth().la()}catch(U){P=null}return P},R,Qt(et),E)}function Ph(l,p,v,E){e:{v=Array.prototype.slice.call(v);for(var T=0,R=!1,P=0;P<p.length;P++)if(p[P].optional)R=!0;else{if(R)throw new V("internal-error","Argument validator encountered a required argument after an optional argument.");T++}if(R=p.length,v.length<T||R<v.length)E="Expected "+(T==R?1==T?"1 argument":T+" arguments":T+"-"+R+" arguments")+" but got "+v.length+".";else{for(T=0;T<v.length;T++)if(R=p[T].optional&&void 0===v[T],!p[T].M(v[T])&&!R){if(p=p[T],0>T||T>=vm.length)throw new V("internal-error","Argument validator received an unsupported number of arguments.");v=vm[T],E=(E?"":v+" argument ")+(p.name?'"'+p.name+'" ':"")+"must be "+p.K+".";break e}E=null}}if(E)throw new V("argument-error",l+" failed: "+E)}(S=_s.prototype).Ia=function(){var l=this;return this.f?this.f:this.f=ym(this,Be().then(function(){if(Li()&&!pi())return Co();throw new V("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return l.m.g(l.u())}).then(function(p){return l.g=p,en(l.s,oE,{})}).then(function(p){l.a[t_]=p.recaptchaSiteKey}).o(function(p){throw l.f=null,p}))},S.render=function(){Ef(this);var l=this;return ym(this,this.Ia().then(function(){if(null===l.c){var p=l.v;if(!l.i){var v=Zu(p);p=function Gf(l,p,v){var E=arguments,T=document,R=String(E[0]),P=E[1];if(!zf&&P&&(P.name||P.type)){if(R=["<",R],P.name&&R.push(' name="',wr(P.name),'"'),P.type){R.push(' type="',wr(P.type),'"');var U={};re(U,P),delete U.type,P=U}R.push(">"),R=R.join("")}return R=Zc(T,R),P&&("string"==typeof P?R.className=P:Array.isArray(P)?R.className=P.join(" "):ec(R,P)),2<E.length&&tc(T,R,E),R}("DIV"),v.appendChild(p)}l.c=l.g.render(p,l.a)}return l.c}))},S.verify=function(){Ef(this);var l=this;return ym(this,this.render().then(function(p){return new ft(function(v){var E=l.g.getResponse(p);if(E)v(E);else{var T=function(R){R&&(function Rl(l,p){mr(l.l,function(v){return v==p})}(l,T),v(R))};l.l.push(T),l.i&&l.g.execute(l.c)}})}))},S.reset=function(){Ef(this),null!==this.c&&this.g.reset(this.c)},S.clear=function(){Ef(this),this.J=!0,this.m.c();for(var l=0;l<this.h.length;l++)this.h[l].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){l=Zu(this.v);for(var p;p=l.firstChild;)l.removeChild(p)}},te(Nh,_s);var vm="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Ye(l,p){return{name:l||"",K:"a valid string",optional:!!p,M:function(v){return"string"==typeof v}}}function Fh(l,p){return{name:l||"",K:"a boolean",optional:!!p,M:function(v){return"boolean"==typeof v}}}function Wr(l,p){return{name:l||"",K:"a valid object",optional:!!p,M:Ct}}function Ou(l,p){return{name:l||"",K:"a function",optional:!!p,M:function(v){return"function"==typeof v}}}function Xs(l,p){return{name:l||"",K:"null",optional:!!p,M:function(v){return null===v}}}function Ia(l){return{name:l?l+"Credential":"credential",K:l?"a valid "+l+" credential":"a valid credential",optional:!1,M:function(p){return!!p&&!(!p.ka||l&&p.providerId!==l)}}}function su(l,p){return Ct(l)&&"string"==typeof l.type&&l.type===p&&"function"==typeof l.Ha}function Gi(l){return Ct(l)&&"string"==typeof l.uid}function kr(l,p,v,E){return{name:v||"",K:l.K+" or "+p.K,optional:!!E,M:function(T){return l.M(T)||p.M(T)}}}function Jn(l,p){for(var v in p){var E=p[v].name;l[E]=r_(E,l[v],p[v].j)}}function Yo(l,p){for(var v in p){var E=p[v].name;E!==v&&Object.defineProperty(l,E,{get:dn(function(T){return this[T]},v),set:dn(function(T,R,P,U){Ph(T,[P],[U],!0),this[R]=U},E,v,p[v].lb),enumerable:!0})}}function Zn(l,p,v,E){l[p]=r_(p,v,E)}function r_(l,p,v){function E(){var P=Array.prototype.slice.call(arguments);return Ph(T,v,P),p.apply(this,P)}if(!v)return p;var R,T=function ay(l){return(l=l.split("."))[l.length-1]}(l);for(R in p)E[R]=p[R];for(R in p.prototype)E.prototype[R]=p.prototype[R];return E}Jn(Qs.prototype,{kb:{name:"applyActionCode",j:[Ye("code")]},Sa:{name:"checkActionCode",j:[Ye("code")]},ob:{name:"confirmPasswordReset",j:[Ye("code"),Ye("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Ye("email"),Ye("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Ye("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Ye("emailLink")]},Hc:{name:"onAuthStateChanged",j:[kr(Wr(),Ou(),"nextOrObserver"),Ou("opt_error",!0),Ou("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[kr(Wr(),Ou(),"nextOrObserver"),Ou("opt_error",!0),Ou("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[Ye("email"),kr(Wr("opt_actionCodeSettings",!0),Xs(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[Ye("email"),Wr("actionCodeSettings")]},yb:{name:"setPersistence",j:[Ye("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Ia()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Ia()]},Tc:{name:"signInWithCustomToken",j:[Ye("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Ye("email"),Ye("password")]},Vc:{name:"signInWithEmailLink",j:[Ye("email"),Ye("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Ye("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(l){return!(!l||"string"!=typeof l.type||"function"!=typeof l.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(l){return!!(l&&l.providerId&&l.hasOwnProperty&&l.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(l){return!!(l&&l.providerId&&l.hasOwnProperty&&l.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[kr({name:"user",K:"an instance of Firebase User",optional:!1,M:function(p){return!!(p&&p instanceof zi)}},Xs(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Ye(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Ye("url"),Wr("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Ye("code")]}}),Yo(Qs.prototype,{lc:{name:"languageCode",lb:kr(Ye(),Xs(),"languageCode")},ti:{name:"tenantId",lb:kr(Ye(),Xs(),"tenantId")}}),(Qs.Persistence=gs).LOCAL="local",Qs.Persistence.SESSION="session",Qs.Persistence.NONE="none",Jn(zi.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Fh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Fh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Ia()]},rb:{name:"linkWithCredential",j:[Ia()]},Dc:{name:"linkWithPhoneNumber",j:[Ye("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(l){return!(!l||"string"!=typeof l.type||"function"!=typeof l.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(l){return!!(l&&l.providerId&&l.hasOwnProperty&&l.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(l){return!!(l&&l.providerId&&l.hasOwnProperty&&l.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Ia()]},ub:{name:"reauthenticateWithCredential",j:[Ia()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Ye("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(l){return!(!l||"string"!=typeof l.type||"function"!=typeof l.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(l){return!!(l&&l.providerId&&l.hasOwnProperty&&l.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(l){return!!(l&&l.providerId&&l.hasOwnProperty&&l.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[kr(Wr("opt_actionCodeSettings",!0),Xs(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Ye(null,!0)]},cd:{name:"unlink",j:[Ye("provider")]},Cb:{name:"updateEmail",j:[Ye("email")]},Db:{name:"updatePassword",j:[Ye("password")]},ed:{name:"updatePhoneNumber",j:[Ia("phone")]},Eb:{name:"updateProfile",j:[Wr("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[Ye("email"),kr(Wr("opt_actionCodeSettings",!0),Xs(null,!0),"opt_actionCodeSettings",!0)]}}),Jn(Nc.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Jn(Ys.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Jn(ft.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Yo(Gv.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Fh("appVerificationDisabledForTesting")}}),Jn(Wo.prototype,{confirm:{name:"confirm",j:[Ye("verificationCode")]}}),Zn(hc,"fromJSON",function(l){l="string"==typeof l?JSON.parse(l):l;for(var p,v=[ap,sg,pv,ch],E=0;E<v.length;E++)if(p=v[E](l))return p;return null},[kr(Ye(),Wr(),"json")]),Zn(Qn,"credential",function(l,p){return new yu(l,p)},[Ye("email"),Ye("password")]),Jn(yu.prototype,{w:{name:"toJSON",j:[Ye(null,!0)]}}),Jn(gu.prototype,{Ca:{name:"addScope",j:[Ye("scope")]},Ka:{name:"setCustomParameters",j:[Wr("customOAuthParameters")]}}),Zn(gu,"credential",og,[kr(Ye(),Wr(),"token")]),Zn(Qn,"credentialWithLink",lh,[Ye("email"),Ye("emailLink")]),Jn(fc.prototype,{Ca:{name:"addScope",j:[Ye("scope")]},Ka:{name:"setCustomParameters",j:[Wr("customOAuthParameters")]}}),Zn(fc,"credential",_r,[kr(Ye(),Wr(),"token")]),Jn(jt.prototype,{Ca:{name:"addScope",j:[Ye("scope")]},Ka:{name:"setCustomParameters",j:[Wr("customOAuthParameters")]}}),Zn(jt,"credential",pc,[kr(Ye(),kr(Wr(),Xs()),"idToken"),kr(Ye(),Xs(),"accessToken",!0)]),Jn(ga.prototype,{Ka:{name:"setCustomParameters",j:[Wr("customOAuthParameters")]}}),Zn(ga,"credential",Ad,[kr(Ye(),Wr(),"token"),Ye("secret",!0)]),Jn(Gr.prototype,{Ca:{name:"addScope",j:[Ye("scope")]},credential:{name:"credential",j:[kr(Ye(),kr(Wr(),Xs()),"optionsOrIdToken"),kr(Ye(),Xs(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Wr("customOAuthParameters")]}}),Jn(pa.prototype,{w:{name:"toJSON",j:[Ye(null,!0)]}}),Jn(fa.prototype,{w:{name:"toJSON",j:[Ye(null,!0)]}}),Zn(Dr,"credential",mv,[Ye("verificationId"),Ye("verificationCode")]),Jn(Dr.prototype,{gb:{name:"verifyPhoneNumber",j:[kr(Ye(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(v){return!!v&&(v.session&&v.phoneNumber?su(v.session,pu)&&"string"==typeof v.phoneNumber:v.session&&v.multiFactorHint?su(v.session,mu)&&Gi(v.multiFactorHint):v.session&&v.multiFactorUid?su(v.session,mu)&&"string"==typeof v.multiFactorUid:!!v.phoneNumber&&"string"==typeof v.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(l){return!(!l||"string"!=typeof l.type||"function"!=typeof l.verify)}}]}}),Jn(lr.prototype,{w:{name:"toJSON",j:[Ye(null,!0)]}}),Jn(V.prototype,{toJSON:{name:"toJSON",j:[Ye(null,!0)]}}),Jn(qs.prototype,{toJSON:{name:"toJSON",j:[Ye(null,!0)]}}),Jn(Ga.prototype,{toJSON:{name:"toJSON",j:[Ye(null,!0)]}}),Jn(cf.prototype,{toJSON:{name:"toJSON",j:[Ye(null,!0)]}}),Jn(zg.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(l){return!!l&&!!l.tb}}]}}),Jn(Yp.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(l){return!!l&&!!l.tb}},Ye("displayName",!0)]},bd:{name:"unenroll",j:[kr({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Gi},Ye(),"multiFactorInfoIdentifier")]}}),Jn(Nh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Zn(ng,"parseLink",ll,[Ye("link")]),Zn(ry,"assertion",function(l){return new Xn(l)},[Ia("phone")]),function(){if(void 0===me.Z||!me.Z.INTERNAL||!me.Z.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var l={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Vi,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:qa,VERIFY_AND_CHANGE_EMAIL:mi,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Qs,AuthCredential:hc,Error:V};Zn(l,"EmailAuthProvider",Qn,[]),Zn(l,"FacebookAuthProvider",gu,[]),Zn(l,"GithubAuthProvider",fc,[]),Zn(l,"GoogleAuthProvider",jt,[]),Zn(l,"TwitterAuthProvider",ga,[]),Zn(l,"OAuthProvider",Gr,[Ye("providerId")]),Zn(l,"SAMLAuthProvider",Sd,[Ye("providerId")]),Zn(l,"PhoneAuthProvider",Dr,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(l){return!!(l&&l instanceof Qs)}}]),Zn(l,"RecaptchaVerifier",Nh,[kr(Ye(),{name:"",K:"an HTML element",optional:!1,M:function(l){return!!(l&&l instanceof Element)}},"recaptchaContainer"),Wr("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(l){return!!(l&&l instanceof me.Z.app.App)}}]),Zn(l,"ActionCodeURL",ng,[]),Zn(l,"PhoneMultiFactorGenerator",ry,[]),me.Z.INTERNAL.registerComponent({name:"auth",instanceFactory:function(p){return new Qs(p=p.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:l,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(p){p.getProvider("auth-internal").initialize()}}),me.Z.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(p){return{getUid:at((p=p.getProvider("auth").getImmediate()).getUid,p),getToken:at(p.nc,p),addAuthTokenListener:at(p.cc,p),removeAuthTokenListener:at(p.Pc,p)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),me.Z.registerVersion("@firebase/auth","0.16.8"),me.Z.INTERNAL.extendNamespace({User:zi})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},739:($u,Ni,$t)=>{$t.r(Ni);var me=$t(36),S=$t(655),Ze=$t(237),dt=$t(474),At=function(c,a){return(At=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,f){h.__proto__=f}||function(h,f){for(var g in f)Object.prototype.hasOwnProperty.call(f,g)&&(h[g]=f[g])})(c,a)};function Xr(c){var a="function"==typeof Symbol&&Symbol.iterator,h=a&&c[a],f=0;if(h)return h.call(c);if(c&&"number"==typeof c.length)return{next:function(){return c&&f>=c.length&&(c=void 0),{value:c&&c[f++],done:!c}}};throw new TypeError(a?"Object is not iterable.":"Symbol.iterator is not defined.")}var se,Xi="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},G=G||{},we=Xi||self;function Me(){}function ke(c){var a=typeof c;return"array"==(a="object"!=a?a:c?Array.isArray(c)?"array":a:"null")||"object"==a&&"number"==typeof c.length}function He(c){var a=typeof c;return"object"==a&&null!=c||"function"==a}var Gt="closure_uid_"+(1e9*Math.random()>>>0),Lt=0;function Ct(c,a,h){return c.call.apply(c.bind,arguments)}function Lr(c,a,h){if(!c)throw Error();if(2<arguments.length){var f=Array.prototype.slice.call(arguments,2);return function(){var g=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(g,f),c.apply(a,g)}}return function(){return c.apply(a,arguments)}}function Xt(c,a,h){return(Xt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ct:Lr).apply(null,arguments)}function Ci(c,a){var h=Array.prototype.slice.call(arguments,1);return function(){var f=h.slice();return f.push.apply(f,arguments),c.apply(this,f)}}function Dt(c,a){function h(){}h.prototype=a.prototype,c.Z=a.prototype,c.prototype=new h,c.prototype.constructor=c,c.Vb=function(f,g,_){for(var w=Array(arguments.length-2),D=2;D<arguments.length;D++)w[D-2]=arguments[D];return a.prototype[g].apply(f,w)}}function or(){this.s=this.s,this.o=this.o}var dn={};or.prototype.s=!1,or.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var c=function Ut(c){return Object.prototype.hasOwnProperty.call(c,Gt)&&c[Gt]||(c[Gt]=++Lt)}(this);delete dn[c]}},or.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Ji=Array.prototype.indexOf?function(c,a){return Array.prototype.indexOf.call(c,a,void 0)}:function(c,a){if("string"==typeof c)return"string"!=typeof a||1!=a.length?-1:c.indexOf(a,0);for(var h=0;h<c.length;h++)if(h in c&&c[h]===a)return h;return-1},te=Array.prototype.forEach?function(c,a,h){Array.prototype.forEach.call(c,a,h)}:function(c,a,h){for(var f=c.length,g="string"==typeof c?c.split(""):c,_=0;_<f;_++)_ in g&&a.call(h,g[_],_,c)};function V(c){return Array.prototype.concat.apply([],arguments)}function de(c){var a=c.length;if(0<a){for(var h=Array(a),f=0;f<a;f++)h[f]=c[f];return h}return[]}function Pe(c){return/^[\s\xa0]*$/.test(c)}var et,Oe=String.prototype.trim?function(c){return c.trim()}:function(c){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(c)[1]};function nt(c,a){return-1!=c.indexOf(a)}function Qt(c,a){return c<a?-1:c>a?1:0}e:{var wt=we.navigator;if(wt){var un=wt.userAgent;if(un){et=un;break e}}et=""}function Ge(c,a,h){for(var f in c)a.call(h,c[f],f,c)}function Ie(c){var a={};for(var h in c)a[h]=c[h];return a}var je="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xn(c,a){for(var h,f,g=1;g<arguments.length;g++){for(h in f=arguments[g])c[h]=f[h];for(var _=0;_<je.length;_++)h=je[_],Object.prototype.hasOwnProperty.call(f,h)&&(c[h]=f[h])}}function wn(c){return wn[" "](c),c}wn[" "]=Me;var on,c,Ms=nt(et,"Opera"),ks=nt(et,"Trident")||nt(et,"MSIE"),Ku=nt(et,"Edge"),Mn=Ku||ks,Jr=nt(et,"Gecko")&&!(nt(et.toLowerCase(),"webkit")&&!nt(et,"Edge"))&&!(nt(et,"Trident")||nt(et,"MSIE"))&&!nt(et,"Edge"),Jh=nt(et.toLowerCase(),"webkit")&&!nt(et,"Edge");function Kt(){var c=we.document;return c?c.documentMode:void 0}e:{var Pi="",Gn=(c=et,Jr?/rv:([^\);]+)(\)|;)/.exec(c):Ku?/Edge\/([\d\.]+)/.exec(c):ks?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(c):Jh?/WebKit\/(\S+)/.exec(c):Ms?/(?:Version)[ \/]?(\S+)/.exec(c):void 0);if(Gn&&(Pi=Gn?Gn[1]:""),ks){var sr=Kt();if(null!=sr&&sr>parseFloat(Pi)){on=String(sr);break e}}on=Pi}var mr={};var ss=we.document&&ks&&(Kt()||parseInt(on,10))||void 0,Zh=function(){if(!we.addEventListener||!Object.defineProperty)return!1;var c=!1,a=Object.defineProperty({},"passive",{get:function(){c=!0}});try{we.addEventListener("test",Me,a),we.removeEventListener("test",Me,a)}catch(h){}return c}();function Di(c,a){this.type=c,this.g=this.target=a,this.defaultPrevented=!1}function ia(c,a){if(Di.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var h=this.type=c.type,f=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=a,a=c.relatedTarget){if(Jr){e:{try{wn(a.nodeName);var g=!0;break e}catch(_){}g=!1}g||(a=null)}}else"mouseover"==h?a=c.fromElement:"mouseout"==h&&(a=c.toElement);this.relatedTarget=a,f?(this.clientX=void 0!==f.clientX?f.clientX:f.pageX,this.clientY=void 0!==f.clientY?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0):(this.clientX=void 0!==c.clientX?c.clientX:c.pageX,this.clientY=void 0!==c.clientY?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType="string"==typeof c.pointerType?c.pointerType:Km[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ia.Z.h.call(this)}}Di.prototype.h=function(){this.defaultPrevented=!0},Dt(ia,Di);var Km={2:"touch",3:"pen",4:"mouse"};ia.prototype.h=function(){ia.Z.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Kc="closure_listenable_"+(1e6*Math.random()|0),qf=0;function Ln(c,a,h,f,g){this.listener=c,this.proxy=null,this.src=a,this.type=h,this.capture=!!f,this.ia=g,this.key=++qf,this.ca=this.fa=!1}function Rs(c){c.ca=!0,c.listener=null,c.proxy=null,c.src=null,c.ia=null}function Lo(c){this.src=c,this.g={},this.h=0}function Wu(c,a){var h=a.type;if(h in c.g){var _,f=c.g[h],g=Ji(f,a);(_=0<=g)&&Array.prototype.splice.call(f,g,1),_&&(Rs(a),0==c.g[h].length&&(delete c.g[h],c.h--))}}function Qu(c,a,h,f){for(var g=0;g<c.length;++g){var _=c[g];if(!_.ca&&_.listener==a&&_.capture==!!h&&_.ia==f)return g}return-1}Lo.prototype.add=function(c,a,h,f,g){var _=c.toString();(c=this.g[_])||(c=this.g[_]=[],this.h++);var w=Qu(c,a,f,g);return-1<w?(a=c[w],h||(a.fa=!1)):((a=new Ln(a,this.src,_,!!f,g)).fa=h,c.push(a)),a};var $n="closure_lm_"+(1e6*Math.random()|0),Oa={};function K(c,a,h,f,g){if(f&&f.once)return re(c,a,h,f,g);if(Array.isArray(a)){for(var _=0;_<a.length;_++)K(c,a[_],h,f,g);return null}return h=Zr(h),c&&c[Kc]?c.N(a,h,He(f)?!!f.capture:!!f,g):$(c,a,h,!1,f,g)}function $(c,a,h,f,g,_){if(!a)throw Error("Invalid event type");var w=He(g)?!!g.capture:!!g,D=fn(c);if(D||(c[$n]=D=new Lo(c)),(h=D.add(a,h,f,w,_)).proxy)return h;if(f=function J(){var a=Jt;return function c(h){return a.call(c.src,c.listener,h)}}(),h.proxy=f,f.src=c,f.listener=h,c.addEventListener)Zh||(g=w),void 0===g&&(g=!1),c.addEventListener(a.toString(),f,g);else if(c.attachEvent)c.attachEvent(gt(a.toString()),f);else{if(!c.addListener||!c.removeListener)throw Error("addEventListener and attachEvent are unavailable.");c.addListener(f)}return h}function re(c,a,h,f,g){if(Array.isArray(a)){for(var _=0;_<a.length;_++)re(c,a[_],h,f,g);return null}return h=Zr(h),c&&c[Kc]?c.O(a,h,He(f)?!!f.capture:!!f,g):$(c,a,h,!0,f,g)}function W(c,a,h,f,g){if(Array.isArray(a))for(var _=0;_<a.length;_++)W(c,a[_],h,f,g);else f=He(f)?!!f.capture:!!f,h=Zr(h),c&&c[Kc]?(c=c.i,(a=String(a).toString())in c.g&&-1<(h=Qu(_=c.g[a],h,f,g))&&(Rs(_[h]),Array.prototype.splice.call(_,h,1),0==_.length&&(delete c.g[a],c.h--))):c&&(c=fn(c))&&(a=c.g[a.toString()],c=-1,a&&(c=Qu(a,h,f,g)),(h=-1<c?a[c]:null)&&Re(h))}function Re(c){if("number"!=typeof c&&c&&!c.ca){var a=c.src;if(a&&a[Kc])Wu(a.i,c);else{var h=c.type,f=c.proxy;a.removeEventListener?a.removeEventListener(h,f,c.capture):a.detachEvent?a.detachEvent(gt(h),f):a.addListener&&a.removeListener&&a.removeListener(f),(h=fn(a))?(Wu(h,c),0==h.h&&(h.src=null,a[$n]=null)):Rs(c)}}}function gt(c){return c in Oa?Oa[c]:Oa[c]="on"+c}function Jt(c,a){if(c.ca)c=!0;else{a=new ia(a,this);var h=c.listener,f=c.ia||c.src;c.fa&&Re(c),c=h.call(f,a)}return c}function fn(c){return(c=c[$n])instanceof Lo?c:null}var sn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zr(c){return"function"==typeof c?c:(c[sn]||(c[sn]=function(a){return c.handleEvent(a)}),c[sn])}function Zt(){or.call(this),this.i=new Lo(this),this.P=this,this.I=null}function Ht(c,a){var h,f=c.I;if(f)for(h=[];f;f=f.I)h.push(f);if(c=c.P,f=a.type||a,"string"==typeof a)a=new Di(a,c);else if(a instanceof Di)a.target=a.target||c;else{var g=a;xn(a=new Di(f,c),g)}if(g=!0,h)for(var _=h.length-1;0<=_;_--){var w=a.g=h[_];g=Bo(w,f,!0,a)&&g}if(g=Bo(w=a.g=c,f,!0,a)&&g,g=Bo(w,f,!1,a)&&g,h)for(_=0;_<h.length;_++)g=Bo(w=a.g=h[_],f,!1,a)&&g}function Bo(c,a,h,f){if(!(a=c.i.g[String(a)]))return!0;a=a.concat();for(var g=!0,_=0;_<a.length;++_){var w=a[_];if(w&&!w.ca&&w.capture==h){var D=w.listener,A=w.ia||w.src;w.fa&&Wu(c.i,w),g=!1!==D.call(A,f)&&g}}return g&&!f.defaultPrevented}Dt(Zt,or),Zt.prototype[Kc]=!0,Zt.prototype.removeEventListener=function(c,a,h,f){W(this,c,a,h,f)},Zt.prototype.M=function(){if(Zt.Z.M.call(this),this.i){var a,c=this.i;for(a in c.g){for(var h=c.g[a],f=0;f<h.length;f++)Rs(h[f]);delete c.g[a],c.h--}}this.I=null},Zt.prototype.N=function(c,a,h,f){return this.i.add(String(c),a,!1,h,f)},Zt.prototype.O=function(c,a,h,f){return this.i.add(String(c),a,!0,h,f)};var nr=we.JSON.stringify;function Wc(){var c=Yc,a=null;return c.g&&(a=c.g,c.g=c.g.next,c.g||(c.h=null),a.next=null),a}var zl,Os=function(){function c(){this.h=this.g=null}return c.prototype.add=function(a,h){var f=oa.get();f.set(a,h),this.h?this.h.next=f:this.g=f,this.h=f},c}(),oa=new(function(){function c(a,h){this.i=a,this.j=h,this.h=0,this.g=null}return c.prototype.get=function(){var a;return 0<this.h?(this.h--,this.g=(a=this.g).next,a.next=null):a=this.i(),a},c}())(function(){return new gr},function(c){return c.reset()}),gr=function(){function c(){this.next=this.g=this.h=null}return c.prototype.set=function(a,h){this.h=a,this.g=h,this.next=null},c.prototype.reset=function(){this.next=this.g=this.h=null},c}();function Na(c){we.setTimeout(function(){throw c},0)}function Qc(c,a){zl||function as(){var c=we.Promise.resolve(void 0);zl=function(){c.then(Yu)}}(),cu||(zl(),cu=!0),Yc.add(c,a)}var cu=!1,Yc=new Os;function Yu(){for(var c;c=Wc();){try{c.h.call(c.g)}catch(h){Na(h)}var a=oa;a.j(c),100>a.h&&(a.h++,c.next=a.g,a.g=c)}cu=!1}function Xc(c,a){Zt.call(this),this.h=c||1,this.g=a||we,this.j=Xt(this.kb,this),this.l=Date.now()}function Pa(c){c.da=!1,c.S&&(c.g.clearTimeout(c.S),c.S=null)}function ed(c,a,h){if("function"==typeof c)h&&(c=Xt(c,h));else{if(!c||"function"!=typeof c.handleEvent)throw Error("Invalid listener argument");c=Xt(c.handleEvent,c)}return 2147483647<Number(a)?-1:we.setTimeout(c,a||0)}function td(c){c.g=ed(function(){c.g=null,c.i&&(c.i=!1,td(c))},c.j);var a=c.h;c.h=null,c.m.apply(null,a)}Dt(Xc,Zt),(se=Xc.prototype).da=!1,se.S=null,se.kb=function(){if(this.da){var c=Date.now()-this.l;0<c&&c<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-c):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ht(this,"tick"),this.da&&(Pa(this),this.start()))}},se.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},se.M=function(){Xc.Z.M.call(this),Pa(this),delete this.g};var nd=function(c){function a(h,f){var g=c.call(this)||this;return g.m=h,g.j=f,g.h=null,g.i=!1,g.g=null,g}return function Fo(c,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function h(){this.constructor=c}At(c,a),c.prototype=null===a?Object.create(a):(h.prototype=a.prototype,new h)}(a,c),a.prototype.l=function(h){this.h=arguments,this.g?this.i=!0:td(this)},a.prototype.M=function(){c.prototype.M.call(this),this.g&&(we.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},a}(or);function Xu(c){or.call(this),this.h=c,this.g={}}Dt(Xu,or);var Ju=[];function wr(c,a,h,f){Array.isArray(h)||(h&&(Ju[0]=h.toString()),h=Ju);for(var g=0;g<h.length;g++){var _=K(a,h[g],f||c.handleEvent,!1,c.h||c);if(!_)break;c.g[_.key]=_}}function Fa(c){Ge(c.g,function(a,h){this.g.hasOwnProperty(h)&&Re(a)},c),c.g={}}function ei(){this.g=!0}function cn(c,a,h,f){c.info(function(){return"XMLHTTP TEXT ("+a+"): "+function vn(c,a){if(!c.g)return a;if(!a)return null;try{var h=JSON.parse(a);if(h)for(c=0;c<h.length;c++)if(Array.isArray(h[c])){var f=h[c];if(!(2>f.length)){var g=f[1];if(Array.isArray(g)&&!(1>g.length)){var _=g[0];if("noop"!=_&&"stop"!=_&&"close"!=_)for(var w=1;w<g.length;w++)g[w]=""}}}return nr(h)}catch(D){return a}}(c,h)+(f?" "+f:"")})}Xu.prototype.M=function(){Xu.Z.M.call(this),Fa(this)},Xu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ei.prototype.Aa=function(){this.g=!1},ei.prototype.info=function(){};var Vo={},id=null;function sa(){return id=id||new Zt}function xt(c){Di.call(this,Vo.Ma,c)}function aa(c){var a=sa();Ht(a,new xt(a,c))}function od(c,a){Di.call(this,Vo.STAT_EVENT,c),this.stat=a}function Mt(c){var a=sa();Ht(a,new od(a,c))}function Jc(c,a){Di.call(this,Vo.Na,c),this.size=a}function yt(c,a){if("function"!=typeof c)throw Error("Fn must not be null and must be a function");return we.setTimeout(function(){c()},a)}Vo.Ma="serverreachability",Dt(xt,Di),Vo.STAT_EVENT="statevent",Dt(od,Di),Vo.Na="timingevent",Dt(Jc,Di);var Or={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},us={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function zf(){}function ec(){}zf.prototype.h=null;var Zc,Br={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Gf(){Di.call(this,"d")}function tc(){Di.call(this,"c")}function vo(){}function nc(c,a,h,f){this.l=c,this.j=a,this.m=h,this.X=f||1,this.V=new Xu(this),this.P=sd,this.W=new Xc(c=Mn?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Wm}function Wm(){this.i=null,this.g="",this.h=!1}Dt(Gf,Di),Dt(tc,Di),Dt(vo,zf),vo.prototype.g=function(){return new XMLHttpRequest},vo.prototype.i=function(){return{}},Zc=new vo;var sd=45e3,el={},Gl={};function tl(c,a,h){c.K=1,c.v=Sr(be(a)),c.s=h,c.U=!0,ad(c,null)}function ad(c,a){c.F=Date.now(),ua(c),c.A=be(c.v);var h=c.A,f=c.X;Array.isArray(f)||(f=[String(f)]),ud(h.h,"t",f),c.C=0,h=c.l.H,c.h=new Wm,c.g=ov(c.l,h?a:null,!c.s),0<c.O&&(c.L=new nd(Xt(c.Ia,c,c.g),c.O)),wr(c.V,c.g,"readystatechange",c.gb),a=c.H?Ie(c.H):{},c.s?(c.u||(c.u="POST"),a["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.s,a)):(c.u="GET",c.g.ea(c.A,c.u,null,a)),aa(1),function rd(c,a,h,f,g,_){c.info(function(){if(c.g)if(_)for(var w="",D=_.split("&"),A=0;A<D.length;A++){var N=D[A].split("=");if(1<N.length){var F=N[0];N=N[1];var j=F.split("_");w=2<=j.length&&"type"==j[1]?w+(F+"=")+N+"&":w+(F+"=redacted&")}}else w=null;else w=_;return"XMLHTTP REQ ("+f+") [attempt "+g+"]: "+a+"\n"+h+"\n"+w})}(c.j,c.u,c.A,c.m,c.X,c.s)}function $f(c){return!!c.g&&"GET"==c.u&&2!=c.K&&c.l.Ba}function ft(c,a,h){for(var g,f=!0;!c.I&&c.C<h.length;){if((g=pn(c,h))==Gl){4==a&&(c.o=4,Mt(14),f=!1),cn(c.j,c.m,null,"[Incomplete Response]");break}if(g==el){c.o=4,Mt(15),cn(c.j,c.m,h,"[Invalid Chunk]"),f=!1;break}cn(c.j,c.m,g,null),Be(c,g)}$f(c)&&g!=Gl&&g!=el&&(c.h.g="",c.C=0),4!=a||0!=h.length||c.h.h||(c.o=1,Mt(16),f=!1),c.i=c.i&&f,f?0<h.length&&!c.aa&&(c.aa=!0,(a=c.l).g==c&&a.$&&!a.L&&(a.h.info("Great, no buffering proxy detected. Bytes received: "+h.length),fi(a),a.L=!0,Mt(11))):(cn(c.j,c.m,h,"[Invalid Chunked Response]"),Ba(c),Xe(c))}function pn(c,a){var h=c.C,f=a.indexOf("\n",h);return-1==f?Gl:(h=Number(a.substring(h,f)),isNaN(h)?el:(f+=1)+h>a.length?Gl:(a=a.substr(f,h),c.C=f+h,a))}function ua(c){c.Y=Date.now()+c.P,_o(c,c.P)}function _o(c,a){if(null!=c.B)throw Error("WatchDog timer not null");c.B=yt(Xt(c.eb,c),a)}function $l(c){c.B&&(we.clearTimeout(c.B),c.B=null)}function Xe(c){0==c.l.G||c.I||Uo(c.l,c)}function Ba(c){$l(c);var a=c.L;a&&"function"==typeof a.na&&a.na(),c.L=null,Pa(c.W),Fa(c.V),c.g&&(a=c.g,c.g=null,a.abort(),a.na())}function Be(c,a){try{var h=c.l;if(0!=h.G&&(h.g==c||ld(h.i,c)))if(h.I=c.N,!c.J&&ld(h.i,c)&&3==h.G){try{var f=h.Ca.g.parse(a)}catch(xe){f=null}if(Array.isArray(f)&&3==f.length){var g=f;if(0==g[0])e:if(h.u)h.ta=g[1],0<h.ta-h.U&&37500>g[2]&&h.N&&0==h.A&&!h.v&&(h.v=yt(Xt(h.ab,h),6e3));else{if(h.g){if(!(h.g.F+3e3<c.F))break e;ic(h),di(h)}Vs(h),Mt(18)}if(1>=Ar(h.i)&&h.ka){try{h.ka()}catch(xe){}h.ka=void 0}}else oc(h,11)}else if((c.J||h.g==c)&&ic(h),!Pe(a))for(g=h.Ca.g.parse(a),a=0;a<g.length;a++){var _=g[a];if(h.U=_[0],_=_[1],2==h.G)if("c"==_[0]){h.J=_[1],h.la=_[2];var w=_[3];null!=w&&(h.ma=w,h.h.info("VER="+h.ma));var D=_[4];null!=D&&(h.za=D,h.h.info("SVER="+h.za));var A=_[5];null!=A&&"number"==typeof A&&0<A&&(h.K=f=1.5*A,h.h.info("backChannelRequestTimeoutMs_="+f)),f=h;var N=c.g;if(N){var F=N.g?N.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(F){var j=f.i;!j.g&&(nt(F,"spdy")||nt(F,"quic")||nt(F,"h2"))&&(j.j=j.l,j.g=new Set,j.h&&(bo(j,j.h),j.h=null))}if(f.D){var z=N.g?N.g.getResponseHeader("X-HTTP-Session-Id"):null;z&&(f.sa=z,_t(f.F,f.D,z))}}h.G=3,h.j&&h.j.xa(),h.$&&(h.O=Date.now()-c.F,h.h.info("Handshake RTT: "+h.O+"ms"));var ee=c;if((f=h).oa=ol(f,f.H?f.la:null,f.W),ee.J){Wf(f.i,ee);var Z=ee,ie=f.K;ie&&Z.setTimeout(ie),Z.B&&($l(Z),ua(Z)),f.g=ee}else rv(f);0<h.l.length&&Bs(h)}else"stop"!=_[0]&&"close"!=_[0]||oc(h,7);else 3==h.G&&("stop"==_[0]||"close"==_[0]?"stop"==_[0]?oc(h,7):hi(h):"noop"!=_[0]&&h.j&&h.j.wa(_),h.A=0)}aa(4)}catch(xe){}}function nl(c,a){if(c.forEach&&"function"==typeof c.forEach)c.forEach(a,void 0);else if(ke(c)||"string"==typeof c)te(c,a,void 0);else{if(c.T&&"function"==typeof c.T)var h=c.T();else if(c.R&&"function"==typeof c.R)h=void 0;else if(ke(c)||"string"==typeof c){h=[];for(var f=c.length,g=0;g<f;g++)h.push(g)}else for(g in h=[],f=0,c)h[f++]=g;f=function Kn(c){if(c.R&&"function"==typeof c.R)return c.R();if("string"==typeof c)return c.split("");if(ke(c)){for(var a=[],h=c.length,f=0;f<h;f++)a.push(c[f]);return a}for(f in a=[],h=0,c)a[h++]=c[f];return a}(c),g=f.length;for(var _=0;_<g;_++)a.call(void 0,f[_],h&&h[_],c)}}function k(c,a){this.h={},this.g=[],this.i=0;var h=arguments.length;if(1<h){if(h%2)throw Error("Uneven number of arguments");for(var f=0;f<h;f+=2)this.set(arguments[f],arguments[f+1])}else if(c)if(c instanceof k)for(h=c.T(),f=0;f<h.length;f++)this.set(h[f],c.get(h[f]));else for(f in c)this.set(f,c[f])}function x(c){if(c.i!=c.g.length){for(var a=0,h=0;a<c.g.length;){var f=c.g[a];B(c.h,f)&&(c.g[h++]=f),a++}c.g.length=h}if(c.i!=c.g.length){var g={};for(h=a=0;a<c.g.length;)B(g,f=c.g[a])||(c.g[h++]=f,g[f]=1),a++;c.g.length=h}}function B(c,a){return Object.prototype.hasOwnProperty.call(c,a)}(se=nc.prototype).setTimeout=function(c){this.P=c},se.gb=function(c){c=c.target;var a=this.L;a&&3==Eo(c)?a.l():this.Ia(c)},se.Ia=function(c){try{if(c==this.g)e:{var a=Eo(this.g),h=this.g.Da(),f=this.g.ba();if(!(3>a)&&(3!=a||Mn||this.g&&(this.h.h||this.g.ga()||Vn(this.g)))){this.I||4!=a||7==h||aa(8==h||0>=f?3:2),$l(this);var g=this.g.ba();this.N=g;t:if($f(this)){var _=Vn(this.g);c="";var w=_.length,D=4==Eo(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ba(this),Xe(this);var A="";break t}this.h.i=new we.TextDecoder}for(h=0;h<w;h++)this.h.h=!0,c+=this.h.i.decode(_[h],{stream:D&&h==w-1});_.splice(0,w),this.h.g+=c,this.C=0,A=this.h.g}else A=this.g.ga();if(this.i=200==g,function yo(c,a,h,f,g,_,w){c.info(function(){return"XMLHTTP RESP ("+f+") [ attempt "+g+"]: "+a+"\n"+h+"\n"+_+" "+w})}(this.j,this.u,this.A,this.m,this.X,a,g),this.i){if(this.$&&!this.J){t:{if(this.g){var N,F=this.g;if((N=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Pe(N)){var j=N;break t}}j=null}if(!(g=j)){this.i=!1,this.o=3,Mt(12),Ba(this),Xe(this);break e}cn(this.j,this.m,g,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Be(this,g)}this.U?(ft(this,a,A),Mn&&this.i&&3==a&&(wr(this.V,this.W,"tick",this.fb),this.W.start())):(cn(this.j,this.m,A,null),Be(this,A)),4==a&&Ba(this),this.i&&!this.I&&(4==a?Uo(this.l,this):(this.i=!1,ua(this)))}else 400==g&&0<A.indexOf("Unknown SID")?(this.o=3,Mt(12)):(this.o=0,Mt(13)),Ba(this),Xe(this)}}}catch(z){}},se.fb=function(){if(this.g){var c=Eo(this.g),a=this.g.ga();this.C<a.length&&($l(this),ft(this,c,a),this.i&&4!=c&&ua(this))}},se.cancel=function(){this.I=!0,Ba(this)},se.eb=function(){this.B=null;var c=Date.now();0<=c-this.Y?(function La(c,a){c.info(function(){return"TIMEOUT: "+a})}(this.j,this.A),2!=this.K&&(aa(3),Mt(17)),Ba(this),this.o=2,Xe(this)):_o(this,this.Y-c)},(se=k.prototype).R=function(){x(this);for(var c=[],a=0;a<this.g.length;a++)c.push(this.h[this.g[a]]);return c},se.T=function(){return x(this),this.g.concat()},se.get=function(c,a){return B(this.h,c)?this.h[c]:a},se.set=function(c,a){B(this.h,c)||(this.i++,this.g.push(c)),this.h[c]=a},se.forEach=function(c,a){for(var h=this.T(),f=0;f<h.length;f++){var g=h[f],_=this.get(g);c.call(a,_,g,this)}};var H=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ne(c,a){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,c instanceof ne){this.g=void 0!==a?a:c.g,fe(this,c.j),this.s=c.s,Fe(this,c.i),it(this,c.m),this.l=c.l,a=c.h;var h=new Ur;h.i=a.i,a.g&&(h.g=new k(a.g),h.h=a.h),lt(this,h),this.o=c.o}else c&&(h=String(c).match(H))?(this.g=!!a,fe(this,h[1]||"",!0),this.s=ur(h[2]||""),Fe(this,h[3]||"",!0),it(this,h[4]),this.l=ur(h[5]||"",!0),lt(this,h[6]||"",!0),this.o=ur(h[7]||"")):(this.g=!!a,this.h=new Ur(null,this.g))}function be(c){return new ne(c)}function fe(c,a,h){c.j=h?ur(a,!0):a,c.j&&(c.j=c.j.replace(/:$/,""))}function Fe(c,a,h){c.i=h?ur(a,!0):a}function it(c,a){if(a){if(a=Number(a),isNaN(a)||0>a)throw Error("Bad port number "+a);c.m=a}else c.m=null}function lt(c,a,h){a instanceof Ur?(c.h=a,function Kl(c,a){a&&!c.j&&(ci(c),c.i=null,c.g.forEach(function(h,f){var g=f.toLowerCase();f!=g&&(li(this,f),ud(this,g,h))},c)),c.j=a}(c.h,c.g)):(h||(a=Vr(a,rl)),c.h=new Ur(a,c.g))}function _t(c,a,h){c.h.set(a,h)}function Sr(c){return _t(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ur(c,a){return c?a?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Vr(c,a,h){return"string"==typeof c?(c=encodeURI(c).replace(a,jr),h&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function jr(c){return"%"+((c=c.charCodeAt(0))>>4&15).toString(16)+(15&c).toString(16)}ne.prototype.toString=function(){var c=[],a=this.j;a&&c.push(Vr(a,Fi,!0),":");var h=this.i;return(h||"file"==a)&&(c.push("//"),(a=this.s)&&c.push(Vr(a,Fi,!0),"@"),c.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(h=this.m)&&c.push(":",String(h))),(h=this.l)&&(this.i&&"/"!=h.charAt(0)&&c.push("/"),c.push(Vr(h,"/"==h.charAt(0)?Ns:jo,!0))),(h=this.h.toString())&&c.push("?",h),(h=this.o)&&c.push("#",Vr(h,ln)),c.join("")};var Fi=/[#\/\?@]/g,jo=/[#\?:]/g,Ns=/[#\?]/g,rl=/[#\?@]/g,ln=/#/g;function Ur(c,a){this.h=this.g=null,this.i=c||null,this.j=!!a}function ci(c){c.g||(c.g=new k,c.h=0,c.i&&function Q(c,a){if(c){c=c.split("&");for(var h=0;h<c.length;h++){var f=c[h].indexOf("="),g=null;if(0<=f){var _=c[h].substring(0,f);g=c[h].substring(f+1)}else _=c[h];a(_,g?decodeURIComponent(g.replace(/\+/g," ")):"")}}}(c.i,function(a,h){c.add(decodeURIComponent(a.replace(/\+/g," ")),h)}))}function li(c,a){ci(c),a=rc(c,a),B(c.g.h,a)&&(c.i=null,c.h-=c.g.get(a).length,B((c=c.g).h,a)&&(delete c.h[a],c.i--,c.g.length>2*c.i&&x(c)))}function En(c,a){return ci(c),a=rc(c,a),B(c.g.h,a)}function ud(c,a,h){li(c,a),0<h.length&&(c.i=null,c.g.set(rc(c,a),de(h)),c.h+=h.length)}function rc(c,a){return a=String(a),c.j&&(a=a.toLowerCase()),a}(se=Ur.prototype).add=function(c,a){ci(this),this.i=null,c=rc(this,c);var h=this.g.get(c);return h||this.g.set(c,h=[]),h.push(a),this.h+=1,this},se.forEach=function(c,a){ci(this),this.g.forEach(function(h,f){te(h,function(g){c.call(a,g,f,this)},this)},this)},se.T=function(){ci(this);for(var c=this.g.R(),a=this.g.T(),h=[],f=0;f<a.length;f++)for(var g=c[f],_=0;_<g.length;_++)h.push(a[f]);return h},se.R=function(c){ci(this);var a=[];if("string"==typeof c)En(this,c)&&(a=V(a,this.g.get(rc(this,c))));else{c=this.g.R();for(var h=0;h<c.length;h++)a=V(a,c[h])}return a},se.set=function(c,a){return ci(this),this.i=null,En(this,c=rc(this,c))&&(this.h-=this.g.get(c).length),this.g.set(c,[a]),this.h+=1,this},se.get=function(c,a){return c&&0<(c=this.R(c)).length?String(c[0]):a},se.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var c=[],a=this.g.T(),h=0;h<a.length;h++){var f=a[h],g=encodeURIComponent(String(f));f=this.R(f);for(var _=0;_<f.length;_++){var w=g;""!==f[_]&&(w+="="+encodeURIComponent(String(f[_]))),c.push(w)}}return this.i=c.join("&")};var cd=function c(a,h){this.h=a,this.g=h};function Ps(c){this.l=c||il,c=we.PerformanceNavigationTiming?0<(c=we.performance.getEntriesByType("navigation")).length&&("hq"==c[0].nextHopProtocol||"h2"==c[0].nextHopProtocol):!!(we.g&&we.g.Ea&&we.g.Ea()&&we.g.Ea().Zb),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var il=10;function Kf(c){return!!c.h||!!c.g&&c.g.size>=c.j}function Ar(c){return c.h?1:c.g?c.g.size:0}function ld(c,a){return c.h?c.h==a:!!c.g&&c.g.has(a)}function bo(c,a){c.g?c.g.add(a):c.h=a}function Wf(c,a){c.h&&c.h==a?c.h=null:c.g&&c.g.has(a)&&c.g.delete(a)}function Qm(c){var a,h;if(null!=c.h)return c.i.concat(c.h.D);if(null!=c.g&&0!==c.g.size){var f=c.i;try{for(var g=Xr(c.g.values()),_=g.next();!_.done;_=g.next())f=f.concat(_.value.D)}catch(D){a={error:D}}finally{try{_&&!_.done&&(h=g.return)&&h.call(g)}finally{if(a)throw a.error}}return f}return de(c.i)}function kn(){}function cs(){this.g=new kn}function Ym(c,a,h){var f=h||"";try{nl(c,function(g,_){var w=g;He(g)&&(w=nr(g)),a.push(f+_+"="+encodeURIComponent(w))})}catch(g){throw a.push(f+"type="+encodeURIComponent("_badmap")),g}}function Ii(c,a,h,f,g){try{a.onload=null,a.onerror=null,a.onabort=null,a.ontimeout=null,g(f)}catch(_){}}function Hr(c){this.l=c.$b||null,this.j=c.ib||!1}function ca(c,a){Zt.call(this),this.D=c,this.u=a,this.m=void 0,this.readyState=Fs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ps.prototype.cancel=function(){var c,a;if(this.i=Qm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var h=Xr(this.g.values()),f=h.next();!f.done;f=h.next())f.value.cancel()}catch(_){c={error:_}}finally{try{f&&!f.done&&(a=h.return)&&a.call(h)}finally{if(c)throw c.error}}this.g.clear()}},kn.prototype.stringify=function(c){return we.JSON.stringify(c,void 0)},kn.prototype.parse=function(c){return we.JSON.parse(c,void 0)},Dt(Hr,zf),Hr.prototype.g=function(){return new ca(this.l,this.j)},Hr.prototype.i=function(c){return function(){return c}}({}),Dt(ca,Zt);var Fs=0;function wo(c){c.j.read().then(c.Sa.bind(c)).catch(c.ha.bind(c))}function Va(c){c.readyState=4,c.l=null,c.j=null,c.A=null,qr(c)}function qr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}(se=ca.prototype).open=function(c,a){if(this.readyState!=Fs)throw this.abort(),Error("Error reopening a connection");this.C=c,this.B=a,this.readyState=1,qr(this)},se.send=function(c){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var a={headers:this.v,method:this.C,credentials:this.m,cache:void 0};c&&(a.body=c),(this.D||we).fetch(new Request(this.B,a)).then(this.Va.bind(this),this.ha.bind(this))},se.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Va(this)),this.readyState=Fs},se.Va=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,qr(this)),this.g&&(this.readyState=3,qr(this),this.g)))if("arraybuffer"===this.responseType)c.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==we.ReadableStream&&"body"in c){if(this.j=c.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;wo(this)}else c.text().then(this.Ua.bind(this),this.ha.bind(this))},se.Sa=function(c){if(this.g){if(this.u&&c.value)this.response.push(c.value);else if(!this.u){var a=c.value?c.value:new Uint8Array(0);(a=this.A.decode(a,{stream:!c.done}))&&(this.response=this.responseText+=a)}c.done?Va(this):qr(this),3==this.readyState&&wo(this)}},se.Ua=function(c){this.g&&(this.response=this.responseText=c,Va(this))},se.Ta=function(c){this.g&&(this.response=c,Va(this))},se.ha=function(){this.g&&Va(this)},se.setRequestHeader=function(c,a){this.v.append(c,a)},se.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},se.getAllResponseHeaders=function(){if(!this.h)return"";for(var c=[],a=this.h.entries(),h=a.next();!h.done;)c.push((h=h.value)[0]+": "+h[1]),h=a.next();return c.join("\r\n")},Object.defineProperty(ca.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(c){this.m=c?"include":"same-origin"}});var Wl=we.JSON.parse;function yr(c){Zt.call(this),this.headers=new k,this.u=c||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=la,this.K=this.L=!1}Dt(yr,Zt);var la="",Ti=/^https?$/i,Ql=["POST","PUT"];function ze(c){return"content-type"==c.toLowerCase()}function Wt(c,a){c.h=!1,c.g&&(c.l=!0,c.g.abort(),c.l=!1),c.j=a,c.m=5,Rn(c),eo(c)}function Rn(c){c.D||(c.D=!0,Ht(c,"complete"),Ht(c,"error"))}function Zi(c){if(c.h&&void 0!==G&&(!c.C[1]||4!=Eo(c)||2!=c.ba()))if(c.v&&4==Eo(c))ed(c.Fa,0,c);else if(Ht(c,"readystatechange"),4==Eo(c)){c.h=!1;try{var f,a=c.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}if(!(f=h)){var g;if(g=0===a){var _=String(c.H).match(H)[1]||null;if(!_&&we.self&&we.self.location){var w=we.self.location.protocol;_=w.substr(0,w.length-1)}g=!Ti.test(_?_.toLowerCase():"")}f=g}if(f)Ht(c,"complete"),Ht(c,"success");else{c.m=6;try{var D=2<Eo(c)?c.g.statusText:""}catch(A){D=""}c.j=D+" ["+c.ba()+"]",Rn(c)}}finally{eo(c)}}}function eo(c,a){if(c.g){ti(c);var h=c.g,f=c.C[0]?Me:null;c.g=null,c.C=null,a||Ht(c,"ready");try{h.onreadystatechange=f}catch(g){}}}function ti(c){c.g&&c.K&&(c.g.ontimeout=null),c.A&&(we.clearTimeout(c.A),c.A=null)}function Eo(c){return c.g?c.g.readyState:0}function Vn(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.J){case la:case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch(a){return null}}function Ls(c,a,h){e:{for(f in h){var f=!1;break e}f=!0}f||(h=function lu(c){var a="";return Ge(c,function(h,f){a+=f,a+=":",a+=h,a+="\r\n"}),a}(h),"string"==typeof c?null!=h&&encodeURIComponent(String(h)):_t(c,a,h))}function kt(c,a,h){return h&&h.internalChannelParams&&h.internalChannelParams[c]||a}function vr(c){this.za=0,this.l=[],this.h=new ei,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=kt("failFast",!1,c),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=kt("baseRetryDelayMs",5e3,c),this.$a=kt("retryDelaySeedMs",1e4,c),this.Ya=kt("forwardChannelMaxRetries",2,c),this.ra=kt("forwardChannelRequestTimeoutMs",2e4,c),this.qa=c&&c.xmlHttpFactory||void 0,this.Ba=c&&c.Yb||!1,this.K=void 0,this.H=c&&c.supportsCrossDomainXhr||!1,this.J="",this.i=new Ps(c&&c.concurrentRequestLimit),this.Ca=new cs,this.ja=c&&c.fastHandshake||!1,this.Ra=c&&c.Wb||!1,c&&c.Aa&&this.h.Aa(),c&&c.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&c&&c.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!c||!1!==c.Xb}function hi(c){if(ja(c),3==c.G){var a=c.V++,h=be(c.F);_t(h,"SID",c.J),_t(h,"RID",a),_t(h,"TYPE","terminate"),On(c,h),(a=new nc(c,c.h,a,void 0)).K=2,a.v=Sr(be(h)),h=!1,we.navigator&&we.navigator.sendBeacon&&(h=we.navigator.sendBeacon(a.v.toString(),"")),!h&&we.Image&&((new Image).src=a.v,h=!0),h||(a.g=ov(a.l,null),a.g.ea(a.v)),a.F=Date.now(),ua(a)}iv(c)}function di(c){c.g&&(fi(c),c.g.cancel(),c.g=null)}function ja(c){di(c),c.u&&(we.clearTimeout(c.u),c.u=null),ic(c),c.i.cancel(),c.m&&("number"==typeof c.m&&we.clearTimeout(c.m),c.m=null)}function ni(c,a){c.l.push(new cd(c.Za++,a)),3==c.G&&Bs(c)}function Bs(c){Kf(c.i)||c.m||(c.m=!0,Qc(c.Ha,c),c.C=0)}function hs(c,a){var h;h=a?a.m:c.V++;var f=be(c.F);_t(f,"SID",c.J),_t(f,"RID",h),_t(f,"AID",c.U),On(c,f),c.o&&c.s&&Ls(f,c.o,c.s),h=new nc(c,c.h,h,c.C+1),null===c.o&&(h.H=c.s),a&&(c.l=a.D.concat(c.l)),a=nv(c,h,1e3),h.setTimeout(Math.round(.5*c.ra)+Math.round(.5*c.ra*Math.random())),bo(c.i,h),tl(h,f,a)}function On(c,a){c.j&&nl({},function(h,f){_t(a,f,h)})}function nv(c,a,h){h=Math.min(c.l.length,h);var f=c.j?Xt(c.j.Oa,c.j,c):null;e:for(var g=c.l,_=-1;;){var w=["count="+h];-1==_?0<h?w.push("ofs="+(_=g[0].h)):_=0:w.push("ofs="+_);for(var D=!0,A=0;A<h;A++){var N=g[A].h,F=g[A].g;if(0>(N-=_))_=Math.max(0,g[A].h-100),D=!1;else try{Ym(F,w,"req"+N+"_")}catch(j){f&&f(F)}}if(D){f=w.join("&");break e}}return c=c.l.splice(0,h),a.D=c,f}function rv(c){c.g||c.u||(c.Y=1,Qc(c.Ga,c),c.A=0)}function Vs(c){return!(c.g||c.u||3<=c.A||(c.Y++,c.u=yt(Xt(c.Ga,c),Ho(c,c.A)),c.A++,0))}function fi(c){null!=c.B&&(we.clearTimeout(c.B),c.B=null)}function ha(c){c.g=new nc(c,c.h,"rpc",c.Y),null===c.o&&(c.g.H=c.s),c.g.O=0;var a=be(c.oa);_t(a,"RID","rpc"),_t(a,"SID",c.J),_t(a,"CI",c.N?"0":"1"),_t(a,"AID",c.U),On(c,a),_t(a,"TYPE","xmlhttp"),c.o&&c.s&&Ls(a,c.o,c.s),c.K&&c.g.setTimeout(c.K);var h=c.g;c=c.la,h.K=1,h.v=Sr(be(a)),h.s=null,h.U=!0,ad(h,c)}function ic(c){null!=c.v&&(we.clearTimeout(c.v),c.v=null)}function Uo(c,a){var h=null;if(c.g==a){ic(c),fi(c),c.g=null;var f=2}else{if(!ld(c.i,a))return;h=a.D,Wf(c.i,a),f=1}if(c.I=a.N,0!=c.G)if(a.i)if(1==f){h=a.s?a.s.length:0,a=Date.now()-a.F;var g=c.C;Ht(f=sa(),new Jc(f,h,a,g)),Bs(c)}else rv(c);else if(3==(g=a.o)||0==g&&0<c.I||!(1==f&&function Yl(c,a){return!(Ar(c.i)>=c.i.j-(c.m?1:0)||(c.m?(c.l=a.D.concat(c.l),0):1==c.G||2==c.G||c.C>=(c.Xa?0:c.Ya)||(c.m=yt(Xt(c.Ha,c,a),Ho(c,c.C)),c.C++,0)))}(c,a)||2==f&&Vs(c)))switch(h&&0<h.length&&(a=c.i,a.i=a.i.concat(h)),g){case 1:oc(c,5);break;case 4:oc(c,10);break;case 3:oc(c,6);break;default:oc(c,2)}}function Ho(c,a){var h=c.Pa+Math.floor(Math.random()*c.$a);return c.j||(h*=2),h*a}function oc(c,a){if(c.h.info("Error code "+a),2==a){var h=null;c.j&&(h=null);var f=Xt(c.jb,c);h||(h=new ne("//www.google.com/images/cleardot.gif"),we.location&&"http"==we.location.protocol||fe(h,"https"),Sr(h)),function Bn(c,a){var h=new ei;if(we.Image){var f=new Image;f.onload=Ci(Ii,h,f,"TestLoadImage: loaded",!0,a),f.onerror=Ci(Ii,h,f,"TestLoadImage: error",!1,a),f.onabort=Ci(Ii,h,f,"TestLoadImage: abort",!1,a),f.ontimeout=Ci(Ii,h,f,"TestLoadImage: timeout",!1,a),we.setTimeout(function(){f.ontimeout&&f.ontimeout()},1e4),f.src=c}else a(!1)}(h.toString(),f)}else Mt(2);c.G=0,c.j&&c.j.va(a),iv(c),ja(c)}function iv(c){c.G=0,c.I=-1,c.j&&((0!=Qm(c.i).length||0!=c.l.length)&&(c.i.i.length=0,de(c.l),c.l.length=0),c.j.ua())}function ol(c,a,h){var f=function ar(c){return c instanceof ne?be(c):new ne(c,void 0)}(h);if(""!=f.i)a&&Fe(f,a+"."+f.i),it(f,f.m);else{var g=we.location;f=function Vt(c,a,h,f){var g=new ne(null,void 0);return c&&fe(g,c),a&&Fe(g,a),h&&it(g,h),f&&(g.l=f),g}(g.protocol,a?a+"."+g.hostname:g.hostname,+g.port,h)}return c.aa&&Ge(c.aa,function(_,w){_t(f,w,_)}),h=c.sa,(a=c.D)&&h&&_t(f,a,h),_t(f,"VER",c.ma),On(c,f),f}function ov(c,a,h){if(a&&!c.H)throw Error("Can't create secondary domain capable XhrIo object.");return(a=new yr(h&&c.Ba&&!c.qa?new Hr({ib:!0}):c.qa)).L=c.H,a}function sv(){}function Xm(){if(ks&&!(10<=Number(ss)))throw Error("Environmental error: no available transport.")}function qo(c,a){Zt.call(this),this.g=new vr(a),this.l=c,this.h=a&&a.messageUrlParams||null,c=a&&a.messageHeaders||null,a&&a.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.s=c,c=a&&a.initMessageHeaders||null,a&&a.messageContentType&&(c?c["X-WebChannel-Content-Type"]=a.messageContentType:c={"X-WebChannel-Content-Type":a.messageContentType}),a&&a.ya&&(c?c["X-WebChannel-Client-Profile"]=a.ya:c={"X-WebChannel-Client-Profile":a.ya}),this.g.P=c,(c=a&&a.httpHeadersOverwriteParam)&&!Pe(c)&&(this.g.o=c),this.A=a&&a.supportsCrossDomainXhr||!1,this.v=a&&a.sendRawJson||!1,(a=a&&a.httpSessionIdParam)&&!Pe(a)&&(this.g.D=a,null!==(c=this.h)&&a in c&&a in(c=this.h)&&delete c[a]),this.j=new Xl(this)}function av(c){Gf.call(this);var a=c.__sm__;if(a){e:{for(var h in a){c=h;break e}c=void 0}(this.i=c)&&(c=this.i,a=null!==a&&c in a?a[c]:void 0),this.data=a}else this.data=c}function Rb(){tc.call(this),this.status=1}function Xl(c){this.g=c}(se=yr.prototype).ea=function(c,a,h,f){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+c);a=a?a.toUpperCase():"GET",this.H=c,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Zc.g(),this.C=function Zu(c){return c.h||(c.h=c.i())}(this.u?this.u:Zc),this.g.onreadystatechange=Xt(this.Fa,this);try{this.F=!0,this.g.open(a,String(c),!0),this.F=!1}catch(_){return void Wt(this,_)}c=h||"";var g=new k(this.headers);f&&nl(f,function(_,w){g.set(w,_)}),f=function _e(c){e:{for(var a=ze,h=c.length,f="string"==typeof c?c.split(""):c,g=0;g<h;g++)if(g in f&&a.call(void 0,f[g],g,c)){a=g;break e}a=-1}return 0>a?null:"string"==typeof c?c.charAt(a):c[a]}(g.T()),h=we.FormData&&c instanceof we.FormData,!(0<=Ji(Ql,a))||f||h||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),g.forEach(function(_,w){this.g.setRequestHeader(w,_)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ti(this),0<this.B&&((this.K=function ls(c){return ks&&function ui(){return function go(c){var a=mr;return Object.prototype.hasOwnProperty.call(a,9)?a[9]:a[9]=c(9)}(function(){for(var c=0,a=Oe(String(on)).split("."),h=Oe("9").split("."),f=Math.max(a.length,h.length),g=0;0==c&&g<f;g++){var _=a[g]||"",w=h[g]||"";do{if(_=/(\d*)(\D*)(.*)/.exec(_)||["","","",""],w=/(\d*)(\D*)(.*)/.exec(w)||["","","",""],0==_[0].length&&0==w[0].length)break;c=Qt(0==_[1].length?0:parseInt(_[1],10),0==w[1].length?0:parseInt(w[1],10))||Qt(0==_[2].length,0==w[2].length)||Qt(_[2],w[2]),_=_[3],w=w[3]}while(0==c)}return 0<=c})}()&&"number"==typeof c.timeout&&void 0!==c.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Xt(this.pa,this)):this.A=ed(this.pa,this.B,this)),this.v=!0,this.g.send(c),this.v=!1}catch(_){Wt(this,_)}},se.pa=function(){void 0!==G&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ht(this,"timeout"),this.abort(8))},se.abort=function(c){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=c||7,Ht(this,"complete"),Ht(this,"abort"),eo(this))},se.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),eo(this,!0)),yr.Z.M.call(this)},se.Fa=function(){this.s||(this.F||this.v||this.l?Zi(this):this.cb())},se.cb=function(){Zi(this)},se.ba=function(){try{return 2<Eo(this)?this.g.status:-1}catch(c){return-1}},se.ga=function(){try{return this.g?this.g.responseText:""}catch(c){return""}},se.Qa=function(c){if(this.g){var a=this.g.responseText;return c&&0==a.indexOf(c)&&(a=a.substring(c.length)),Wl(a)}},se.Da=function(){return this.m},se.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(se=vr.prototype).ma=8,se.G=1,se.hb=function(c){try{this.h.info("Origin Trials invoked: "+c)}catch(a){}},se.Ha=function(c){if(this.m)if(this.m=null,1==this.G){if(!c){this.V=Math.floor(1e5*Math.random()),c=this.V++;var a=new nc(this,this.h,c,void 0),h=this.s;if(this.P&&(h?xn(h=Ie(h),this.P):h=this.P),null===this.o&&(a.H=h),this.ja)e:{for(var f=0,g=0;g<this.l.length;g++){var _=this.l[g];if(void 0===(_="__data__"in _.g&&"string"==typeof(_=_.g.__data__)?_.length:void 0))break;if(4096<(f+=_)){f=g;break e}if(4096===f||g===this.l.length-1){f=g+1;break e}}f=1e3}else f=1e3;f=nv(this,a,f),_t(g=be(this.F),"RID",c),_t(g,"CVER",22),this.D&&_t(g,"X-HTTP-Session-Id",this.D),On(this,g),this.o&&h&&Ls(g,this.o,h),bo(this.i,a),this.Ra&&_t(g,"TYPE","init"),this.ja?(_t(g,"$req",f),_t(g,"SID","null"),a.$=!0,tl(a,g,null)):tl(a,g,f),this.G=2}}else 3==this.G&&(c?hs(this,c):0==this.l.length||Kf(this.i)||hs(this))},se.Ga=function(){if(this.u=null,ha(this),this.$&&!(this.L||null==this.g||0>=this.O)){var c=2*this.O;this.h.info("BP detection timer enabled: "+c),this.B=yt(Xt(this.bb,this),c)}},se.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Mt(10),di(this),ha(this))},se.ab=function(){null!=this.v&&(this.v=null,di(this),Vs(this),Mt(19))},se.jb=function(c){c?(this.h.info("Successfully pinged google.com"),Mt(2)):(this.h.info("Failed to ping google.com"),Mt(1))},(se=sv.prototype).xa=function(){},se.wa=function(){},se.va=function(){},se.ua=function(){},se.Oa=function(){},Xm.prototype.g=function(c,a){return new qo(c,a)},Dt(qo,Zt),qo.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var c=this.g,a=this.l,h=this.h||void 0;c.Wa&&(c.h.info("Origin Trials enabled."),Qc(Xt(c.hb,c,a))),Mt(0),c.W=a,c.aa=h||{},c.N=c.X,c.F=ol(c,null,c.W),Bs(c)},qo.prototype.close=function(){hi(this.g)},qo.prototype.u=function(c){if("string"==typeof c){var a={};a.__data__=c,ni(this.g,a)}else this.v?((a={}).__data__=nr(c),ni(this.g,a)):ni(this.g,c)},qo.prototype.M=function(){this.g.j=null,delete this.j,hi(this.g),delete this.g,qo.Z.M.call(this)},Dt(av,Gf),Dt(Rb,tc),Dt(Xl,sv),Xl.prototype.xa=function(){Ht(this.g,"a")},Xl.prototype.wa=function(c){Ht(this.g,new av(c))},Xl.prototype.va=function(c){Ht(this.g,new Rb(c))},Xl.prototype.ua=function(){Ht(this.g,"b")},Xm.prototype.createWebChannel=Xm.prototype.g,qo.prototype.send=qo.prototype.u,qo.prototype.open=qo.prototype.m,qo.prototype.close=qo.prototype.close,Or.NO_ERROR=0,Or.TIMEOUT=8,Or.HTTP_ERROR=6,us.COMPLETE="complete",ec.EventType=Br,Br.OPEN="a",Br.CLOSE="b",Br.ERROR="c",Br.MESSAGE="d",Zt.prototype.listen=Zt.prototype.N,yr.prototype.listenOnce=yr.prototype.O,yr.prototype.getLastError=yr.prototype.La,yr.prototype.getLastErrorCode=yr.prototype.Da,yr.prototype.getStatus=yr.prototype.ba,yr.prototype.getResponseJson=yr.prototype.Qa,yr.prototype.getResponseText=yr.prototype.ga,yr.prototype.send=yr.prototype.ea;var Qf=Or,uv=us,Ob=Vo,Zm_PROXY=10,Zm_NOPROXY=11,sl=Hr,dd=ec,eg=yr,Co=function(){function c(a,h){var f=this;this.previousValue=a,h&&(h.sequenceNumberHandler=function(g){return f.t(g)},this.i=function(g){return h.writeSequenceNumber(g)})}return c.prototype.t=function(a){return this.previousValue=Math.max(a,this.previousValue),this.previousValue},c.prototype.next=function(){var a=++this.previousValue;return this.i&&this.i(a),a},c}();Co.o=-1;var oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ge=function(c){function a(h,f){var g=this;return(g=c.call(this,f)||this).code=h,g.message=f,g.name="FirebaseError",g.toString=function(){return g.name+": [code="+g.code+"]: "+g.message},g}return(0,S.ZT)(a,c),a}(Error),ds=new dt.Yd("@firebase/firestore");function pi(){return ds.logLevel}function Se(c){for(var a=[],h=1;h<arguments.length;h++)a[h-1]=arguments[h];if(ds.logLevel<=dt.in.DEBUG){var f=a.map(Jl);ds.debug.apply(ds,(0,S.ev)(["Firestore (8.10.1): "+c],f))}}function zr(c){for(var a=[],h=1;h<arguments.length;h++)a[h-1]=arguments[h];if(ds.logLevel<=dt.in.ERROR){var f=a.map(Jl);ds.error.apply(ds,(0,S.ev)(["Firestore (8.10.1): "+c],f))}}function fd(c){for(var a=[],h=1;h<arguments.length;h++)a[h-1]=arguments[h];if(ds.logLevel<=dt.in.WARN){var f=a.map(Jl);ds.warn.apply(ds,(0,S.ev)(["Firestore (8.10.1): "+c],f))}}function Jl(c){if("string"==typeof c)return c;try{return JSON.stringify(c)}catch(h){return c}}function ot(c){void 0===c&&(c="Unexpected state");var a="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+c;throw zr(a),new Error(a)}function mt(c,a){c||ot()}function Ue(c,a){return c}function Zl(c){var a="undefined"!=typeof self&&(self.crypto||self.msCrypto),h=new Uint8Array(c);if(a&&"function"==typeof a.getRandomValues)a.getRandomValues(h);else for(var f=0;f<c;f++)h[f]=Math.floor(256*Math.random());return h}var jn=function(){function c(){}return c.u=function(){for(var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",h=Math.floor(256/a.length)*a.length,f="";f.length<20;)for(var g=Zl(40),_=0;_<g.length;++_)f.length<20&&g[_]<h&&(f+=a.charAt(g[_]%a.length));return f},c}();function st(c,a){return c<a?-1:c>a?1:0}function hu(c,a,h){return c.length===a.length&&c.every(function(f,g){return h(f,a[g])})}function Ua(c){return c+"\0"}var Li=function(){function c(a,h){if(this.seconds=a,this.nanoseconds=h,h<0)throw new ge(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+h);if(h>=1e9)throw new ge(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+h);if(a<-62135596800)throw new ge(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+a);if(a>=253402300800)throw new ge(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+a)}return c.now=function(){return c.fromMillis(Date.now())},c.fromDate=function(a){return c.fromMillis(a.getTime())},c.fromMillis=function(a){var h=Math.floor(a/1e3);return new c(h,Math.floor(1e6*(a-1e3*h)))},c.prototype.toDate=function(){return new Date(this.toMillis())},c.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},c.prototype._compareTo=function(a){return this.seconds===a.seconds?st(this.nanoseconds,a.nanoseconds):st(this.seconds,a.seconds)},c.prototype.isEqual=function(a){return a.seconds===this.seconds&&a.nanoseconds===this.nanoseconds},c.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},c.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},c.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},c}(),Ot=function(){function c(a){this.timestamp=a}return c.fromTimestamp=function(a){return new c(a)},c.min=function(){return new c(new Li(0,0))},c.prototype.compareTo=function(a){return this.timestamp._compareTo(a.timestamp)},c.prototype.isEqual=function(a){return this.timestamp.isEqual(a.timestamp)},c.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},c.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},c.prototype.toTimestamp=function(){return this.timestamp},c}();function pd(c){var a=0;for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&a++;return a}function Cn(c,a){for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&a(h,c[h])}function Yf(c){for(var a in c)if(Object.prototype.hasOwnProperty.call(c,a))return!1;return!0}var al=function(){function c(a,h,f){void 0===h?h=0:h>a.length&&ot(),void 0===f?f=a.length-h:f>a.length-h&&ot(),this.segments=a,this.offset=h,this.len=f}return Object.defineProperty(c.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),c.prototype.isEqual=function(a){return 0===c.comparator(this,a)},c.prototype.child=function(a){var h=this.segments.slice(this.offset,this.limit());return a instanceof c?a.forEach(function(f){h.push(f)}):h.push(a),this.construct(h)},c.prototype.limit=function(){return this.offset+this.length},c.prototype.popFirst=function(a){return this.construct(this.segments,this.offset+(a=void 0===a?1:a),this.length-a)},c.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},c.prototype.firstSegment=function(){return this.segments[this.offset]},c.prototype.lastSegment=function(){return this.get(this.length-1)},c.prototype.get=function(a){return this.segments[this.offset+a]},c.prototype.isEmpty=function(){return 0===this.length},c.prototype.isPrefixOf=function(a){if(a.length<this.length)return!1;for(var h=0;h<this.length;h++)if(this.get(h)!==a.get(h))return!1;return!0},c.prototype.isImmediateParentOf=function(a){if(this.length+1!==a.length)return!1;for(var h=0;h<this.length;h++)if(this.get(h)!==a.get(h))return!1;return!0},c.prototype.forEach=function(a){for(var h=this.offset,f=this.limit();h<f;h++)a(this.segments[h])},c.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},c.comparator=function(a,h){for(var f=Math.min(a.length,h.length),g=0;g<f;g++){var _=a.get(g),w=h.get(g);if(_<w)return-1;if(_>w)return 1}return a.length<h.length?-1:a.length>h.length?1:0},c}(),ht=function(c){function a(){return null!==c&&c.apply(this,arguments)||this}return(0,S.ZT)(a,c),a.prototype.construct=function(h,f,g){return new a(h,f,g)},a.prototype.canonicalString=function(){return this.toArray().join("/")},a.prototype.toString=function(){return this.canonicalString()},a.fromString=function(){for(var h=[],f=0;f<arguments.length;f++)h[f]=arguments[f];for(var g=[],_=0,w=h;_<w.length;_++){var D=w[_];if(D.indexOf("//")>=0)throw new ge(oe.INVALID_ARGUMENT,"Invalid segment ("+D+"). Paths must not contain // in them.");g.push.apply(g,D.split("/").filter(function(A){return A.length>0}))}return new a(g)},a.emptyPath=function(){return new a([])},a}(al),lv=/^[_a-zA-Z][_a-zA-Z0-9]*$/,da=function(c){function a(){return null!==c&&c.apply(this,arguments)||this}return(0,S.ZT)(a,c),a.prototype.construct=function(h,f,g){return new a(h,f,g)},a.isValidIdentifier=function(h){return lv.test(h)},a.prototype.canonicalString=function(){return this.toArray().map(function(h){return h=h.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),a.isValidIdentifier(h)||(h="`"+h+"`"),h}).join(".")},a.prototype.toString=function(){return this.canonicalString()},a.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},a.keyField=function(){return new a(["__name__"])},a.fromServerFormat=function(h){for(var f=[],g="",_=0,w=function(){if(0===g.length)throw new ge(oe.INVALID_ARGUMENT,"Invalid field path ("+h+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");f.push(g),g=""},D=!1;_<h.length;){var A=h[_];if("\\"===A){if(_+1===h.length)throw new ge(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+h);var N=h[_+1];if("\\"!==N&&"."!==N&&"`"!==N)throw new ge(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+h);g+=N,_+=2}else"`"===A?(D=!D,_++):"."!==A||D?(g+=A,_++):(w(),_++)}if(w(),D)throw new ge(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+h);return new a(f)},a.emptyPath=function(){return new a([])},a}(al),to=function(){function c(a){this.fields=a,a.sort(da.comparator)}return c.prototype.covers=function(a){for(var h=0,f=this.fields;h<f.length;h++)if(f[h].isPrefixOf(a))return!0;return!1},c.prototype.isEqual=function(a){return hu(this.fields,a.fields,function(h,f){return h.isEqual(f)})},c}(),Wn=function(){function c(a){this.binaryString=a}return c.fromBase64String=function(a){return new c(atob(a))},c.fromUint8Array=function(a){return new c(function(h){for(var f="",g=0;g<h.length;++g)f+=String.fromCharCode(h[g]);return f}(a))},c.prototype.toBase64=function(){return btoa(this.binaryString)},c.prototype.toUint8Array=function(){return function(a){for(var h=new Uint8Array(a.length),f=0;f<a.length;f++)h[f]=a.charCodeAt(f);return h}(this.binaryString)},c.prototype.approximateByteSize=function(){return 2*this.binaryString.length},c.prototype.compareTo=function(a){return st(this.binaryString,a.binaryString)},c.prototype.isEqual=function(a){return this.binaryString===a.binaryString},c}();Wn.EMPTY_BYTE_STRING=new Wn("");var Nb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zo(c){if(mt(!!c),"string"==typeof c){var a=0,h=Nb.exec(c);if(mt(!!h),h[1]){var f=h[1];f=(f+"000000000").substr(0,9),a=Number(f)}var g=new Date(c);return{seconds:Math.floor(g.getTime()/1e3),nanos:a}}return{seconds:cr(c.seconds),nanos:cr(c.nanos)}}function cr(c){return"number"==typeof c?c:"string"==typeof c?Number(c):0}function Si(c){return"string"==typeof c?Wn.fromBase64String(c):Wn.fromUint8Array(c)}function Xf(c){var a,h;return"server_timestamp"===(null===(h=((null===(a=null==c?void 0:c.mapValue)||void 0===a?void 0:a.fields)||{}).__type__)||void 0===h?void 0:h.stringValue)}function md(c){var a=c.mapValue.fields.__previous_value__;return Xf(a)?md(a):a}function ul(c){var a=zo(c.mapValue.fields.__local_write_time__.timestampValue);return new Li(a.seconds,a.nanos)}function no(c){return null==c}function cl(c){return 0===c&&1/c==-1/0}function Je(c){return"number"==typeof c&&Number.isInteger(c)&&!cl(c)&&c<=Number.MAX_SAFE_INTEGER&&c>=Number.MIN_SAFE_INTEGER}var pe=function(){function c(a){this.path=a}return c.fromPath=function(a){return new c(ht.fromString(a))},c.fromName=function(a){return new c(ht.fromString(a).popFirst(5))},c.prototype.hasCollectionId=function(a){return this.path.length>=2&&this.path.get(this.path.length-2)===a},c.prototype.isEqual=function(a){return null!==a&&0===ht.comparator(this.path,a.path)},c.prototype.toString=function(){return this.path.toString()},c.comparator=function(a,h){return ht.comparator(a.path,h.path)},c.isDocumentKey=function(a){return a.length%2==0},c.fromSegments=function(a){return new c(new ht(a.slice()))},c}();function Do(c){return"nullValue"in c?0:"booleanValue"in c?1:"integerValue"in c||"doubleValue"in c?2:"timestampValue"in c?3:"stringValue"in c?5:"bytesValue"in c?6:"referenceValue"in c?7:"geoPointValue"in c?8:"arrayValue"in c?9:"mapValue"in c?Xf(c)?4:10:ot()}function Ha(c,a){var g,h=Do(c);if(h!==Do(a))return!1;switch(h){case 0:return!0;case 1:return c.booleanValue===a.booleanValue;case 4:return ul(c).isEqual(ul(a));case 3:return function(f,g){if("string"==typeof f.timestampValue&&"string"==typeof g.timestampValue&&f.timestampValue.length===g.timestampValue.length)return f.timestampValue===g.timestampValue;var _=zo(f.timestampValue),w=zo(g.timestampValue);return _.seconds===w.seconds&&_.nanos===w.nanos}(c,a);case 5:return c.stringValue===a.stringValue;case 6:return g=a,Si(c.bytesValue).isEqual(Si(g.bytesValue));case 7:return c.referenceValue===a.referenceValue;case 8:return function(f,g){return cr(f.geoPointValue.latitude)===cr(g.geoPointValue.latitude)&&cr(f.geoPointValue.longitude)===cr(g.geoPointValue.longitude)}(c,a);case 2:return function(f,g){if("integerValue"in f&&"integerValue"in g)return cr(f.integerValue)===cr(g.integerValue);if("doubleValue"in f&&"doubleValue"in g){var _=cr(f.doubleValue),w=cr(g.doubleValue);return _===w?cl(_)===cl(w):isNaN(_)&&isNaN(w)}return!1}(c,a);case 9:return hu(c.arrayValue.values||[],a.arrayValue.values||[],Ha);case 10:return function(f,g){var _=f.mapValue.fields||{},w=g.mapValue.fields||{};if(pd(_)!==pd(w))return!1;for(var D in _)if(_.hasOwnProperty(D)&&(void 0===w[D]||!Ha(_[D],w[D])))return!1;return!0}(c,a);default:return ot()}}function gd(c,a){return void 0!==(c.values||[]).find(function(h){return Ha(h,a)})}function sc(c,a){var g,_,w,D,h=Do(c),f=Do(a);if(h!==f)return st(h,f);switch(h){case 0:return 0;case 1:return st(c.booleanValue,a.booleanValue);case 2:return _=a,(w=cr((g=c).integerValue||g.doubleValue))<(D=cr(_.integerValue||_.doubleValue))?-1:w>D?1:w===D?0:isNaN(w)?isNaN(D)?0:-1:1;case 3:return yd(c.timestampValue,a.timestampValue);case 4:return yd(ul(c),ul(a));case 5:return st(c.stringValue,a.stringValue);case 6:return function(g,_){var w=Si(g),D=Si(_);return w.compareTo(D)}(c.bytesValue,a.bytesValue);case 7:return function(g,_){for(var w=g.split("/"),D=_.split("/"),A=0;A<w.length&&A<D.length;A++){var N=st(w[A],D[A]);if(0!==N)return N}return st(w.length,D.length)}(c.referenceValue,a.referenceValue);case 8:return function(g,_){var w=st(cr(g.latitude),cr(_.latitude));return 0!==w?w:st(cr(g.longitude),cr(_.longitude))}(c.geoPointValue,a.geoPointValue);case 9:return function(g,_){for(var w=g.values||[],D=_.values||[],A=0;A<w.length&&A<D.length;++A){var N=sc(w[A],D[A]);if(N)return N}return st(w.length,D.length)}(c.arrayValue,a.arrayValue);case 10:return function(g,_){var w=g.fields||{},D=Object.keys(w),A=_.fields||{},N=Object.keys(A);D.sort(),N.sort();for(var F=0;F<D.length&&F<N.length;++F){var j=st(D[F],N[F]);if(0!==j)return j;var z=sc(w[D[F]],A[N[F]]);if(0!==z)return z}return st(D.length,N.length)}(c.mapValue,a.mapValue);default:throw ot()}}function yd(c,a){if("string"==typeof c&&"string"==typeof a&&c.length===a.length)return st(c,a);var h=zo(c),f=zo(a),g=st(h.seconds,f.seconds);return 0!==g?g:st(h.nanos,f.nanos)}function vd(c){return Jf(c)}function Jf(c){return"nullValue"in c?"null":"booleanValue"in c?""+c.booleanValue:"integerValue"in c?""+c.integerValue:"doubleValue"in c?""+c.doubleValue:"timestampValue"in c?"time("+(g=zo(c.timestampValue)).seconds+","+g.nanos+")":"stringValue"in c?c.stringValue:"bytesValue"in c?Si(c.bytesValue).toBase64():"referenceValue"in c?pe.fromName(c.referenceValue).toString():"geoPointValue"in c?"geo("+(a=c.geoPointValue).latitude+","+a.longitude+")":"arrayValue"in c?function(f){for(var g="[",_=!0,w=0,D=f.values||[];w<D.length;w++)_?_=!1:g+=",",g+=Jf(D[w]);return g+"]"}(c.arrayValue):"mapValue"in c?function(f){for(var g="{",_=!0,w=0,D=Object.keys(f.fields||{}).sort();w<D.length;w++){var A=D[w];_?_=!1:g+=",",g+=A+":"+Jf(f.fields[A])}return g+"}"}(c.mapValue):ot();var g,a}function ye(c,a){return{referenceValue:"projects/"+c.projectId+"/databases/"+c.database+"/documents/"+a.path.canonicalString()}}function Yt(c){return!!c&&"integerValue"in c}function Bi(c){return!!c&&"arrayValue"in c}function Er(c){return!!c&&"nullValue"in c}function tg(c){return!!c&&"doubleValue"in c&&isNaN(Number(c.doubleValue))}function qa(c){return!!c&&"mapValue"in c}function Vi(c){if(c.geoPointValue)return{geoPointValue:Object.assign({},c.geoPointValue)};if(c.timestampValue&&"object"==typeof c.timestampValue)return{timestampValue:Object.assign({},c.timestampValue)};if(c.mapValue){var a={mapValue:{fields:{}}};return Cn(c.mapValue.fields,function(g,_){return a.mapValue.fields[g]=Vi(_)}),a}if(c.arrayValue){for(var h={arrayValue:{values:[]}},f=0;f<(c.arrayValue.values||[]).length;++f)h.arrayValue.values[f]=Vi(c.arrayValue.values[f]);return h}return Object.assign({},c)}var mi=function(){function c(a){this.value=a}return c.empty=function(){return new c({mapValue:{}})},c.prototype.field=function(a){if(a.isEmpty())return this.value;for(var h=this.value,f=0;f<a.length-1;++f)if(!qa(h=(h.mapValue.fields||{})[a.get(f)]))return null;return(h=(h.mapValue.fields||{})[a.lastSegment()])||null},c.prototype.set=function(a,h){this.getFieldsMap(a.popLast())[a.lastSegment()]=Vi(h)},c.prototype.setAll=function(a){var h=this,f=da.emptyPath(),g={},_=[];a.forEach(function(D,A){if(!f.isImmediateParentOf(A)){var N=h.getFieldsMap(f);h.applyChanges(N,g,_),g={},_=[],f=A.popLast()}D?g[A.lastSegment()]=Vi(D):_.push(A.lastSegment())});var w=this.getFieldsMap(f);this.applyChanges(w,g,_)},c.prototype.delete=function(a){var h=this.field(a.popLast());qa(h)&&h.mapValue.fields&&delete h.mapValue.fields[a.lastSegment()]},c.prototype.isEqual=function(a){return Ha(this.value,a.value)},c.prototype.getFieldsMap=function(a){var h=this.value;h.mapValue.fields||(h.mapValue={fields:{}});for(var f=0;f<a.length;++f){var g=h.mapValue.fields[a.get(f)];qa(g)&&g.mapValue.fields||(g={mapValue:{fields:{}}},h.mapValue.fields[a.get(f)]=g),h=g}return h.mapValue.fields},c.prototype.applyChanges=function(a,h,f){Cn(h,function(D,A){return a[D]=A});for(var g=0,_=f;g<_.length;g++)delete a[_[g]]},c.prototype.clone=function(){return new c(Vi(this.value))},c}();function Zf(c){var a=[];return Cn(c.fields,function(h,f){var g=new da([h]);if(qa(f)){var _=Zf(f.mapValue).fields;if(0===_.length)a.push(g);else for(var w=0,D=_;w<D.length;w++)a.push(g.child(D[w]))}else a.push(g)}),new to(a)}var ro=function(){function c(a,h,f,g,_){this.key=a,this.documentType=h,this.version=f,this.data=g,this.documentState=_}return c.newInvalidDocument=function(a){return new c(a,0,Ot.min(),mi.empty(),0)},c.newFoundDocument=function(a,h,f){return new c(a,1,h,f,0)},c.newNoDocument=function(a,h){return new c(a,2,h,mi.empty(),0)},c.newUnknownDocument=function(a,h){return new c(a,3,h,mi.empty(),2)},c.prototype.convertToFoundDocument=function(a,h){return this.version=a,this.documentType=1,this.data=h,this.documentState=0,this},c.prototype.convertToNoDocument=function(a){return this.version=a,this.documentType=2,this.data=mi.empty(),this.documentState=0,this},c.prototype.convertToUnknownDocument=function(a){return this.version=a,this.documentType=3,this.data=mi.empty(),this.documentState=2,this},c.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},c.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(c.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),c.prototype.isValidDocument=function(){return 0!==this.documentType},c.prototype.isFoundDocument=function(){return 1===this.documentType},c.prototype.isNoDocument=function(){return 2===this.documentType},c.prototype.isUnknownDocument=function(){return 3===this.documentType},c.prototype.isEqual=function(a){return a instanceof c&&this.key.isEqual(a.key)&&this.version.isEqual(a.version)&&this.documentType===a.documentType&&this.documentState===a.documentState&&this.data.isEqual(a.data)},c.prototype.clone=function(){return new c(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},c.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},c}(),Pb=function(c,a,h,f,g,_,w){void 0===a&&(a=null),void 0===h&&(h=[]),void 0===f&&(f=[]),void 0===g&&(g=null),void 0===_&&(_=null),void 0===w&&(w=null),this.path=c,this.collectionGroup=a,this.orderBy=h,this.filters=f,this.limit=g,this.startAt=_,this.endAt=w,this.h=null};function _d(c,a,h,f,g,_,w){return void 0===a&&(a=null),void 0===h&&(h=[]),void 0===f&&(f=[]),void 0===g&&(g=null),void 0===_&&(_=null),void 0===w&&(w=null),new Pb(c,a,h,f,g,_,w)}function du(c){var a=Ue(c);if(null===a.h){var h=a.path.canonicalString();null!==a.collectionGroup&&(h+="|cg:"+a.collectionGroup),h+="|f:",h+=a.filters.map(function(f){return(g=f).field.canonicalString()+g.op.toString()+vd(g.value);var g}).join(","),h+="|ob:",h+=a.orderBy.map(function(f){return(g=f).field.canonicalString()+g.dir;var g}).join(","),no(a.limit)||(h+="|l:",h+=a.limit),a.startAt&&(h+="|lb:",h+=nh(a.startAt)),a.endAt&&(h+="|ub:",h+=nh(a.endAt)),a.h=h}return a.h}function gi(c,a){if(c.limit!==a.limit||c.orderBy.length!==a.orderBy.length)return!1;for(var h=0;h<c.orderBy.length;h++)if(!bd(c.orderBy[h],a.orderBy[h]))return!1;if(c.filters.length!==a.filters.length)return!1;for(var f=0;f<c.filters.length;f++)if((g=c.filters[f]).op!==(_=a.filters[f]).op||!g.field.isEqual(_.field)||!Ha(g.value,_.value))return!1;var g,_;return c.collectionGroup===a.collectionGroup&&!!c.path.isEqual(a.path)&&!!np(c.startAt,a.startAt)&&np(c.endAt,a.endAt)}function js(c){return pe.isDocumentKey(c.path)&&null===c.collectionGroup&&0===c.filters.length}var Io=function(c){function a(h,f,g){var _=this;return(_=c.call(this)||this).field=h,_.op=f,_.value=g,_}return(0,S.ZT)(a,c),a.create=function(h,f,g){return h.isKeyField()?"in"===f||"not-in"===f?this.l(h,f,g):new eh(h,f,g):"array-contains"===f?new hv(h,g):"in"===f?new Fb(h,g):"not-in"===f?new rg(h,g):"array-contains-any"===f?new tp(h,g):new a(h,f,g)},a.l=function(h,f,g){return"in"===f?new fu(h,g):new ng(h,g)},a.prototype.matches=function(h){var f=h.data.field(this.field);return"!="===this.op?null!==f&&this.m(sc(f,this.value)):null!==f&&Do(this.value)===Do(f)&&this.m(sc(f,this.value))},a.prototype.m=function(h){switch(this.op){case"<":return h<0;case"<=":return h<=0;case"==":return 0===h;case"!=":return 0!==h;case">":return h>0;case">=":return h>=0;default:return ot()}},a.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},a}(function(){}),eh=function(c){function a(h,f,g){var _=this;return(_=c.call(this,h,f,g)||this).key=pe.fromName(g.referenceValue),_}return(0,S.ZT)(a,c),a.prototype.matches=function(h){var f=pe.comparator(h.key,this.key);return this.m(f)},a}(Io),fu=function(c){function a(h,f){var g=this;return(g=c.call(this,h,"in",f)||this).keys=ep(0,f),g}return(0,S.ZT)(a,c),a.prototype.matches=function(h){return this.keys.some(function(f){return f.isEqual(h.key)})},a}(Io),ng=function(c){function a(h,f){var g=this;return(g=c.call(this,h,"not-in",f)||this).keys=ep(0,f),g}return(0,S.ZT)(a,c),a.prototype.matches=function(h){return!this.keys.some(function(f){return f.isEqual(h.key)})},a}(Io);function ep(c,a){var h;return((null===(h=a.arrayValue)||void 0===h?void 0:h.values)||[]).map(function(f){return pe.fromName(f.referenceValue)})}var hv=function(c){function a(h,f){return c.call(this,h,"array-contains",f)||this}return(0,S.ZT)(a,c),a.prototype.matches=function(h){var f=h.data.field(this.field);return Bi(f)&&gd(f.arrayValue,this.value)},a}(Io),Fb=function(c){function a(h,f){return c.call(this,h,"in",f)||this}return(0,S.ZT)(a,c),a.prototype.matches=function(h){var f=h.data.field(this.field);return null!==f&&gd(this.value.arrayValue,f)},a}(Io),rg=function(c){function a(h,f){return c.call(this,h,"not-in",f)||this}return(0,S.ZT)(a,c),a.prototype.matches=function(h){if(gd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var f=h.data.field(this.field);return null!==f&&!gd(this.value.arrayValue,f)},a}(Io),tp=function(c){function a(h,f){return c.call(this,h,"array-contains-any",f)||this}return(0,S.ZT)(a,c),a.prototype.matches=function(h){var f=this,g=h.data.field(this.field);return!(!Bi(g)||!g.arrayValue.values)&&g.arrayValue.values.some(function(_){return gd(f.value.arrayValue,_)})},a}(Io),th=function(c,a){this.position=c,this.before=a};function nh(c){return(c.before?"b":"a")+":"+c.position.map(function(a){return vd(a)}).join(",")}var ll=function(c,a){void 0===a&&(a="asc"),this.field=c,this.dir=a};function bd(c,a){return c.dir===a.dir&&c.field.isEqual(a.field)}function rh(c,a,h){for(var f=0,g=0;g<c.position.length;g++){var _=a[g],w=c.position[g];if(f=_.field.isKeyField()?pe.comparator(pe.fromName(w.referenceValue),h.key):sc(w,h.data.field(_.field)),"desc"===_.dir&&(f*=-1),0!==f)break}return c.before?f<=0:f<0}function np(c,a){if(null===c)return null===a;if(null===a||c.before!==a.before||c.position.length!==a.position.length)return!1;for(var h=0;h<c.position.length;h++)if(!Ha(c.position[h],a.position[h]))return!1;return!0}var Us=function(c,a,h,f,g,_,w,D){void 0===a&&(a=null),void 0===h&&(h=[]),void 0===f&&(f=[]),void 0===g&&(g=null),void 0===_&&(_="F"),void 0===w&&(w=null),void 0===D&&(D=null),this.path=c,this.collectionGroup=a,this.explicitOrderBy=h,this.filters=f,this.limit=g,this.limitType=_,this.startAt=w,this.endAt=D,this.p=null,this.T=null};function rp(c,a,h,f,g,_,w,D){return new Us(c,a,h,f,g,_,w,D)}function hl(c){return new Us(c)}function ac(c){return!no(c.limit)&&"F"===c.limitType}function wd(c){return!no(c.limit)&&"L"===c.limitType}function ip(c){return c.explicitOrderBy.length>0?c.explicitOrderBy[0].field:null}function Ai(c){for(var a=0,h=c.filters;a<h.length;a++){var f=h[a];if(f.g())return f.field}return null}function fs(c){return null!==c.collectionGroup}function rr(c){var a=Ue(c);if(null===a.p){a.p=[];var h=Ai(a),f=ip(a);if(null!==h&&null===f)h.isKeyField()||a.p.push(new ll(h)),a.p.push(new ll(da.keyField(),"asc"));else{for(var g=!1,_=0,w=a.explicitOrderBy;_<w.length;_++){var D=w[_];a.p.push(D),D.field.isKeyField()&&(g=!0)}if(!g){var A=a.explicitOrderBy.length>0?a.explicitOrderBy[a.explicitOrderBy.length-1].dir:"asc";a.p.push(new ll(da.keyField(),A))}}}return a.p}function ji(c){var a=Ue(c);if(!a.T)if("F"===a.limitType)a.T=_d(a.path,a.collectionGroup,rr(a),a.filters,a.limit,a.startAt,a.endAt);else{for(var h=[],f=0,g=rr(a);f<g.length;f++){var _=g[f];h.push(new ll(_.field,"desc"===_.dir?"asc":"desc"))}var D=a.endAt?new th(a.endAt.position,!a.endAt.before):null,A=a.startAt?new th(a.startAt.position,!a.startAt.before):null;a.T=_d(a.path,a.collectionGroup,h,a.filters,a.limit,D,A)}return a.T}function dv(c,a,h){return new Us(c.path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),a,h,c.startAt,c.endAt)}function Ed(c,a){return gi(ji(c),ji(a))&&c.limitType===a.limitType}function fv(c){return du(ji(c))+"|lt:"+c.limitType}function ih(c){return"Query(target="+(h=(a=ji(c)).path.canonicalString(),null!==a.collectionGroup&&(h+=" collectionGroup="+a.collectionGroup),a.filters.length>0&&(h+=", filters: ["+a.filters.map(function(f){return(g=f).field.canonicalString()+" "+g.op+" "+vd(g.value);var g}).join(", ")+"]"),no(a.limit)||(h+=", limit: "+a.limit),a.orderBy.length>0&&(h+=", orderBy: ["+a.orderBy.map(function(f){return(g=f).field.canonicalString()+" ("+g.dir+")";var g}).join(", ")+"]"),a.startAt&&(h+=", startAt: "+nh(a.startAt)),a.endAt&&(h+=", endAt: "+nh(a.endAt)),"Target("+h+"); limitType=")+c.limitType+")";var a,h}function uc(c,a){return a.isFoundDocument()&&(g=(f=a).key.path,null!==(h=c).collectionGroup?f.key.hasCollectionId(h.collectionGroup)&&h.path.isPrefixOf(g):pe.isDocumentKey(h.path)?h.path.isEqual(g):h.path.isImmediateParentOf(g))&&function(h,f){for(var g=0,_=h.explicitOrderBy;g<_.length;g++){var w=_[g];if(!w.field.isKeyField()&&null===f.data.field(w.field))return!1}return!0}(c,a)&&function(h,f){for(var g=0,_=h.filters;g<_.length;g++)if(!_[g].matches(f))return!1;return!0}(c,a)&&function(h,f){return!(h.startAt&&!rh(h.startAt,rr(h),f)||h.endAt&&rh(h.endAt,rr(h),f))}(c,a);var h,f,g}function oh(c){return function(a,h){for(var f=!1,g=0,_=rr(c);g<_.length;g++){var w=_[g],D=Cd(w,a,h);if(0!==D)return D;f=f||w.field.isKeyField()}return 0}}function Cd(c,a,h){var g,w,D,A,f=c.field.isKeyField()?pe.comparator(a.key,h.key):(w=h,D=a.data.field(g=c.field),A=w.data.field(g),null!==D&&null!==A?sc(D,A):ot());switch(c.dir){case"asc":return f;case"desc":return-1*f;default:return ot()}}function cc(c,a){if(c.I){if(isNaN(a))return{doubleValue:"NaN"};if(a===1/0)return{doubleValue:"Infinity"};if(a===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cl(a)?"-0":a}}function sh(c){return{integerValue:""+c}}function Dd(c,a){return Je(a)?sh(a):cc(c,a)}var Id=function(){this._=void 0};function za(c,a,h){return c instanceof To?(_={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(f=h).seconds,nanos:f.nanoseconds}}}},(g=a)&&(_.fields.__previous_value__=g),{mapValue:_}):c instanceof Hs?Td(c,a):c instanceof lc?ig(c,a):function(f,g){var _=op(f,g),w=sp(_)+sp(f.A);return Yt(_)&&Yt(f.A)?sh(w):cc(f.R,w)}(c,a);var f,g,_}function ah(c,a,h){return c instanceof Hs?Td(c,a):c instanceof lc?ig(c,a):h}function op(c,a){return c instanceof uh?Yt(h=a)||(f=h)&&"doubleValue"in f?a:{integerValue:0}:null;var f,h}var To=function(c){function a(){return null!==c&&c.apply(this,arguments)||this}return(0,S.ZT)(a,c),a}(Id),Hs=function(c){function a(h){var f=this;return(f=c.call(this)||this).elements=h,f}return(0,S.ZT)(a,c),a}(Id);function Td(c,a){for(var h=pu(a),f=function(w){h.some(function(D){return Ha(D,w)})||h.push(w)},g=0,_=c.elements;g<_.length;g++)f(_[g]);return{arrayValue:{values:h}}}var lc=function(c){function a(h){var f=this;return(f=c.call(this)||this).elements=h,f}return(0,S.ZT)(a,c),a}(Id);function ig(c,a){for(var h=pu(a),f=function(w){h=h.filter(function(D){return!Ha(D,w)})},g=0,_=c.elements;g<_.length;g++)f(_[g]);return{arrayValue:{values:h}}}var uh=function(c){function a(h,f){var g=this;return(g=c.call(this)||this).R=h,g.A=f,g}return(0,S.ZT)(a,c),a}(Id);function sp(c){return cr(c.integerValue||c.doubleValue)}function pu(c){return Bi(c)&&c.arrayValue.values?c.arrayValue.values.slice():[]}var mu=function(c,a){this.field=c,this.transform=a},hc=function(c,a){this.version=c,this.transformResults=a},Cr=function(){function c(a,h){this.updateTime=a,this.exists=h}return c.none=function(){return new c},c.exists=function(a){return new c(void 0,a)},c.updateTime=function(a){return new c(a)},Object.defineProperty(c.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),c.prototype.isEqual=function(a){return this.exists===a.exists&&(this.updateTime?!!a.updateTime&&this.updateTime.isEqual(a.updateTime):!a.updateTime)},c}();function fa(c,a){return void 0!==c.updateTime?a.isFoundDocument()&&a.version.isEqual(c.updateTime):void 0===c.exists||c.exists===a.isFoundDocument()}var dl=function(){};function ch(c,a,h){var f,g,_,w,D;c instanceof Sd?(g=a,_=h,w=(f=c).value.clone(),D=og(f.fieldTransforms,g,_.transformResults),w.setAll(D),g.convertToFoundDocument(_.version,w).setHasCommittedMutations()):c instanceof Gr?function(f,g,_){if(fa(f.precondition,g)){var w=og(f.fieldTransforms,g,_.transformResults),D=g.data;D.setAll(gu(f)),D.setAll(w),g.convertToFoundDocument(_.version,D).setHasCommittedMutations()}else g.convertToUnknownDocument(_.version)}(c,a,h):function(f,g,_){g.convertToNoDocument(_.version).setHasCommittedMutations()}(0,a,h)}function pa(c,a,h){var g;c instanceof Sd?function(f,g,_){if(fa(f.precondition,g)){var w=f.value.clone(),D=fc(f.fieldTransforms,_,g);w.setAll(D),g.convertToFoundDocument(ma(g),w).setHasLocalMutations()}}(c,a,h):c instanceof Gr?function(f,g,_){if(fa(f.precondition,g)){var w=fc(f.fieldTransforms,_,g),D=g.data;D.setAll(gu(f)),D.setAll(w),g.convertToFoundDocument(ma(g),D).setHasLocalMutations()}}(c,a,h):fa(c.precondition,g=a)&&g.convertToNoDocument(Ot.min())}function dc(c,a){for(var h=null,f=0,g=c.fieldTransforms;f<g.length;f++){var _=g[f],w=a.data.field(_.field),D=op(_.transform,w||null);null!=D&&(null==h&&(h=mi.empty()),h.set(_.field,D))}return h||null}function ap(c,a){return c.type===a.type&&!!c.key.isEqual(a.key)&&!!c.precondition.isEqual(a.precondition)&&(f=a.fieldTransforms,!!(void 0===(h=c.fieldTransforms)&&void 0===f||h&&f&&hu(h,f,function(g,_){return(w=g).field.isEqual((D=_).field)&&(N=D.transform,(A=w.transform)instanceof Hs&&N instanceof Hs||A instanceof lc&&N instanceof lc?hu(A.elements,N.elements,Ha):A instanceof uh&&N instanceof uh?Ha(A.A,N.A):A instanceof To&&N instanceof To);var w,D,A,N})))&&(0===c.type?c.value.isEqual(a.value):1!==c.type||c.data.isEqual(a.data)&&c.fieldMask.isEqual(a.fieldMask));var h,f}function ma(c){return c.isFoundDocument()?c.version:Ot.min()}var Sd=function(c){function a(h,f,g,_){void 0===_&&(_=[]);var w=this;return(w=c.call(this)||this).key=h,w.value=f,w.precondition=g,w.fieldTransforms=_,w.type=0,w}return(0,S.ZT)(a,c),a}(dl),Gr=function(c){function a(h,f,g,_,w){void 0===w&&(w=[]);var D=this;return(D=c.call(this)||this).key=h,D.data=f,D.fieldMask=g,D.precondition=_,D.fieldTransforms=w,D.type=1,D}return(0,S.ZT)(a,c),a}(dl);function gu(c){var a=new Map;return c.fieldMask.fields.forEach(function(h){if(!h.isEmpty()){var f=c.data.field(h);a.set(h,f)}}),a}function og(c,a,h){var f=new Map;mt(c.length===h.length);for(var g=0;g<h.length;g++){var _=c[g],w=_.transform,D=a.data.field(_.field);f.set(_.field,ah(w,D,h[g]))}return f}function fc(c,a,h){for(var f=new Map,g=0,_=c;g<_.length;g++){var w=_[g],D=w.transform,A=h.data.field(w.field);f.set(w.field,za(D,A,a))}return f}var _r,jt,pc=function(c){function a(h,f){var g=this;return(g=c.call(this)||this).key=h,g.precondition=f,g.type=2,g.fieldTransforms=[],g}return(0,S.ZT)(a,c),a}(dl),ga=function(c){function a(h,f){var g=this;return(g=c.call(this)||this).key=h,g.precondition=f,g.type=3,g.fieldTransforms=[],g}return(0,S.ZT)(a,c),a}(dl),Ad=function(c){this.count=c};function yu(c){switch(c){case oe.OK:return ot();case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return ot()}}function sg(c){if(void 0===c)return zr("GRPC error has no .code"),oe.UNKNOWN;switch(c){case _r.OK:return oe.OK;case _r.CANCELLED:return oe.CANCELLED;case _r.UNKNOWN:return oe.UNKNOWN;case _r.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case _r.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case _r.INTERNAL:return oe.INTERNAL;case _r.UNAVAILABLE:return oe.UNAVAILABLE;case _r.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case _r.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case _r.NOT_FOUND:return oe.NOT_FOUND;case _r.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case _r.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case _r.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case _r.ABORTED:return oe.ABORTED;case _r.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case _r.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case _r.DATA_LOSS:return oe.DATA_LOSS;default:return ot()}}(jt=_r||(_r={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";var Qn=function(){function c(a,h){this.comparator=a,this.root=h||ya.EMPTY}return c.prototype.insert=function(a,h){return new c(this.comparator,this.root.insert(a,h,this.comparator).copy(null,null,ya.BLACK,null,null))},c.prototype.remove=function(a){return new c(this.comparator,this.root.remove(a,this.comparator).copy(null,null,ya.BLACK,null,null))},c.prototype.get=function(a){for(var h=this.root;!h.isEmpty();){var f=this.comparator(a,h.key);if(0===f)return h.value;f<0?h=h.left:f>0&&(h=h.right)}return null},c.prototype.indexOf=function(a){for(var h=0,f=this.root;!f.isEmpty();){var g=this.comparator(a,f.key);if(0===g)return h+f.left.size;g<0?f=f.left:(h+=f.left.size+1,f=f.right)}return-1},c.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(c.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),c.prototype.minKey=function(){return this.root.minKey()},c.prototype.maxKey=function(){return this.root.maxKey()},c.prototype.inorderTraversal=function(a){return this.root.inorderTraversal(a)},c.prototype.forEach=function(a){this.inorderTraversal(function(h,f){return a(h,f),!1})},c.prototype.toString=function(){var a=[];return this.inorderTraversal(function(h,f){return a.push(h+":"+f),!1}),"{"+a.join(", ")+"}"},c.prototype.reverseTraversal=function(a){return this.root.reverseTraversal(a)},c.prototype.getIterator=function(){return new lh(this.root,null,this.comparator,!1)},c.prototype.getIteratorFrom=function(a){return new lh(this.root,a,this.comparator,!1)},c.prototype.getReverseIterator=function(){return new lh(this.root,null,this.comparator,!0)},c.prototype.getReverseIteratorFrom=function(a){return new lh(this.root,a,this.comparator,!0)},c}(),lh=function(){function c(a,h,f,g){this.isReverse=g,this.nodeStack=[];for(var _=1;!a.isEmpty();)if(_=h?f(a.key,h):1,g&&(_*=-1),_<0)a=this.isReverse?a.left:a.right;else{if(0===_){this.nodeStack.push(a);break}this.nodeStack.push(a),a=this.isReverse?a.right:a.left}}return c.prototype.getNext=function(){var a=this.nodeStack.pop(),h={key:a.key,value:a.value};if(this.isReverse)for(a=a.left;!a.isEmpty();)this.nodeStack.push(a),a=a.right;else for(a=a.right;!a.isEmpty();)this.nodeStack.push(a),a=a.left;return h},c.prototype.hasNext=function(){return this.nodeStack.length>0},c.prototype.peek=function(){if(0===this.nodeStack.length)return null;var a=this.nodeStack[this.nodeStack.length-1];return{key:a.key,value:a.value}},c}(),ya=function(){function c(a,h,f,g,_){this.key=a,this.value=h,this.color=null!=f?f:c.RED,this.left=null!=g?g:c.EMPTY,this.right=null!=_?_:c.EMPTY,this.size=this.left.size+1+this.right.size}return c.prototype.copy=function(a,h,f,g,_){return new c(null!=a?a:this.key,null!=h?h:this.value,null!=f?f:this.color,null!=g?g:this.left,null!=_?_:this.right)},c.prototype.isEmpty=function(){return!1},c.prototype.inorderTraversal=function(a){return this.left.inorderTraversal(a)||a(this.key,this.value)||this.right.inorderTraversal(a)},c.prototype.reverseTraversal=function(a){return this.right.reverseTraversal(a)||a(this.key,this.value)||this.left.reverseTraversal(a)},c.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},c.prototype.minKey=function(){return this.min().key},c.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},c.prototype.insert=function(a,h,f){var g=this,_=f(a,g.key);return(g=_<0?g.copy(null,null,null,g.left.insert(a,h,f),null):0===_?g.copy(null,h,null,null,null):g.copy(null,null,null,null,g.right.insert(a,h,f))).fixUp()},c.prototype.removeMin=function(){if(this.left.isEmpty())return c.EMPTY;var a=this;return a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),(a=a.copy(null,null,null,a.left.removeMin(),null)).fixUp()},c.prototype.remove=function(a,h){var f,g=this;if(h(a,g.key)<0)g.left.isEmpty()||g.left.isRed()||g.left.left.isRed()||(g=g.moveRedLeft()),g=g.copy(null,null,null,g.left.remove(a,h),null);else{if(g.left.isRed()&&(g=g.rotateRight()),g.right.isEmpty()||g.right.isRed()||g.right.left.isRed()||(g=g.moveRedRight()),0===h(a,g.key)){if(g.right.isEmpty())return c.EMPTY;f=g.right.min(),g=g.copy(f.key,f.value,null,null,g.right.removeMin())}g=g.copy(null,null,null,null,g.right.remove(a,h))}return g.fixUp()},c.prototype.isRed=function(){return this.color},c.prototype.fixUp=function(){var a=this;return a.right.isRed()&&!a.left.isRed()&&(a=a.rotateLeft()),a.left.isRed()&&a.left.left.isRed()&&(a=a.rotateRight()),a.left.isRed()&&a.right.isRed()&&(a=a.colorFlip()),a},c.prototype.moveRedLeft=function(){var a=this.colorFlip();return a.right.left.isRed()&&(a=(a=(a=a.copy(null,null,null,null,a.right.rotateRight())).rotateLeft()).colorFlip()),a},c.prototype.moveRedRight=function(){var a=this.colorFlip();return a.left.left.isRed()&&(a=(a=a.rotateRight()).colorFlip()),a},c.prototype.rotateLeft=function(){var a=this.copy(null,null,c.RED,null,this.right.left);return this.right.copy(null,null,this.color,a,null)},c.prototype.rotateRight=function(){var a=this.copy(null,null,c.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,a)},c.prototype.colorFlip=function(){var a=this.left.copy(null,null,!this.left.color,null,null),h=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,a,h)},c.prototype.checkMaxDepth=function(){var a=this.check();return Math.pow(2,a)<=this.size+1},c.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ot();var a=this.left.check();if(a!==this.right.check())throw ot();return a+(this.isRed()?0:1)},c}();ya.EMPTY=null,ya.RED=!0,ya.BLACK=!1,ya.EMPTY=new(function(){function c(){this.size=0}return Object.defineProperty(c.prototype,"key",{get:function(){throw ot()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"value",{get:function(){throw ot()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"color",{get:function(){throw ot()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"left",{get:function(){throw ot()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"right",{get:function(){throw ot()},enumerable:!1,configurable:!0}),c.prototype.copy=function(a,h,f,g,_){return this},c.prototype.insert=function(a,h,f){return new ya(a,h)},c.prototype.remove=function(a,h){return this},c.prototype.isEmpty=function(){return!0},c.prototype.inorderTraversal=function(a){return!1},c.prototype.reverseTraversal=function(a){return!1},c.prototype.minKey=function(){return null},c.prototype.maxKey=function(){return null},c.prototype.isRed=function(){return!1},c.prototype.checkMaxDepth=function(){return!0},c.prototype.check=function(){return 0},c}());var lr=function(){function c(a){this.comparator=a,this.data=new Qn(this.comparator)}return c.prototype.has=function(a){return null!==this.data.get(a)},c.prototype.first=function(){return this.data.minKey()},c.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(c.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),c.prototype.indexOf=function(a){return this.data.indexOf(a)},c.prototype.forEach=function(a){this.data.inorderTraversal(function(h,f){return a(h),!1})},c.prototype.forEachInRange=function(a,h){for(var f=this.data.getIteratorFrom(a[0]);f.hasNext();){var g=f.getNext();if(this.comparator(g.key,a[1])>=0)return;h(g.key)}},c.prototype.forEachWhile=function(a,h){var f;for(f=void 0!==h?this.data.getIteratorFrom(h):this.data.getIterator();f.hasNext();)if(!a(f.getNext().key))return},c.prototype.firstAfterOrEqual=function(a){var h=this.data.getIteratorFrom(a);return h.hasNext()?h.getNext().key:null},c.prototype.getIterator=function(){return new pv(this.data.getIterator())},c.prototype.getIteratorFrom=function(a){return new pv(this.data.getIteratorFrom(a))},c.prototype.add=function(a){return this.copy(this.data.remove(a).insert(a,!0))},c.prototype.delete=function(a){return this.has(a)?this.copy(this.data.remove(a)):this},c.prototype.isEmpty=function(){return this.data.isEmpty()},c.prototype.unionWith=function(a){var h=this;return h.size<a.size&&(h=a,a=this),a.forEach(function(f){h=h.add(f)}),h},c.prototype.isEqual=function(a){if(!(a instanceof c)||this.size!==a.size)return!1;for(var h=this.data.getIterator(),f=a.data.getIterator();h.hasNext();){var g=h.getNext().key,_=f.getNext().key;if(0!==this.comparator(g,_))return!1}return!0},c.prototype.toArray=function(){var a=[];return this.forEach(function(h){a.push(h)}),a},c.prototype.toString=function(){var a=[];return this.forEach(function(h){return a.push(h)}),"SortedSet("+a.toString()+")"},c.prototype.copy=function(a){var h=new c(this.comparator);return h.data=a,h},c}(),pv=function(){function c(a){this.iter=a}return c.prototype.getNext=function(){return this.iter.getNext().key},c.prototype.hasNext=function(){return this.iter.hasNext()},c}(),mc=new Qn(pe.comparator);function Dr(){return mc}var mv=new Qn(pe.comparator);function hh(){return mv}var up=new Qn(pe.comparator);function Ui(){return up}var cp=new lr(pe.comparator);function Sn(){for(var c=[],a=0;a<arguments.length;a++)c[a]=arguments[a];for(var h=cp,f=0,g=c;f<g.length;f++){var _=g[f];h=h.add(_)}return h}var gc=new lr(st);function vu(){return gc}var Ga=function(){function c(a,h,f,g,_){this.snapshotVersion=a,this.targetChanges=h,this.targetMismatches=f,this.documentUpdates=g,this.resolvedLimboDocuments=_}return c.createSynthesizedRemoteEventForCurrentChange=function(a,h){var f=new Map;return f.set(a,qs.createSynthesizedTargetChangeForCurrentChange(a,h)),new c(Ot.min(),f,vu(),Dr(),Sn())},c}(),qs=function(){function c(a,h,f,g,_){this.resumeToken=a,this.current=h,this.addedDocuments=f,this.modifiedDocuments=g,this.removedDocuments=_}return c.createSynthesizedTargetChangeForCurrentChange=function(a,h){return new c(Wn.EMPTY_BYTE_STRING,h,Sn(),Sn(),Sn())},c}(),yc=function(c,a,h,f){this.v=c,this.removedTargetIds=a,this.key=h,this.P=f},vc=function(c,a){this.targetId=c,this.V=a},_c=function(c,a,h,f){void 0===h&&(h=Wn.EMPTY_BYTE_STRING),void 0===f&&(f=null),this.state=c,this.targetIds=a,this.resumeToken=h,this.cause=f},ag=function(){function c(){this.S=0,this.D=xd(),this.C=Wn.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(c.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),c.prototype.O=function(a){a.approximateByteSize()>0&&(this.k=!0,this.C=a)},c.prototype.M=function(){var a=Sn(),h=Sn(),f=Sn();return this.D.forEach(function(g,_){switch(_){case 0:a=a.add(g);break;case 2:h=h.add(g);break;case 1:f=f.add(g);break;default:ot()}}),new qs(this.C,this.N,a,h,f)},c.prototype.L=function(){this.k=!1,this.D=xd()},c.prototype.B=function(a,h){this.k=!0,this.D=this.D.insert(a,h)},c.prototype.q=function(a){this.k=!0,this.D=this.D.remove(a)},c.prototype.U=function(){this.S+=1},c.prototype.K=function(){this.S-=1},c.prototype.j=function(){this.k=!0,this.N=!0},c}(),lp=function(){function c(a){this.W=a,this.G=new Map,this.H=Dr(),this.J=Qe(),this.Y=new lr(st)}return c.prototype.X=function(a){for(var h=0,f=a.v;h<f.length;h++){var g=f[h];a.P&&a.P.isFoundDocument()?this.Z(g,a.P):this.tt(g,a.key,a.P)}for(var _=0,w=a.removedTargetIds;_<w.length;_++)this.tt(g=w[_],a.key,a.P)},c.prototype.et=function(a){var h=this;this.forEachTarget(a,function(f){var g=h.nt(f);switch(a.state){case 0:h.st(f)&&g.O(a.resumeToken);break;case 1:g.K(),g.F||g.L(),g.O(a.resumeToken);break;case 2:g.K(),g.F||h.removeTarget(f);break;case 3:h.st(f)&&(g.j(),g.O(a.resumeToken));break;case 4:h.st(f)&&(h.it(f),g.O(a.resumeToken));break;default:ot()}})},c.prototype.forEachTarget=function(a,h){var f=this;a.targetIds.length>0?a.targetIds.forEach(h):this.G.forEach(function(g,_){f.st(_)&&h(_)})},c.prototype.rt=function(a){var h=a.targetId,f=a.V.count,g=this.ot(h);if(g){var _=g.target;if(js(_))if(0===f){var w=new pe(_.path);this.tt(h,w,ro.newNoDocument(w,Ot.min()))}else mt(1===f);else this.ct(h)!==f&&(this.it(h),this.Y=this.Y.add(h))}},c.prototype.ut=function(a){var h=this,f=new Map;this.G.forEach(function(w,D){var A=h.ot(D);if(A){if(w.current&&js(A.target)){var N=new pe(A.target.path);null!==h.H.get(N)||h.at(D,N)||h.tt(D,N,ro.newNoDocument(N,a))}w.$&&(f.set(D,w.M()),w.L())}});var g=Sn();this.J.forEach(function(w,D){var A=!0;D.forEachWhile(function(N){var F=h.ot(N);return!F||2===F.purpose||(A=!1,!1)}),A&&(g=g.add(w))});var _=new Ga(a,f,this.Y,this.H,g);return this.H=Dr(),this.J=Qe(),this.Y=new lr(st),_},c.prototype.Z=function(a,h){if(this.st(a)){var f=this.at(a,h.key)?2:0;this.nt(a).B(h.key,f),this.H=this.H.insert(h.key,h),this.J=this.J.insert(h.key,this.ht(h.key).add(a))}},c.prototype.tt=function(a,h,f){if(this.st(a)){var g=this.nt(a);this.at(a,h)?g.B(h,1):g.q(h),this.J=this.J.insert(h,this.ht(h).delete(a)),f&&(this.H=this.H.insert(h,f))}},c.prototype.removeTarget=function(a){this.G.delete(a)},c.prototype.ct=function(a){var h=this.nt(a).M();return this.W.getRemoteKeysForTarget(a).size+h.addedDocuments.size-h.removedDocuments.size},c.prototype.U=function(a){this.nt(a).U()},c.prototype.nt=function(a){var h=this.G.get(a);return h||(h=new ag,this.G.set(a,h)),h},c.prototype.ht=function(a){var h=this.J.get(a);return h||(h=new lr(st),this.J=this.J.insert(a,h)),h},c.prototype.st=function(a){var h=null!==this.ot(a);return h||Se("WatchChangeAggregator","Detected inactive target",a),h},c.prototype.ot=function(a){var h=this.G.get(a);return h&&h.F?null:this.W.lt(a)},c.prototype.it=function(a){var h=this;this.G.set(a,new ag),this.W.getRemoteKeysForTarget(a).forEach(function(f){h.tt(a,f,null)})},c.prototype.at=function(a,h){return this.W.getRemoteKeysForTarget(a).has(h)},c}();function Qe(){return new Qn(pe.comparator)}function xd(){return new Qn(pe.comparator)}var Lb={asc:"ASCENDING",desc:"DESCENDING"},gv={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yv=function(c,a){this.databaseId=c,this.I=a};function hp(c,a){return c.I?new Date(1e3*a.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+a.nanoseconds).slice(-9)+"Z":{seconds:""+a.seconds,nanos:a.nanoseconds}}function ug(c,a){return c.I?a.toBase64():a.toUint8Array()}function dp(c,a){return hp(c,a.toTimestamp())}function xr(c){return mt(!!c),Ot.fromTimestamp((h=zo(c),new Li(h.seconds,h.nanos)));var h}function fp(c,a){return(h=c,new ht(["projects",h.projectId,"databases",h.database])).child("documents").child(a).canonicalString();var h}function ri(c){var a=ht.fromString(c);return mt(hg(a)),a}function fl(c,a){return fp(c.databaseId,a.path)}function So(c,a){var h=ri(a);if(h.get(1)!==c.databaseId.projectId)throw new ge(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+h.get(1)+" vs "+c.databaseId.projectId);if(h.get(3)!==c.databaseId.database)throw new ge(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+h.get(3)+" vs "+c.databaseId.database);return new pe(Nr(h))}function pp(c,a){return fp(c.databaseId,a)}function Md(c){var a=ri(c);return 4===a.length?ht.emptyPath():Nr(a)}function xi(c){return new ht(["projects",c.databaseId.projectId,"databases",c.databaseId.database]).canonicalString()}function Nr(c){return mt(c.length>4&&"documents"===c.get(4)),c.popFirst(5)}function dh(c,a,h){return{name:fl(c,a),fields:h.value.mapValue.fields}}function bc(c,a,h){var f=So(c,a.name),g=xr(a.updateTime),_=new mi({mapValue:{fields:a.fields}}),w=ro.newFoundDocument(f,g,_);return h&&w.setHasCommittedMutations(),h?w.setHasCommittedMutations():w}function $a(c,a){var h,g;if(a instanceof Sd)h={update:dh(c,a.key,a.value)};else if(a instanceof pc)h={delete:fl(c,a.key)};else if(a instanceof Gr)h={update:dh(c,a.key,a.data),updateMask:gp(a.fieldMask)};else{if(!(a instanceof ga))return ot();h={verify:fl(c,a.key)}}return a.fieldTransforms.length>0&&(h.updateTransforms=a.fieldTransforms.map(function(f){return function(g,_){var w=_.transform;if(w instanceof To)return{fieldPath:_.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(w instanceof Hs)return{fieldPath:_.field.canonicalString(),appendMissingElements:{values:w.elements}};if(w instanceof lc)return{fieldPath:_.field.canonicalString(),removeAllFromArray:{values:w.elements}};if(w instanceof uh)return{fieldPath:_.field.canonicalString(),increment:w.A};throw ot()}(0,f)})),a.precondition.isNone||(h.currentDocument=void 0!==(g=a.precondition).updateTime?{updateTime:dp(c,g.updateTime)}:void 0!==g.exists?{exists:g.exists}:ot()),h}function mp(c,a){var N,h=a.currentDocument?void 0!==(N=a.currentDocument).updateTime?Cr.updateTime(xr(N.updateTime)):void 0!==N.exists?Cr.exists(N.exists):Cr.none():Cr.none(),f=a.updateTransforms?a.updateTransforms.map(function(N){return function(F,j){var z=null;"setToServerValue"in j?(mt("REQUEST_TIME"===j.setToServerValue),z=new To):"appendMissingElements"in j?z=new Hs(j.appendMissingElements.values||[]):"removeAllFromArray"in j?z=new lc(j.removeAllFromArray.values||[]):"increment"in j?z=new uh(F,j.increment):ot();var ie=da.fromServerFormat(j.fieldPath);return new mu(ie,z)}(c,N)}):[];if(a.update){var g=So(c,a.update.name),_=new mi({mapValue:{fields:a.update.fields}});if(a.updateMask){var w=function(N){return new to((N.fieldPaths||[]).map(function(j){return da.fromServerFormat(j)}))}(a.updateMask);return new Gr(g,_,w,h,f)}return new Sd(g,_,h,f)}if(a.delete){var D=So(c,a.delete);return new pc(D,h)}if(a.verify){var A=So(c,a.verify);return new ga(A,h)}return ot()}function fh(c,a){return{documents:[pp(c,a.path)]}}function ph(c,a){var h={structuredQuery:{}},f=a.path;null!==a.collectionGroup?(h.parent=pp(c,f),h.structuredQuery.from=[{collectionId:a.collectionGroup,allDescendants:!0}]):(h.parent=pp(c,f.popLast()),h.structuredQuery.from=[{collectionId:f.lastSegment()}]);var g=function(D){if(0!==D.length){var A=D.map(function(N){return function(F){if("=="===F.op){if(tg(F.value))return{unaryFilter:{field:Rd(F.field),op:"IS_NAN"}};if(Er(F.value))return{unaryFilter:{field:Rd(F.field),op:"IS_NULL"}}}else if("!="===F.op){if(tg(F.value))return{unaryFilter:{field:Rd(F.field),op:"IS_NOT_NAN"}};if(Er(F.value))return{unaryFilter:{field:Rd(F.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rd(F.field),op:mh(F.op),value:F.value}}}(N)});return 1===A.length?A[0]:{compositeFilter:{op:"AND",filters:A}}}}(a.filters);g&&(h.structuredQuery.where=g);var _=function(D){if(0!==D.length)return D.map(function(A){return{field:Rd((N=A).field),direction:lg(N.dir)};var N})}(a.orderBy);_&&(h.structuredQuery.orderBy=_);var A,w=(A=a.limit,c.I||no(A)?A:{value:A});return null!==w&&(h.structuredQuery.limit=w),a.startAt&&(h.structuredQuery.startAt=cg(a.startAt)),a.endAt&&(h.structuredQuery.endAt=cg(a.endAt)),h}function kd(c){var a=Md(c.parent),h=c.structuredQuery,f=h.from?h.from.length:0,g=null;if(f>0){mt(1===f);var _=h.from[0];_.allDescendants?g=_.collectionId:a=a.child(_.collectionId)}var w=[];h.where&&(w=vv(h.where));var D=[];h.orderBy&&(D=h.orderBy.map(function(j){return new ll(wc((z=j).field),function(ee){switch(ee){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(z.direction));var z}));var j,z,A=null;h.limit&&(A=no(z="object"==typeof(j=h.limit)?j.value:j)?null:z);var N=null;h.startAt&&(N=Go(h.startAt));var F=null;return h.endAt&&(F=Go(h.endAt)),rp(a,g,D,w,A,"F",N,F)}function vv(c){return c?void 0!==c.unaryFilter?[bv(c)]:void 0!==c.fieldFilter?[_v(c)]:void 0!==c.compositeFilter?c.compositeFilter.filters.map(function(a){return vv(a)}).reduce(function(a,h){return a.concat(h)}):ot():[]}function cg(c){return{before:c.before,values:c.position}}function Go(c){return new th(c.values||[],!!c.before)}function lg(c){return Lb[c]}function mh(c){return gv[c]}function Rd(c){return{fieldPath:c.canonicalString()}}function wc(c){return da.fromServerFormat(c.fieldPath)}function _v(c){return Io.create(wc(c.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ot()}}(c.fieldFilter.op),c.fieldFilter.value)}function bv(c){switch(c.unaryFilter.op){case"IS_NAN":var a=wc(c.unaryFilter.field);return Io.create(a,"==",{doubleValue:NaN});case"IS_NULL":var h=wc(c.unaryFilter.field);return Io.create(h,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var f=wc(c.unaryFilter.field);return Io.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var g=wc(c.unaryFilter.field);return Io.create(g,"!=",{nullValue:"NULL_VALUE"});default:return ot()}}function gp(c){var a=[];return c.fields.forEach(function(h){return a.push(h.canonicalString())}),{fieldPaths:a}}function hg(c){return c.length>=4&&"projects"===c.get(0)&&"databases"===c.get(2)}function Ao(c){for(var a="",h=0;h<c.length;h++)a.length>0&&(a=yp(a)),a=Od(c.get(h),a);return yp(a)}function Od(c,a){for(var h=a,f=c.length,g=0;g<f;g++){var _=c.charAt(g);switch(_){case"\0":h+="\x01\x10";break;case"\x01":h+="\x01\x11";break;default:h+=_}}return h}function yp(c){return c+"\x01\x01"}function ii(c){var a=c.length;if(mt(a>=2),2===a)return mt("\x01"===c.charAt(0)&&"\x01"===c.charAt(1)),ht.emptyPath();for(var h=a-2,f=[],g="",_=0;_<a;){var w=c.indexOf("\x01",_);switch((w<0||w>h)&&ot(),c.charAt(w+1)){case"\x01":var D=c.substring(_,w),A=void 0;0===g.length?A=D:(A=g+=D,g=""),f.push(A);break;case"\x10":g+=c.substring(_,w),g+="\0";break;case"\x11":g+=c.substring(_,w+1);break;default:ot()}_=w+2}return new ht(f)}var gh=function(c,a){this.seconds=c,this.nanoseconds=a},$r=function(c,a,h){this.ownerId=c,this.allowTabSynchronization=a,this.leaseTimestampMs=h};$r.store="owner",$r.key="owner";var ps=function(c,a,h){this.userId=c,this.lastAcknowledgedBatchId=a,this.lastStreamToken=h};ps.store="mutationQueues",ps.keyPath="userId";var Yn=function(c,a,h,f,g){this.userId=c,this.batchId=a,this.localWriteTimeMs=h,this.baseMutations=f,this.mutations=g};Yn.store="mutations",Yn.keyPath="batchId",Yn.userMutationsIndex="userMutationsIndex",Yn.userMutationsKeyPath=["userId","batchId"];var Mi=function(){function c(){}return c.prefixForUser=function(a){return[a]},c.prefixForPath=function(a,h){return[a,Ao(h)]},c.key=function(a,h,f){return[a,Ao(h),f]},c}();Mi.store="documentMutations",Mi.PLACEHOLDER=new Mi;var wv=function(c,a){this.path=c,this.readTime=a},Ev=function(c,a){this.path=c,this.version=a},hr=function(c,a,h,f,g,_){this.unknownDocument=c,this.noDocument=a,this.document=h,this.hasCommittedMutations=f,this.readTime=g,this.parentPath=_};hr.store="remoteDocuments",hr.readTimeIndex="readTimeIndex",hr.readTimeIndexPath="readTime",hr.collectionReadTimeIndex="collectionReadTimeIndex",hr.collectionReadTimeIndexPath=["parentPath","readTime"];var $o=function(c){this.byteSize=c};$o.store="remoteDocumentGlobal",$o.key="remoteDocumentGlobalKey";var yi=function(c,a,h,f,g,_,w){this.targetId=c,this.canonicalId=a,this.readTime=h,this.resumeToken=f,this.lastListenSequenceNumber=g,this.lastLimboFreeSnapshotVersion=_,this.query=w};yi.store="targets",yi.keyPath="targetId",yi.queryTargetsIndexName="queryTargetsIndex",yi.queryTargetsKeyPath=["canonicalId","targetId"];var Kr=function(c,a,h){this.targetId=c,this.path=a,this.sequenceNumber=h};Kr.store="targetDocuments",Kr.keyPath=["targetId","path"],Kr.documentTargetsIndex="documentTargetsIndex",Kr.documentTargetsKeyPath=["path","targetId"];var xo=function(c,a,h,f){this.highestTargetId=c,this.highestListenSequenceNumber=a,this.lastRemoteSnapshotVersion=h,this.targetCount=f};xo.key="targetGlobalKey",xo.store="targetGlobal";var ce=function(c,a){this.collectionId=c,this.parent=a};ce.store="collectionParents",ce.keyPath=["collectionId","parent"];var Ka=function(c,a,h,f){this.clientId=c,this.updateTimeMs=a,this.networkEnabled=h,this.inForeground=f};Ka.store="clientMetadata",Ka.keyPath="clientId";var va=function(c,a,h){this.bundleId=c,this.createTime=a,this.version=h};va.store="bundles",va.keyPath="bundleId";var Ec=function(c,a,h){this.name=c,this.readTime=a,this.bundledQuery=h};Ec.store="namedQueries",Ec.keyPath="name";var Nd=(0,S.ev)((0,S.ev)([],(0,S.ev)((0,S.ev)([],(0,S.ev)((0,S.ev)([],(0,S.ev)((0,S.ev)([],[ps.store,Yn.store,Mi.store,hr.store,yi.store,$r.store,xo.store,Kr.store]),[Ka.store])),[$o.store])),[ce.store])),[va.store,Ec.store]),vp="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Pd=function(){function c(){this.onCommittedListeners=[]}return c.prototype.addOnCommittedListener=function(a){this.onCommittedListeners.push(a)},c.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(a){return a()})},c}(),dr=function(){var c=this;this.promise=new Promise(function(a,h){c.resolve=a,c.reject=h})},Ee=function(){function c(a){var h=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,a(function(f){h.isDone=!0,h.result=f,h.nextCallback&&h.nextCallback(f)},function(f){h.isDone=!0,h.error=f,h.catchCallback&&h.catchCallback(f)})}return c.prototype.catch=function(a){return this.next(void 0,a)},c.prototype.next=function(a,h){var f=this;return this.callbackAttached&&ot(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(h,this.error):this.wrapSuccess(a,this.result):new c(function(g,_){f.nextCallback=function(w){f.wrapSuccess(a,w).next(g,_)},f.catchCallback=function(w){f.wrapFailure(h,w).next(g,_)}})},c.prototype.toPromise=function(){var a=this;return new Promise(function(h,f){a.next(h,f)})},c.prototype.wrapUserFunction=function(a){try{var h=a();return h instanceof c?h:c.resolve(h)}catch(f){return c.reject(f)}},c.prototype.wrapSuccess=function(a,h){return a?this.wrapUserFunction(function(){return a(h)}):c.resolve(h)},c.prototype.wrapFailure=function(a,h){return a?this.wrapUserFunction(function(){return a(h)}):c.reject(h)},c.resolve=function(a){return new c(function(h,f){h(a)})},c.reject=function(a){return new c(function(h,f){f(a)})},c.waitFor=function(a){return new c(function(h,f){var g=0,_=0,w=!1;a.forEach(function(D){++g,D.next(function(){++_,w&&_===g&&h()},function(A){return f(A)})}),w=!0,_===g&&h()})},c.or=function(a){for(var h=c.resolve(!1),f=function(w){h=h.next(function(D){return D?c.resolve(D):w()})},g=0,_=a;g<_.length;g++)f(_[g]);return h},c.forEach=function(a,h){var f=this,g=[];return a.forEach(function(_,w){g.push(h.call(f,_,w))}),this.waitFor(g)},c}(),Ir=function(){function c(a,h){var f=this;this.action=a,this.transaction=h,this.aborted=!1,this.ft=new dr,this.transaction.oncomplete=function(){f.ft.resolve()},this.transaction.onabort=function(){h.error?f.ft.reject(new Fd(a,h.error)):f.ft.resolve()},this.transaction.onerror=function(g){var _=bp(g.target.error);f.ft.reject(new Fd(a,_))}}return c.open=function(a,h,f,g){try{return new c(h,a.transaction(g,f))}catch(_){throw new Fd(h,_)}},Object.defineProperty(c.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),c.prototype.abort=function(a){a&&this.ft.reject(a),this.aborted||(Se("SimpleDb","Aborting transaction:",a?a.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},c.prototype.store=function(a){var h=this.transaction.objectStore(a);return new _p(h)},c}(),pl=function(){function c(a,h,f){this.name=a,this.version=h,this.wt=f,12.2===c._t((0,Ze.z$)())&&zr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return c.delete=function(a){return Se("SimpleDb","Removing database:",a),ms(window.indexedDB.deleteDatabase(a)).toPromise()},c.yt=function(){if("undefined"==typeof indexedDB)return!1;if(c.gt())return!0;var a=(0,Ze.z$)(),h=c._t(a),f=0<h&&h<10,g=c.Et(a),_=0<g&&g<4.5;return!(a.indexOf("MSIE ")>0||a.indexOf("Trident/")>0||a.indexOf("Edge/")>0||f||_)},c.gt=function(){var a;return"undefined"!=typeof process&&"YES"===(null===(a=process.env)||void 0===a?void 0:a.Tt)},c.It=function(a,h){return a.store(h)},c._t=function(a){var h=a.match(/i(?:phone|pad|pod) os ([\d_]+)/i),f=h?h[1].split("_").slice(0,2).join("."):"-1";return Number(f)},c.Et=function(a){var h=a.match(/Android ([\d.]+)/i),f=h?h[1].split(".").slice(0,2).join("."):"-1";return Number(f)},c.prototype.At=function(a){return(0,S.mG)(this,void 0,void 0,function(){var h,f=this;return(0,S.Jh)(this,function(g){switch(g.label){case 0:return this.db?[3,2]:(Se("SimpleDb","Opening database:",this.name),h=this,[4,new Promise(function(_,w){var D=indexedDB.open(f.name,f.version);D.onsuccess=function(A){_(A.target.result)},D.onblocked=function(){w(new Fd(a,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},D.onerror=function(A){var N=A.target.error;w("VersionError"===N.name?new ge(oe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Fd(a,N))},D.onupgradeneeded=function(A){Se("SimpleDb",'Database "'+f.name+'" requires upgrade from version:',A.oldVersion),f.wt.Rt(A.target.result,D.transaction,A.oldVersion,f.version).next(function(){Se("SimpleDb","Database upgrade to version "+f.version+" complete")})}})]);case 1:h.db=g.sent(),g.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(_){return f.bt(_)}),this.db)]}})})},c.prototype.vt=function(a){this.bt=a,this.db&&(this.db.onversionchange=function(h){return a(h)})},c.prototype.runTransaction=function(a,h,f,g){return(0,S.mG)(this,void 0,void 0,function(){var _,w,D,A,N;return(0,S.Jh)(this,function(F){switch(F.label){case 0:_="readonly"===h,w=0,D=function(){var j,z,ee,Z,ie;return(0,S.Jh)(this,function(xe){switch(xe.label){case 0:++w,xe.label=1;case 1:return xe.trys.push([1,4,,5]),[4,A.At(a)];case 2:return A.db=xe.sent(),j=Ir.open(A.db,a,_?"readonly":"readwrite",f),z=g(j).catch(function(Ve){return j.abort(Ve),Ee.reject(Ve)}).toPromise(),ee={},z.catch(function(){}),[4,j.dt];case 3:return[2,(ee.value=(xe.sent(),z),ee)];case 4:return Se("SimpleDb","Transaction failed with error:",(Z=xe.sent()).message,"Retrying:",ie="FirebaseError"!==Z.name&&w<3),A.close(),ie?[3,5]:[2,{value:Promise.reject(Z)}];case 5:return[2]}})},A=this,F.label=1;case 1:return[5,D()];case 2:if("object"==typeof(N=F.sent()))return[2,N.value];F.label=3;case 3:return[3,1];case 4:return[2]}})})},c.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},c}(),ml=function(){function c(a){this.Pt=a,this.Vt=!1,this.St=null}return Object.defineProperty(c.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"cursor",{set:function(a){this.Pt=a},enumerable:!1,configurable:!0}),c.prototype.done=function(){this.Vt=!0},c.prototype.Ct=function(a){this.St=a},c.prototype.delete=function(){return ms(this.Pt.delete())},c}(),Fd=function(c){function a(h,f){var g=this;return(g=c.call(this,oe.UNAVAILABLE,"IndexedDB transaction '"+h+"' failed: "+f)||this).name="IndexedDbTransactionError",g}return(0,S.ZT)(a,c),a}(ge);function Cc(c){return"IndexedDbTransactionError"===c.name}var _p=function(){function c(a){this.store=a}return c.prototype.put=function(a,h){var f;return void 0!==h?(Se("SimpleDb","PUT",this.store.name,a,h),f=this.store.put(h,a)):(Se("SimpleDb","PUT",this.store.name,"<auto-key>",a),f=this.store.put(a)),ms(f)},c.prototype.add=function(a){return Se("SimpleDb","ADD",this.store.name,a,a),ms(this.store.add(a))},c.prototype.get=function(a){var h=this;return ms(this.store.get(a)).next(function(f){return void 0===f&&(f=null),Se("SimpleDb","GET",h.store.name,a,f),f})},c.prototype.delete=function(a){return Se("SimpleDb","DELETE",this.store.name,a),ms(this.store.delete(a))},c.prototype.count=function(){return Se("SimpleDb","COUNT",this.store.name),ms(this.store.count())},c.prototype.Nt=function(a,h){var f=this.cursor(this.options(a,h)),g=[];return this.xt(f,function(_,w){g.push(w)}).next(function(){return g})},c.prototype.kt=function(a,h){Se("SimpleDb","DELETE ALL",this.store.name);var f=this.options(a,h);f.Ft=!1;var g=this.cursor(f);return this.xt(g,function(_,w,D){return D.delete()})},c.prototype.$t=function(a,h){var f;h?f=a:(f={},h=a);var g=this.cursor(f);return this.xt(g,h)},c.prototype.Ot=function(a){var h=this.cursor({});return new Ee(function(f,g){h.onerror=function(_){var w=bp(_.target.error);g(w)},h.onsuccess=function(_){var w=_.target.result;w?a(w.primaryKey,w.value).next(function(D){D?w.continue():f()}):f()}})},c.prototype.xt=function(a,h){var f=[];return new Ee(function(g,_){a.onerror=function(w){_(w.target.error)},a.onsuccess=function(w){var D=w.target.result;if(D){var A=new ml(D),N=h(D.primaryKey,D.value,A);if(N instanceof Ee){var F=N.catch(function(j){return A.done(),Ee.reject(j)});f.push(F)}A.isDone?g():null===A.Dt?D.continue():D.continue(A.Dt)}else g()}}).next(function(){return Ee.waitFor(f)})},c.prototype.options=function(a,h){var f;return void 0!==a&&("string"==typeof a?f=a:h=a),{index:f,range:h}},c.prototype.cursor=function(a){var h="next";if(a.reverse&&(h="prev"),a.index){var f=this.store.index(a.index);return a.Ft?f.openKeyCursor(a.range,h):f.openCursor(a.range,h)}return this.store.openCursor(a.range,h)},c}();function ms(c){return new Ee(function(a,h){c.onsuccess=function(f){a(f.target.result)},c.onerror=function(f){var g=bp(f.target.error);h(g)}})}var Ld=!1;function bp(c){var a=pl._t((0,Ze.z$)());if(a>=12.2&&a<13){var h="An internal error was encountered in the Indexed Database server";if(c.message.indexOf(h)>=0){var f=new ge("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+h+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Ld||(Ld=!0,setTimeout(function(){throw f},0)),f}}return c}var dg=function(c){function a(h,f){var g=this;return(g=c.call(this)||this).Mt=h,g.currentSequenceNumber=f,g}return(0,S.ZT)(a,c),a}(Pd);function vi(c,a){var h=Ue(c);return pl.It(h.Mt,a)}var Dc=function(){function c(a,h,f,g){this.batchId=a,this.localWriteTime=h,this.baseMutations=f,this.mutations=g}return c.prototype.applyToRemoteDocument=function(a,h){for(var f=h.mutationResults,g=0;g<this.mutations.length;g++){var _=this.mutations[g];_.key.isEqual(a.key)&&ch(_,a,f[g])}},c.prototype.applyToLocalView=function(a){for(var h=0,f=this.baseMutations;h<f.length;h++)(w=f[h]).key.isEqual(a.key)&&pa(w,a,this.localWriteTime);for(var g=0,_=this.mutations;g<_.length;g++){var w;(w=_[g]).key.isEqual(a.key)&&pa(w,a,this.localWriteTime)}},c.prototype.applyToLocalDocumentSet=function(a){var h=this;this.mutations.forEach(function(f){var g=a.get(f.key),_=g;h.applyToLocalView(_),g.isValidDocument()||_.convertToNoDocument(Ot.min())})},c.prototype.keys=function(){return this.mutations.reduce(function(a,h){return a.add(h.key)},Sn())},c.prototype.isEqual=function(a){return this.batchId===a.batchId&&hu(this.mutations,a.mutations,function(h,f){return ap(h,f)})&&hu(this.baseMutations,a.baseMutations,function(h,f){return ap(h,f)})},c}(),Bb=function(){function c(a,h,f,g){this.batch=a,this.commitVersion=h,this.mutationResults=f,this.docVersions=g}return c.from=function(a,h,f){mt(a.mutations.length===f.length);for(var g=Ui(),_=a.mutations,w=0;w<_.length;w++)g=g.insert(_[w].key,f[w].version);return new c(a,h,f,g)},c}(),fg=function(){function c(a,h,f,g,_,w,D){void 0===_&&(_=Ot.min()),void 0===w&&(w=Ot.min()),void 0===D&&(D=Wn.EMPTY_BYTE_STRING),this.target=a,this.targetId=h,this.purpose=f,this.sequenceNumber=g,this.snapshotVersion=_,this.lastLimboFreeSnapshotVersion=w,this.resumeToken=D}return c.prototype.withSequenceNumber=function(a){return new c(this.target,this.targetId,this.purpose,a,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},c.prototype.withResumeToken=function(a,h){return new c(this.target,this.targetId,this.purpose,this.sequenceNumber,h,this.lastLimboFreeSnapshotVersion,a)},c.prototype.withLastLimboFreeSnapshotVersion=function(a){return new c(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,a,this.resumeToken)},c}(),wp=function(c){this.Lt=c};function _u(c,a){if(a.document)return bc(c.Lt,a.document,!!a.hasCommittedMutations);if(a.noDocument){var h=pe.fromSegments(a.noDocument.path),f=_a(a.noDocument.readTime),g=ro.newNoDocument(h,f);return a.hasCommittedMutations?g.setHasCommittedMutations():g}if(a.unknownDocument){var _=pe.fromSegments(a.unknownDocument.path);return f=_a(a.unknownDocument.version),ro.newUnknownDocument(_,f)}return ot()}function Cv(c,a,h){var j,z,f=pg(h),g=a.key.path.popLast().toArray();if(a.isFoundDocument()){var _={name:fl(j=c.Lt,(z=a).key),fields:z.data.value.mapValue.fields,updateTime:hp(j,z.version.toTimestamp())},w=a.hasCommittedMutations;return new hr(null,null,_,w,f,g)}if(a.isNoDocument()){var D=a.key.path.toArray(),A=_i(a.version);return w=a.hasCommittedMutations,new hr(null,new wv(D,A),null,w,f,g)}if(a.isUnknownDocument()){var N=a.key.path.toArray(),F=_i(a.version);return new hr(new Ev(N,F),null,null,!0,f,g)}return ot()}function pg(c){var a=c.toTimestamp();return[a.seconds,a.nanoseconds]}function Dv(c){var a=new Li(c[0],c[1]);return Ot.fromTimestamp(a)}function _i(c){var a=c.toTimestamp();return new gh(a.seconds,a.nanoseconds)}function _a(c){var a=new Li(c.seconds,c.nanoseconds);return Ot.fromTimestamp(a)}function Ic(c,a){for(var h=(a.baseMutations||[]).map(function(A){return mp(c.Lt,A)}),f=0;f<a.mutations.length-1;++f)f+1<a.mutations.length&&void 0!==a.mutations[f+1].transform&&(a.mutations[f].updateTransforms=a.mutations[f+1].transform.fieldTransforms,a.mutations.splice(f+1,1),++f);var w=a.mutations.map(function(A){return mp(c.Lt,A)}),D=Li.fromMillis(a.localWriteTimeMs);return new Dc(a.batchId,D,h,w)}function Wa(c){var a,h,f=_a(c.readTime),g=void 0!==c.lastLimboFreeSnapshotVersion?_a(c.lastLimboFreeSnapshotVersion):Ot.min();return void 0!==c.query.documents?(mt(1===(h=c.query).documents.length),a=ji(hl(Md(h.documents[0])))):a=ji(kd(c.query)),new fg(a,c.targetId,0,c.lastListenSequenceNumber,f,g,Wn.fromBase64String(c.resumeToken))}function Iv(c,a){var h,f=_i(a.snapshotVersion),g=_i(a.lastLimboFreeSnapshotVersion);h=js(a.target)?fh(c.Lt,a.target):ph(c.Lt,a.target);var _=a.resumeToken.toBase64();return new yi(a.targetId,du(a.target),f,_,a.sequenceNumber,g,h)}function Ep(c){var a=kd({parent:c.parent,structuredQuery:c.structuredQuery});return"LAST"===c.limitType?dv(a,a.limit,"L"):a}var iE=function(){function c(){}return c.prototype.getBundleMetadata=function(a,h){return Bd(a).get(h).next(function(f){if(f)return{id:(g=f).bundleId,createTime:_a(g.createTime),version:g.version};var g})},c.prototype.saveBundleMetadata=function(a,h){return Bd(a).put({bundleId:(f=h).id,createTime:_i(xr(f.createTime)),version:f.version});var f},c.prototype.getNamedQuery=function(a,h){return yh(a).get(h).next(function(f){if(f)return{name:(g=f).name,query:Ep(g.bundledQuery),readTime:_a(g.readTime)};var g})},c.prototype.saveNamedQuery=function(a,h){return yh(a).put({name:(f=h).name,readTime:_i(xr(f.readTime)),bundledQuery:f.bundledQuery});var f},c}();function Bd(c){return vi(c,va.store)}function yh(c){return vi(c,Ec.store)}var Cp=function(){function c(){this.Bt=new Vd}return c.prototype.addToCollectionParentIndex=function(a,h){return this.Bt.add(h),Ee.resolve()},c.prototype.getCollectionParents=function(a,h){return Ee.resolve(this.Bt.getEntries(h))},c}(),Vd=function(){function c(){this.index={}}return c.prototype.add=function(a){var h=a.lastSegment(),f=a.popLast(),g=this.index[h]||new lr(ht.comparator),_=!g.has(f);return this.index[h]=g.add(f),_},c.prototype.has=function(a){var h=a.lastSegment(),f=a.popLast(),g=this.index[h];return g&&g.has(f)},c.prototype.getEntries=function(a){return(this.index[a]||new lr(ht.comparator)).toArray()},c}(),Dp=function(){function c(){this.qt=new Vd}return c.prototype.addToCollectionParentIndex=function(a,h){var f=this;if(!this.qt.has(h)){var g=h.lastSegment(),_=h.popLast();a.addOnCommittedListener(function(){f.qt.add(h)});var w={collectionId:g,parent:Ao(_)};return Qa(a).put(w)}return Ee.resolve()},c.prototype.getCollectionParents=function(a,h){var f=[],g=IDBKeyRange.bound([h,""],[Ua(h),""],!1,!0);return Qa(a).Nt(g).next(function(_){for(var w=0,D=_;w<D.length;w++){var A=D[w];if(A.collectionId!==h)break;f.push(ii(A.parent))}return f})},c}();function Qa(c){return vi(c,ce.store)}var Ip={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zs=function(){function c(a,h,f){this.cacheSizeCollectionThreshold=a,this.percentileToCollect=h,this.maximumSequenceNumbersToCollect=f}return c.withCacheSize=function(a){return new c(a,c.DEFAULT_COLLECTION_PERCENTILE,c.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},c}();function Tv(c,a,h){var f=c.store(Yn.store),g=c.store(Mi.store),_=[],w=IDBKeyRange.only(h.batchId),D=0,A=f.$t({range:w},function(Z,ie,xe){return D++,xe.delete()});_.push(A.next(function(){mt(1===D)}));for(var N=[],F=0,j=h.mutations;F<j.length;F++){var z=j[F],ee=Mi.key(a,z.key.path,h.batchId);_.push(g.delete(ee)),N.push(z.key)}return Ee.waitFor(_).next(function(){return N})}function Tp(c){if(!c)return 0;var a;if(c.document)a=c.document;else if(c.unknownDocument)a=c.unknownDocument;else{if(!c.noDocument)throw ot();a=c.noDocument}return JSON.stringify(a).length}zs.DEFAULT_COLLECTION_PERCENTILE=10,zs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zs.DEFAULT=new zs(41943040,zs.DEFAULT_COLLECTION_PERCENTILE,zs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zs.DISABLED=new zs(-1,0,0);var Vb=function(){function c(a,h,f,g){this.userId=a,this.R=h,this.Ut=f,this.referenceDelegate=g,this.Kt={}}return c.Qt=function(a,h,f,g){return mt(""!==a.uid),new c(a.isAuthenticated()?a.uid:"",h,f,g)},c.prototype.checkEmpty=function(a){var h=!0,f=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Hi(a).$t({index:Yn.userMutationsIndex,range:f},function(g,_,w){h=!1,w.done()}).next(function(){return h})},c.prototype.addMutationBatch=function(a,h,f,g){var _=this,w=gl(a),D=Hi(a);return D.add({}).next(function(A){mt("number"==typeof A);for(var N=new Dc(A,h,f,g),F=function(Ve,pt,vt){var nn=vt.baseMutations.map(function(ir){return $a(Ve.Lt,ir)}),In=vt.mutations.map(function(ir){return $a(Ve.Lt,ir)});return new Yn(pt,vt.batchId,vt.localWriteTime.toMillis(),nn,In)}(_.R,_.userId,N),j=[],z=new lr(function(Ve,pt){return st(Ve.canonicalString(),pt.canonicalString())}),ee=0,Z=g;ee<Z.length;ee++){var ie=Z[ee],xe=Mi.key(_.userId,ie.key.path,A);z=z.add(ie.key.path.popLast()),j.push(D.put(F)),j.push(w.put(xe,Mi.PLACEHOLDER))}return z.forEach(function(Ve){j.push(_.Ut.addToCollectionParentIndex(a,Ve))}),a.addOnCommittedListener(function(){_.Kt[A]=N.keys()}),Ee.waitFor(j).next(function(){return N})})},c.prototype.lookupMutationBatch=function(a,h){var f=this;return Hi(a).get(h).next(function(g){return g?(mt(g.userId===f.userId),Ic(f.R,g)):null})},c.prototype.jt=function(a,h){var f=this;return this.Kt[h]?Ee.resolve(this.Kt[h]):this.lookupMutationBatch(a,h).next(function(g){if(g){var _=g.keys();return f.Kt[h]=_,_}return null})},c.prototype.getNextMutationBatchAfterBatchId=function(a,h){var f=this,g=h+1,_=IDBKeyRange.lowerBound([this.userId,g]),w=null;return Hi(a).$t({index:Yn.userMutationsIndex,range:_},function(D,A,N){A.userId===f.userId&&(mt(A.batchId>=g),w=Ic(f.R,A)),N.done()}).next(function(){return w})},c.prototype.getHighestUnacknowledgedBatchId=function(a){var h=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),f=-1;return Hi(a).$t({index:Yn.userMutationsIndex,range:h,reverse:!0},function(g,_,w){f=_.batchId,w.done()}).next(function(){return f})},c.prototype.getAllMutationBatches=function(a){var h=this,f=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Hi(a).Nt(Yn.userMutationsIndex,f).next(function(g){return g.map(function(_){return Ic(h.R,_)})})},c.prototype.getAllMutationBatchesAffectingDocumentKey=function(a,h){var f=this,g=Mi.prefixForPath(this.userId,h.path),_=IDBKeyRange.lowerBound(g),w=[];return gl(a).$t({range:_},function(D,A,N){var F=D[0],z=D[2],ee=ii(D[1]);if(F===f.userId&&h.path.isEqual(ee))return Hi(a).get(z).next(function(Z){if(!Z)throw ot();mt(Z.userId===f.userId),w.push(Ic(f.R,Z))});N.done()}).next(function(){return w})},c.prototype.getAllMutationBatchesAffectingDocumentKeys=function(a,h){var f=this,g=new lr(st),_=[];return h.forEach(function(w){var D=Mi.prefixForPath(f.userId,w.path),A=IDBKeyRange.lowerBound(D),N=gl(a).$t({range:A},function(F,j,z){var ee=F[0],ie=F[2],xe=ii(F[1]);ee===f.userId&&w.path.isEqual(xe)?g=g.add(ie):z.done()});_.push(N)}),Ee.waitFor(_).next(function(){return f.Wt(a,g)})},c.prototype.getAllMutationBatchesAffectingQuery=function(a,h){var f=this,g=h.path,_=g.length+1,w=Mi.prefixForPath(this.userId,g),D=IDBKeyRange.lowerBound(w),A=new lr(st);return gl(a).$t({range:D},function(N,F,j){var z=N[0],Z=N[2],ie=ii(N[1]);z===f.userId&&g.isPrefixOf(ie)?ie.length===_&&(A=A.add(Z)):j.done()}).next(function(){return f.Wt(a,A)})},c.prototype.Wt=function(a,h){var f=this,g=[],_=[];return h.forEach(function(w){_.push(Hi(a).get(w).next(function(D){if(null===D)throw ot();mt(D.userId===f.userId),g.push(Ic(f.R,D))}))}),Ee.waitFor(_).next(function(){return g})},c.prototype.removeMutationBatch=function(a,h){var f=this;return Tv(a.Mt,this.userId,h).next(function(g){return a.addOnCommittedListener(function(){f.Gt(h.batchId)}),Ee.forEach(g,function(_){return f.referenceDelegate.markPotentiallyOrphaned(a,_)})})},c.prototype.Gt=function(a){delete this.Kt[a]},c.prototype.performConsistencyCheck=function(a){var h=this;return this.checkEmpty(a).next(function(f){if(!f)return Ee.resolve();var g=IDBKeyRange.lowerBound(Mi.prefixForUser(h.userId)),_=[];return gl(a).$t({range:g},function(w,D,A){if(w[0]===h.userId){var N=ii(w[1]);_.push(N)}else A.done()}).next(function(){mt(0===_.length)})})},c.prototype.containsKey=function(a,h){return Ko(a,this.userId,h)},c.prototype.zt=function(a){var h=this;return Sv(a).get(this.userId).next(function(f){return f||new ps(h.userId,-1,"")})},c}();function Ko(c,a,h){var f=Mi.prefixForPath(a,h.path),g=f[1],_=IDBKeyRange.lowerBound(f),w=!1;return gl(c).$t({range:_,Ft:!0},function(D,A,N){D[0]===a&&D[1]===g&&(w=!0),N.done()}).next(function(){return w})}function Hi(c){return vi(c,Yn.store)}function gl(c){return vi(c,Mi.store)}function Sv(c){return vi(c,ps.store)}var Sp=function(){function c(a){this.Ht=a}return c.prototype.next=function(){return this.Ht+=2,this.Ht},c.Jt=function(){return new c(0)},c.Yt=function(){return new c(-1)},c}(),jb=function(){function c(a,h){this.referenceDelegate=a,this.R=h}return c.prototype.allocateTargetId=function(a){var h=this;return this.Xt(a).next(function(f){var g=new Sp(f.highestTargetId);return f.highestTargetId=g.next(),h.Zt(a,f).next(function(){return f.highestTargetId})})},c.prototype.getLastRemoteSnapshotVersion=function(a){return this.Xt(a).next(function(h){return Ot.fromTimestamp(new Li(h.lastRemoteSnapshotVersion.seconds,h.lastRemoteSnapshotVersion.nanoseconds))})},c.prototype.getHighestSequenceNumber=function(a){return this.Xt(a).next(function(h){return h.highestListenSequenceNumber})},c.prototype.setTargetsMetadata=function(a,h,f){var g=this;return this.Xt(a).next(function(_){return _.highestListenSequenceNumber=h,f&&(_.lastRemoteSnapshotVersion=f.toTimestamp()),h>_.highestListenSequenceNumber&&(_.highestListenSequenceNumber=h),g.Zt(a,_)})},c.prototype.addTargetData=function(a,h){var f=this;return this.te(a,h).next(function(){return f.Xt(a).next(function(g){return g.targetCount+=1,f.ee(h,g),f.Zt(a,g)})})},c.prototype.updateTargetData=function(a,h){return this.te(a,h)},c.prototype.removeTargetData=function(a,h){var f=this;return this.removeMatchingKeysForTargetId(a,h.targetId).next(function(){return vh(a).delete(h.targetId)}).next(function(){return f.Xt(a)}).next(function(g){return mt(g.targetCount>0),g.targetCount-=1,f.Zt(a,g)})},c.prototype.removeTargets=function(a,h,f){var g=this,_=0,w=[];return vh(a).$t(function(D,A){var N=Wa(A);N.sequenceNumber<=h&&null===f.get(N.targetId)&&(_++,w.push(g.removeTargetData(a,N)))}).next(function(){return Ee.waitFor(w)}).next(function(){return _})},c.prototype.forEachTarget=function(a,h){return vh(a).$t(function(f,g){var _=Wa(g);h(_)})},c.prototype.Xt=function(a){return Av(a).get(xo.key).next(function(h){return mt(null!==h),h})},c.prototype.Zt=function(a,h){return Av(a).put(xo.key,h)},c.prototype.te=function(a,h){return vh(a).put(Iv(this.R,h))},c.prototype.ee=function(a,h){var f=!1;return a.targetId>h.highestTargetId&&(h.highestTargetId=a.targetId,f=!0),a.sequenceNumber>h.highestListenSequenceNumber&&(h.highestListenSequenceNumber=a.sequenceNumber,f=!0),f},c.prototype.getTargetCount=function(a){return this.Xt(a).next(function(h){return h.targetCount})},c.prototype.getTargetData=function(a,h){var f=du(h),g=IDBKeyRange.bound([f,Number.NEGATIVE_INFINITY],[f,Number.POSITIVE_INFINITY]),_=null;return vh(a).$t({range:g,index:yi.queryTargetsIndexName},function(w,D,A){var N=Wa(D);gi(h,N.target)&&(_=N,A.done())}).next(function(){return _})},c.prototype.addMatchingKeys=function(a,h,f){var g=this,_=[],w=bu(a);return h.forEach(function(D){var A=Ao(D.path);_.push(w.put(new Kr(f,A))),_.push(g.referenceDelegate.addReference(a,f,D))}),Ee.waitFor(_)},c.prototype.removeMatchingKeys=function(a,h,f){var g=this,_=bu(a);return Ee.forEach(h,function(w){var D=Ao(w.path);return Ee.waitFor([_.delete([f,D]),g.referenceDelegate.removeReference(a,f,w)])})},c.prototype.removeMatchingKeysForTargetId=function(a,h){var f=bu(a),g=IDBKeyRange.bound([h],[h+1],!1,!0);return f.delete(g)},c.prototype.getMatchingKeysForTargetId=function(a,h){var f=IDBKeyRange.bound([h],[h+1],!1,!0),g=bu(a),_=Sn();return g.$t({range:f,Ft:!0},function(w,D,A){var N=ii(w[1]),F=new pe(N);_=_.add(F)}).next(function(){return _})},c.prototype.containsKey=function(a,h){var f=Ao(h.path),g=IDBKeyRange.bound([f],[Ua(f)],!1,!0),_=0;return bu(a).$t({index:Kr.documentTargetsIndex,Ft:!0,range:g},function(w,D,A){0!==w[0]&&(_++,A.done())}).next(function(){return _>0})},c.prototype.lt=function(a,h){return vh(a).get(h).next(function(f){return f?Wa(f):null})},c}();function vh(c){return vi(c,yi.store)}function Av(c){return vi(c,xo.store)}function bu(c){return vi(c,Kr.store)}function yl(c){return(0,S.mG)(this,void 0,void 0,function(){return(0,S.Jh)(this,function(a){if(c.code!==oe.FAILED_PRECONDITION||c.message!==vp)throw c;return Se("LocalStore","Unexpectedly lost primary lease"),[2]})})}function xv(c,a){var f=c[1],_=a[1],w=st(c[0],a[0]);return 0===w?st(f,_):w}var Ub=function(){function c(a){this.ne=a,this.buffer=new lr(xv),this.se=0}return c.prototype.ie=function(){return++this.se},c.prototype.re=function(a){var h=[a,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(h);else{var f=this.buffer.last();xv(h,f)<0&&(this.buffer=this.buffer.delete(f).add(h))}},Object.defineProperty(c.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),c}(),Hb=function(){function c(a,h){this.garbageCollector=a,this.asyncQueue=h,this.oe=!1,this.ce=null}return c.prototype.start=function(a){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(a)},c.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(c.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),c.prototype.ue=function(a){var h=this,f=this.oe?3e5:6e4;Se("LruGarbageCollector","Garbage collection scheduled in "+f+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",f,function(){return(0,S.mG)(h,void 0,void 0,function(){var g;return(0,S.Jh)(this,function(_){switch(_.label){case 0:this.ce=null,this.oe=!0,_.label=1;case 1:return _.trys.push([1,3,,7]),[4,a.collectGarbage(this.garbageCollector)];case 2:return _.sent(),[3,7];case 3:return Cc(g=_.sent())?(Se("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",g),[3,6]):[3,4];case 4:return[4,yl(g)];case 5:_.sent(),_.label=6;case 6:return[3,7];case 7:return[4,this.ue(a)];case 8:return _.sent(),[2]}})})})},c}(),oE=function(){function c(a,h){this.ae=a,this.params=h}return c.prototype.calculateTargetCount=function(a,h){return this.ae.he(a).next(function(f){return Math.floor(h/100*f)})},c.prototype.nthSequenceNumber=function(a,h){var f=this;if(0===h)return Ee.resolve(Co.o);var g=new Ub(h);return this.ae.forEachTarget(a,function(_){return g.re(_.sequenceNumber)}).next(function(){return f.ae.le(a,function(_){return g.re(_)})}).next(function(){return g.maxValue})},c.prototype.removeTargets=function(a,h,f){return this.ae.removeTargets(a,h,f)},c.prototype.removeOrphanedDocuments=function(a,h){return this.ae.removeOrphanedDocuments(a,h)},c.prototype.collect=function(a,h){var f=this;return-1===this.params.cacheSizeCollectionThreshold?(Se("LruGarbageCollector","Garbage collection skipped; disabled"),Ee.resolve(Ip)):this.getCacheSize(a).next(function(g){return g<f.params.cacheSizeCollectionThreshold?(Se("LruGarbageCollector","Garbage collection skipped; Cache size "+g+" is lower than threshold "+f.params.cacheSizeCollectionThreshold),Ip):f.fe(a,h)})},c.prototype.getCacheSize=function(a){return this.ae.getCacheSize(a)},c.prototype.fe=function(a,h){var f,g,_,w,D,A,N,F=this,j=Date.now();return this.calculateTargetCount(a,this.params.percentileToCollect).next(function(z){return z>F.params.maximumSequenceNumbersToCollect?(Se("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+F.params.maximumSequenceNumbersToCollect+" from "+z),g=F.params.maximumSequenceNumbersToCollect):g=z,w=Date.now(),F.nthSequenceNumber(a,g)}).next(function(z){return f=z,D=Date.now(),F.removeTargets(a,f,h)}).next(function(z){return _=z,A=Date.now(),F.removeOrphanedDocuments(a,f)}).next(function(z){return N=Date.now(),pi()<=dt.in.DEBUG&&Se("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(w-j)+"ms\n\tDetermined least recently used "+g+" in "+(D-w)+"ms\n\tRemoved "+_+" targets in "+(A-D)+"ms\n\tRemoved "+z+" documents in "+(N-A)+"ms\nTotal Duration: "+(N-j)+"ms"),Ee.resolve({didRun:!0,sequenceNumbersCollected:g,targetsRemoved:_,documentsRemoved:z})})},c}(),qb=function(){function c(a,h){this.db=a,this.garbageCollector=new oE(this,h)}return c.prototype.he=function(a){var h=this.de(a);return this.db.getTargetCache().getTargetCount(a).next(function(f){return h.next(function(g){return f+g})})},c.prototype.de=function(a){var h=0;return this.le(a,function(f){h++}).next(function(){return h})},c.prototype.forEachTarget=function(a,h){return this.db.getTargetCache().forEachTarget(a,h)},c.prototype.le=function(a,h){return this.we(a,function(f,g){return h(g)})},c.prototype.addReference=function(a,h,f){return Tc(a,f)},c.prototype.removeReference=function(a,h,f){return Tc(a,f)},c.prototype.removeTargets=function(a,h,f){return this.db.getTargetCache().removeTargets(a,h,f)},c.prototype.markPotentiallyOrphaned=function(a,h){return Tc(a,h)},c.prototype._e=function(a,h){return g=h,_=!1,Sv(f=a).Ot(function(w){return Ko(f,w,g).next(function(D){return D&&(_=!0),Ee.resolve(!D)})}).next(function(){return _});var f,g,_},c.prototype.removeOrphanedDocuments=function(a,h){var f=this,g=this.db.getRemoteDocumentCache().newChangeBuffer(),_=[],w=0;return this.we(a,function(D,A){if(A<=h){var N=f._e(a,D).next(function(F){if(!F)return w++,g.getEntry(a,D).next(function(){return g.removeEntry(D),bu(a).delete([0,Ao(D.path)])})});_.push(N)}}).next(function(){return Ee.waitFor(_)}).next(function(){return g.apply(a)}).next(function(){return w})},c.prototype.removeTarget=function(a,h){var f=h.withSequenceNumber(a.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(a,f)},c.prototype.updateLimboDocument=function(a,h){return Tc(a,h)},c.prototype.we=function(a,h){var f,g=bu(a),_=Co.o;return g.$t({index:Kr.documentTargetsIndex},function(w,D){var N=D.path,F=D.sequenceNumber;0===w[0]?(_!==Co.o&&h(new pe(ii(f)),_),_=F,f=N):_=Co.o}).next(function(){_!==Co.o&&h(new pe(ii(f)),_)})},c.prototype.getCacheSize=function(a){return this.db.getRemoteDocumentCache().getSize(a)},c}();function Tc(c,a){return bu(c).put((f=c.currentSequenceNumber,new Kr(0,Ao(a.path),f)));var f}var Sc=function(){function c(a,h){this.mapKeyFn=a,this.equalsFn=h,this.inner={}}return c.prototype.get=function(a){var h=this.mapKeyFn(a),f=this.inner[h];if(void 0!==f)for(var g=0,_=f;g<_.length;g++){var w=_[g],A=w[1];if(this.equalsFn(w[0],a))return A}},c.prototype.has=function(a){return void 0!==this.get(a)},c.prototype.set=function(a,h){var f=this.mapKeyFn(a),g=this.inner[f];if(void 0!==g){for(var _=0;_<g.length;_++)if(this.equalsFn(g[_][0],a))return void(g[_]=[a,h]);g.push([a,h])}else this.inner[f]=[[a,h]]},c.prototype.delete=function(a){var h=this.mapKeyFn(a),f=this.inner[h];if(void 0===f)return!1;for(var g=0;g<f.length;g++)if(this.equalsFn(f[g][0],a))return 1===f.length?delete this.inner[h]:f.splice(g,1),!0;return!1},c.prototype.forEach=function(a){Cn(this.inner,function(h,f){for(var g=0,_=f;g<_.length;g++){var w=_[g];a(w[0],w[1])}})},c.prototype.isEmpty=function(){return Yf(this.inner)},c}(),Gs=function(){function c(){this.changes=new Sc(function(a){return a.toString()},function(a,h){return a.isEqual(h)}),this.changesApplied=!1}return c.prototype.getReadTime=function(a){var h=this.changes.get(a);return h?h.readTime:Ot.min()},c.prototype.addEntry=function(a,h){this.assertNotApplied(),this.changes.set(a.key,{document:a,readTime:h})},c.prototype.removeEntry=function(a,h){void 0===h&&(h=null),this.assertNotApplied(),this.changes.set(a,{document:ro.newInvalidDocument(a),readTime:h})},c.prototype.getEntry=function(a,h){this.assertNotApplied();var f=this.changes.get(h);return void 0!==f?Ee.resolve(f.document):this.getFromCache(a,h)},c.prototype.getEntries=function(a,h){return this.getAllFromCache(a,h)},c.prototype.apply=function(a){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(a)},c.prototype.assertNotApplied=function(){},c}(),jd=function(){function c(a,h){this.R=a,this.Ut=h}return c.prototype.addEntry=function(a,h,f){return wu(a).put(gg(h),f)},c.prototype.removeEntry=function(a,h){var f=wu(a),g=gg(h);return f.delete(g)},c.prototype.updateMetadata=function(a,h){var f=this;return this.getMetadata(a).next(function(g){return g.byteSize+=h,f.me(a,g)})},c.prototype.getEntry=function(a,h){var f=this;return wu(a).get(gg(h)).next(function(g){return f.ye(h,g)})},c.prototype.ge=function(a,h){var f=this;return wu(a).get(gg(h)).next(function(g){return{document:f.ye(h,g),size:Tp(g)}})},c.prototype.getEntries=function(a,h){var f=this,g=Dr();return this.pe(a,h,function(_,w){var D=f.ye(_,w);g=g.insert(_,D)}).next(function(){return g})},c.prototype.Ee=function(a,h){var f=this,g=Dr(),_=new Qn(pe.comparator);return this.pe(a,h,function(w,D){var A=f.ye(w,D);g=g.insert(w,A),_=_.insert(w,Tp(D))}).next(function(){return{documents:g,Te:_}})},c.prototype.pe=function(a,h,f){if(h.isEmpty())return Ee.resolve();var g=IDBKeyRange.bound(h.first().path.toArray(),h.last().path.toArray()),_=h.getIterator(),w=_.getNext();return wu(a).$t({range:g},function(D,A,N){for(var F=pe.fromSegments(D);w&&pe.comparator(w,F)<0;)f(w,null),w=_.getNext();w&&w.isEqual(F)&&(f(w,A),w=_.hasNext()?_.getNext():null),w?N.Ct(w.path.toArray()):N.done()}).next(function(){for(;w;)f(w,null),w=_.hasNext()?_.getNext():null})},c.prototype.getDocumentsMatchingQuery=function(a,h,f){var g=this,_=Dr(),w=h.path.length+1,D={};if(f.isEqual(Ot.min())){var A=h.path.toArray();D.range=IDBKeyRange.lowerBound(A)}else{var N=h.path.toArray(),F=pg(f);D.range=IDBKeyRange.lowerBound([N,F],!0),D.index=hr.collectionReadTimeIndex}return wu(a).$t(D,function(j,z,ee){if(j.length===w){var Z=_u(g.R,z);h.path.isPrefixOf(Z.key.path)?uc(h,Z)&&(_=_.insert(Z.key,Z)):ee.done()}}).next(function(){return _})},c.prototype.newChangeBuffer=function(a){return new Mv(this,!!a&&a.trackRemovals)},c.prototype.getSize=function(a){return this.getMetadata(a).next(function(h){return h.byteSize})},c.prototype.getMetadata=function(a){return mg(a).get($o.key).next(function(h){return mt(!!h),h})},c.prototype.me=function(a,h){return mg(a).put($o.key,h)},c.prototype.ye=function(a,h){if(h){var f=_u(this.R,h);if(!f.isNoDocument()||!f.version.isEqual(Ot.min()))return f}return ro.newInvalidDocument(a)},c}(),Mv=function(c){function a(h,f){var g=this;return(g=c.call(this)||this).Ie=h,g.trackRemovals=f,g.Ae=new Sc(function(_){return _.toString()},function(_,w){return _.isEqual(w)}),g}return(0,S.ZT)(a,c),a.prototype.applyChanges=function(h){var f=this,g=[],_=0,w=new lr(function(D,A){return st(D.canonicalString(),A.canonicalString())});return this.changes.forEach(function(D,A){var N=f.Ae.get(D);if(A.document.isValidDocument()){var F=Cv(f.Ie.R,A.document,f.getReadTime(D));w=w.add(D.path.popLast());var j=Tp(F);_+=j-N,g.push(f.Ie.addEntry(h,D,F))}else if(_-=N,f.trackRemovals){var z=Cv(f.Ie.R,ro.newNoDocument(D,Ot.min()),f.getReadTime(D));g.push(f.Ie.addEntry(h,D,z))}else g.push(f.Ie.removeEntry(h,D))}),w.forEach(function(D){g.push(f.Ie.Ut.addToCollectionParentIndex(h,D))}),g.push(this.Ie.updateMetadata(h,_)),Ee.waitFor(g)},a.prototype.getFromCache=function(h,f){var g=this;return this.Ie.ge(h,f).next(function(_){return g.Ae.set(f,_.size),_.document})},a.prototype.getAllFromCache=function(h,f){var g=this;return this.Ie.Ee(h,f).next(function(_){var w=_.documents;return _.Te.forEach(function(D,A){g.Ae.set(D,A)}),w})},a}(Gs);function mg(c){return vi(c,$o.store)}function wu(c){return vi(c,hr.store)}function gg(c){return c.path.toArray()}var sE=function(){function c(a){this.R=a}return c.prototype.Rt=function(a,h,f,g){var _=this;mt(f<g&&f>=0&&g<=11);var A,w=new Ir("createOrUpgrade",h);f<1&&g>=1&&(a.createObjectStore($r.store),(A=a).createObjectStore(ps.store,{keyPath:ps.keyPath}),A.createObjectStore(Yn.store,{keyPath:Yn.keyPath,autoIncrement:!0}).createIndex(Yn.userMutationsIndex,Yn.userMutationsKeyPath,{unique:!0}),A.createObjectStore(Mi.store),zb(a),function(A){A.createObjectStore(hr.store)}(a));var D=Ee.resolve();return f<3&&g>=3&&(0!==f&&(function(A){A.deleteObjectStore(Kr.store),A.deleteObjectStore(yi.store),A.deleteObjectStore(xo.store)}(a),zb(a)),D=D.next(function(){return function(A){var N=A.store(xo.store),F=new xo(0,0,Ot.min().toTimestamp(),0);return N.put(xo.key,F)}(w)})),f<4&&g>=4&&(0!==f&&(D=D.next(function(){return function(A,N){return N.store(Yn.store).Nt().next(function(F){A.deleteObjectStore(Yn.store),A.createObjectStore(Yn.store,{keyPath:Yn.keyPath,autoIncrement:!0}).createIndex(Yn.userMutationsIndex,Yn.userMutationsKeyPath,{unique:!0});var j=N.store(Yn.store),z=F.map(function(ee){return j.put(ee)});return Ee.waitFor(z)})}(a,w)})),D=D.next(function(){!function(A){A.createObjectStore(Ka.store,{keyPath:Ka.keyPath})}(a)})),f<5&&g>=5&&(D=D.next(function(){return _.Re(w)})),f<6&&g>=6&&(D=D.next(function(){return function(A){A.createObjectStore($o.store)}(a),_.be(w)})),f<7&&g>=7&&(D=D.next(function(){return _.ve(w)})),f<8&&g>=8&&(D=D.next(function(){return _.Pe(a,w)})),f<9&&g>=9&&(D=D.next(function(){(function(A){A.objectStoreNames.contains("remoteDocumentChanges")&&A.deleteObjectStore("remoteDocumentChanges")})(a),function(A){var N=A.objectStore(hr.store);N.createIndex(hr.readTimeIndex,hr.readTimeIndexPath,{unique:!1}),N.createIndex(hr.collectionReadTimeIndex,hr.collectionReadTimeIndexPath,{unique:!1})}(h)})),f<10&&g>=10&&(D=D.next(function(){return _.Ve(w)})),f<11&&g>=11&&(D=D.next(function(){(function(A){A.createObjectStore(va.store,{keyPath:va.keyPath})})(a),function(A){A.createObjectStore(Ec.store,{keyPath:Ec.keyPath})}(a)})),D},c.prototype.be=function(a){var h=0;return a.store(hr.store).$t(function(f,g){h+=Tp(g)}).next(function(){var f=new $o(h);return a.store($o.store).put($o.key,f)})},c.prototype.Re=function(a){var h=this,f=a.store(ps.store),g=a.store(Yn.store);return f.Nt().next(function(_){return Ee.forEach(_,function(w){var D=IDBKeyRange.bound([w.userId,-1],[w.userId,w.lastAcknowledgedBatchId]);return g.Nt(Yn.userMutationsIndex,D).next(function(A){return Ee.forEach(A,function(N){mt(N.userId===w.userId);var F=Ic(h.R,N);return Tv(a,w.userId,F).next(function(){})})})})})},c.prototype.ve=function(a){var h=a.store(Kr.store),f=a.store(hr.store);return a.store(xo.store).get(xo.key).next(function(g){var _=[];return f.$t(function(w,D){var A=new ht(w),N=[0,Ao(A)];_.push(h.get(N).next(function(F){return F?Ee.resolve():h.put(new Kr(0,Ao(A),g.highestListenSequenceNumber))}))}).next(function(){return Ee.waitFor(_)})})},c.prototype.Pe=function(a,h){a.createObjectStore(ce.store,{keyPath:ce.keyPath});var f=h.store(ce.store),g=new Vd,_=function(w){if(g.add(w)){var D=w.lastSegment(),A=w.popLast();return f.put({collectionId:D,parent:Ao(A)})}};return h.store(hr.store).$t({Ft:!0},function(w,D){var A=new ht(w);return _(A.popLast())}).next(function(){return h.store(Mi.store).$t({Ft:!0},function(w,D){var N=ii(w[1]);return _(N.popLast())})})},c.prototype.Ve=function(a){var h=this,f=a.store(yi.store);return f.$t(function(g,_){var w=Wa(_),D=Iv(h.R,w);return f.put(D)})},c}();function zb(c){c.createObjectStore(Kr.store,{keyPath:Kr.keyPath}).createIndex(Kr.documentTargetsIndex,Kr.documentTargetsKeyPath,{unique:!0}),c.createObjectStore(yi.store,{keyPath:yi.keyPath}).createIndex(yi.queryTargetsIndexName,yi.queryTargetsKeyPath,{unique:!0}),c.createObjectStore(xo.store)}var _h="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",yg=function(){function c(a,h,f,g,_,w,D,A,N,F){if(this.allowTabSynchronization=a,this.persistenceKey=h,this.clientId=f,this.Se=_,this.window=w,this.document=D,this.De=N,this.Ce=F,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(j){return Promise.resolve()},!c.yt())throw new ge(oe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new qb(this,g),this.Le=h+"main",this.R=new wp(A),this.Be=new pl(this.Le,11,new sE(this.R)),this.qe=new jb(this.referenceDelegate,this.R),this.Ut=new Dp,this.Ue=new jd(this.R,this.Ut),this.Ke=new iE,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===F&&zr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return c.prototype.start=function(){var a=this;return this.je().then(function(){if(!a.isPrimary&&!a.allowTabSynchronization)throw new ge(oe.FAILED_PRECONDITION,_h);return a.We(),a.Ge(),a.ze(),a.runTransaction("getHighestListenSequenceNumber","readonly",function(h){return a.qe.getHighestSequenceNumber(h)})}).then(function(h){a.Ne=new Co(h,a.De)}).then(function(){a.xe=!0}).catch(function(h){return a.Be&&a.Be.close(),Promise.reject(h)})},c.prototype.He=function(a){var h=this;return this.Me=function(f){return(0,S.mG)(h,void 0,void 0,function(){return(0,S.Jh)(this,function(g){return this.started?[2,a(f)]:[2]})})},a(this.isPrimary)},c.prototype.setDatabaseDeletedListener=function(a){var h=this;this.Be.vt(function(f){return(0,S.mG)(h,void 0,void 0,function(){return(0,S.Jh)(this,function(g){switch(g.label){case 0:return null===f.newVersion?[4,a()]:[3,2];case 1:g.sent(),g.label=2;case 2:return[2]}})})})},c.prototype.setNetworkEnabled=function(a){var h=this;this.networkEnabled!==a&&(this.networkEnabled=a,this.Se.enqueueAndForget(function(){return(0,S.mG)(h,void 0,void 0,function(){return(0,S.Jh)(this,function(f){switch(f.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:f.sent(),f.label=2;case 2:return[2]}})})}))},c.prototype.je=function(){var a=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(h){return vg(h).put(new Ka(a.clientId,Date.now(),a.networkEnabled,a.inForeground)).next(function(){if(a.isPrimary)return a.Je(h).next(function(f){f||(a.isPrimary=!1,a.Se.enqueueRetryable(function(){return a.Me(!1)}))})}).next(function(){return a.Ye(h)}).next(function(f){return a.isPrimary&&!f?a.Xe(h).next(function(){return!1}):!!f&&a.Ze(h).next(function(){return!0})})}).catch(function(h){if(Cc(h))return Se("IndexedDbPersistence","Failed to extend owner lease: ",h),a.isPrimary;if(!a.allowTabSynchronization)throw h;return Se("IndexedDbPersistence","Releasing owner lease after error during lease refresh",h),!1}).then(function(h){a.isPrimary!==h&&a.Se.enqueueRetryable(function(){return a.Me(h)}),a.isPrimary=h})},c.prototype.Je=function(a){var h=this;return vl(a).get($r.key).next(function(f){return Ee.resolve(h.tn(f))})},c.prototype.en=function(a){return vg(a).delete(this.clientId)},c.prototype.nn=function(){return(0,S.mG)(this,void 0,void 0,function(){var a,h,f,_=this;return(0,S.Jh)(this,function(w){switch(w.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(D){var A=vi(D,Ka.store);return A.Nt().next(function(N){var F=_.rn(N,18e5),j=N.filter(function(z){return-1===F.indexOf(z)});return Ee.forEach(j,function(z){return A.delete(z.clientId)}).next(function(){return j})})}).catch(function(){return[]})]);case 1:if(a=w.sent(),this.Qe)for(h=0,f=a;h<f.length;h++)this.Qe.removeItem(this.on(f[h].clientId));w.label=2;case 2:return[2]}})})},c.prototype.ze=function(){var a=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return a.je().then(function(){return a.nn()}).then(function(){return a.ze()})})},c.prototype.tn=function(a){return!!a&&a.ownerId===this.clientId},c.prototype.Ye=function(a){var h=this;return this.Ce?Ee.resolve(!0):vl(a).get($r.key).next(function(f){if(null!==f&&h.sn(f.leaseTimestampMs,5e3)&&!h.cn(f.ownerId)){if(h.tn(f)&&h.networkEnabled)return!0;if(!h.tn(f)){if(!f.allowTabSynchronization)throw new ge(oe.FAILED_PRECONDITION,_h);return!1}}return!(!h.networkEnabled||!h.inForeground)||vg(a).Nt().next(function(g){return void 0===h.rn(g,5e3).find(function(_){return!(h.clientId===_.clientId||!(!h.networkEnabled&&_.networkEnabled||!h.inForeground&&_.inForeground&&h.networkEnabled===_.networkEnabled))})})}).next(function(f){return h.isPrimary!==f&&Se("IndexedDbPersistence","Client "+(f?"is":"is not")+" eligible for a primary lease."),f})},c.prototype.shutdown=function(){return(0,S.mG)(this,void 0,void 0,function(){var a=this;return(0,S.Jh)(this,function(h){switch(h.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[$r.store,Ka.store],function(f){var g=new dg(f,Co.o);return a.Xe(g).next(function(){return a.en(g)})})];case 1:return h.sent(),this.Be.close(),this.ln(),[2]}})})},c.prototype.rn=function(a,h){var f=this;return a.filter(function(g){return f.sn(g.updateTimeMs,h)&&!f.cn(g.clientId)})},c.prototype.fn=function(){var a=this;return this.runTransaction("getActiveClients","readonly",function(h){return vg(h).Nt().next(function(f){return a.rn(f,18e5).map(function(g){return g.clientId})})})},Object.defineProperty(c.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),c.prototype.getMutationQueue=function(a){return Vb.Qt(a,this.R,this.Ut,this.referenceDelegate)},c.prototype.getTargetCache=function(){return this.qe},c.prototype.getRemoteDocumentCache=function(){return this.Ue},c.prototype.getIndexManager=function(){return this.Ut},c.prototype.getBundleCache=function(){return this.Ke},c.prototype.runTransaction=function(a,h,f){var _,g=this;return Se("IndexedDbPersistence","Starting transaction:",a),this.Be.runTransaction(a,"readonly"===h?"readonly":"readwrite",Nd,function(D){return _=new dg(D,g.Ne?g.Ne.next():Co.o),"readwrite-primary"===h?g.Je(_).next(function(A){return!!A||g.Ye(_)}).next(function(A){if(!A)throw zr("Failed to obtain primary lease for action '"+a+"'."),g.isPrimary=!1,g.Se.enqueueRetryable(function(){return g.Me(!1)}),new ge(oe.FAILED_PRECONDITION,vp);return f(_)}).next(function(A){return g.Ze(_).next(function(){return A})}):g.dn(_).next(function(){return f(_)})}).then(function(D){return _.raiseOnCommittedEvent(),D})},c.prototype.dn=function(a){var h=this;return vl(a).get($r.key).next(function(f){if(null!==f&&h.sn(f.leaseTimestampMs,5e3)&&!h.cn(f.ownerId)&&!h.tn(f)&&!(h.Ce||h.allowTabSynchronization&&f.allowTabSynchronization))throw new ge(oe.FAILED_PRECONDITION,_h)})},c.prototype.Ze=function(a){var h=new $r(this.clientId,this.allowTabSynchronization,Date.now());return vl(a).put($r.key,h)},c.yt=function(){return pl.yt()},c.prototype.Xe=function(a){var h=this,f=vl(a);return f.get($r.key).next(function(g){return h.tn(g)?(Se("IndexedDbPersistence","Releasing primary lease."),f.delete($r.key)):Ee.resolve()})},c.prototype.sn=function(a,h){var f=Date.now();return!(a<f-h||a>f&&(zr("Detected an update time that is in the future: "+a+" > "+f),1))},c.prototype.We=function(){var a=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){a.Se.enqueueAndForget(function(){return a.inForeground="visible"===a.document.visibilityState,a.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},c.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},c.prototype.Ge=function(){var a,h=this;"function"==typeof(null===(a=this.window)||void 0===a?void 0:a.addEventListener)&&(this.ke=function(){h.un(),(0,Ze.G6)()&&navigator.appVersion.match("Version/14")&&h.Se.enterRestrictedMode(!0),h.Se.enqueueAndForget(function(){return h.shutdown()})},this.window.addEventListener("pagehide",this.ke))},c.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},c.prototype.cn=function(a){var h;try{var f=null!==(null===(h=this.Qe)||void 0===h?void 0:h.getItem(this.on(a)));return Se("IndexedDbPersistence","Client '"+a+"' "+(f?"is":"is not")+" zombied in LocalStorage"),f}catch(g){return zr("IndexedDbPersistence","Failed to get zombied client id.",g),!1}},c.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(a){zr("Failed to set zombie client id.",a)}},c.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(a){}},c.prototype.on=function(a){return"firestore_zombie_"+this.persistenceKey+"_"+a},c}();function vl(c){return vi(c,$r.store)}function vg(c){return vi(c,Ka.store)}function kv(c,a){var h=c.projectId;return c.isDefaultDatabase||(h+="."+c.database),"firestore/"+a+"/"+h+"/"}var en=function(c,a){this.progress=c,this.wn=a},_g=function(){function c(a,h,f){this.Ue=a,this._n=h,this.Ut=f}return c.prototype.mn=function(a,h){var f=this;return this._n.getAllMutationBatchesAffectingDocumentKey(a,h).next(function(g){return f.yn(a,h,g)})},c.prototype.yn=function(a,h,f){return this.Ue.getEntry(a,h).next(function(g){for(var _=0,w=f;_<w.length;_++)w[_].applyToLocalView(g);return g})},c.prototype.gn=function(a,h){a.forEach(function(f,g){for(var _=0,w=h;_<w.length;_++)w[_].applyToLocalView(g)})},c.prototype.pn=function(a,h){var f=this;return this.Ue.getEntries(a,h).next(function(g){return f.En(a,g).next(function(){return g})})},c.prototype.En=function(a,h){var f=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(a,h).next(function(g){return f.gn(h,g)})},c.prototype.getDocumentsMatchingQuery=function(a,h,f){return pe.isDocumentKey((g=h).path)&&null===g.collectionGroup&&0===g.filters.length?this.Tn(a,h.path):fs(h)?this.In(a,h,f):this.An(a,h,f);var g},c.prototype.Tn=function(a,h){return this.mn(a,new pe(h)).next(function(f){var g=hh();return f.isFoundDocument()&&(g=g.insert(f.key,f)),g})},c.prototype.In=function(a,h,f){var g=this,_=h.collectionGroup,w=hh();return this.Ut.getCollectionParents(a,_).next(function(D){return Ee.forEach(D,function(A){var F,j,N=(F=h,j=A.child(_),new Us(j,null,F.explicitOrderBy.slice(),F.filters.slice(),F.limit,F.limitType,F.startAt,F.endAt));return g.An(a,N,f).next(function(F){F.forEach(function(j,z){w=w.insert(j,z)})})}).next(function(){return w})})},c.prototype.An=function(a,h,f){var g,_,w=this;return this.Ue.getDocumentsMatchingQuery(a,h,f).next(function(D){return g=D,w._n.getAllMutationBatchesAffectingQuery(a,h)}).next(function(D){return w.Rn(a,_=D,g).next(function(A){g=A;for(var N=0,F=_;N<F.length;N++)for(var j=F[N],z=0,ee=j.mutations;z<ee.length;z++){var Z=ee[z],ie=Z.key,xe=g.get(ie);null==xe&&(xe=ro.newInvalidDocument(ie),g=g.insert(ie,xe)),pa(Z,xe,j.localWriteTime),xe.isFoundDocument()||(g=g.remove(ie))}})}).next(function(){return g.forEach(function(D,A){uc(h,A)||(g=g.remove(D))}),g})},c.prototype.Rn=function(a,h,f){for(var g=Sn(),_=0,w=h;_<w.length;_++)for(var D=0,A=w[_].mutations;D<A.length;D++){var N=A[D];N instanceof Gr&&null===f.get(N.key)&&(g=g.add(N.key))}var F=f;return this.Ue.getEntries(a,g).next(function(j){return j.forEach(function(z,ee){ee.isFoundDocument()&&(F=F.insert(z,ee))}),F})},c}(),bg=function(){function c(a,h,f,g){this.targetId=a,this.fromCache=h,this.bn=f,this.vn=g}return c.Pn=function(a,h){for(var f=Sn(),g=Sn(),_=0,w=h.docChanges;_<w.length;_++){var D=w[_];switch(D.type){case 0:f=f.add(D.doc.key);break;case 1:g=g.add(D.doc.key)}}return new c(a,h.fromCache,f,g)},c}(),Rv=function(){function c(){}return c.prototype.Vn=function(a){this.Sn=a},c.prototype.getDocumentsMatchingQuery=function(a,h,f,g){var w,_=this;return 0===(w=h).filters.length&&null===w.limit&&null==w.startAt&&null==w.endAt&&(0===w.explicitOrderBy.length||1===w.explicitOrderBy.length&&w.explicitOrderBy[0].field.isKeyField())||f.isEqual(Ot.min())?this.Dn(a,h):this.Sn.pn(a,g).next(function(w){var D=_.Cn(h,w);return(ac(h)||wd(h))&&_.Nn(h.limitType,D,g,f)?_.Dn(a,h):(pi()<=dt.in.DEBUG&&Se("QueryEngine","Re-using previous result from %s to execute query: %s",f.toString(),ih(h)),_.Sn.getDocumentsMatchingQuery(a,h,f).next(function(A){return D.forEach(function(N){A=A.insert(N.key,N)}),A}))})},c.prototype.Cn=function(a,h){var f=new lr(oh(a));return h.forEach(function(g,_){uc(a,_)&&(f=f.add(_))}),f},c.prototype.Nn=function(a,h,f,g){if(f.size!==h.size)return!0;var _="F"===a?h.last():h.first();return!!_&&(_.hasPendingWrites||_.version.compareTo(g)>0)},c.prototype.Dn=function(a,h){return pi()<=dt.in.DEBUG&&Se("QueryEngine","Using full collection scan to execute query:",ih(h)),this.Sn.getDocumentsMatchingQuery(a,h,Ot.min())},c}(),Gb=function(){function c(a,h,f,g){this.persistence=a,this.xn=h,this.R=g,this.kn=new Qn(st),this.Fn=new Sc(function(_){return du(_)},gi),this.$n=Ot.min(),this._n=a.getMutationQueue(f),this.On=a.getRemoteDocumentCache(),this.qe=a.getTargetCache(),this.Mn=new _g(this.On,this._n,this.persistence.getIndexManager()),this.Ke=a.getBundleCache(),this.xn.Vn(this.Mn)}return c.prototype.collectGarbage=function(a){var h=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(f){return a.collect(f,h.kn)})},c}();function wg(c,a,h,f){return new Gb(c,a,h,f)}function Ud(c,a){return(0,S.mG)(this,void 0,void 0,function(){var h,f,g,_;return(0,S.Jh)(this,function(w){switch(w.label){case 0:return h=Ue(c),f=h._n,g=h.Mn,[4,h.persistence.runTransaction("Handle user change","readonly",function(D){var A;return h._n.getAllMutationBatches(D).next(function(N){return A=N,f=h.persistence.getMutationQueue(a),g=new _g(h.On,f,h.persistence.getIndexManager()),f.getAllMutationBatches(D)}).next(function(N){for(var F=[],j=[],z=Sn(),ee=0,Z=A;ee<Z.length;ee++){var ie=Z[ee];F.push(ie.batchId);for(var xe=0,Ve=ie.mutations;xe<Ve.length;xe++)z=z.add(Ve[xe].key)}for(var vt=0,nn=N;vt<nn.length;vt++){var In=nn[vt];j.push(In.batchId);for(var ir=0,Mo=In.mutations;ir<Mo.length;ir++)z=z.add(Mo[ir].key)}return g.pn(D,z).next(function(bm){return{Ln:bm,removedBatchIds:F,addedBatchIds:j}})})})];case 1:return _=w.sent(),[2,(h._n=f,h.Mn=g,h.xn.Vn(h.Mn),_)]}})})}function Ov(c,a){var h=Ue(c);return h.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(f){var w,D,A,N,F,j,z,g=a.batch.keys(),_=h.On.newChangeBuffer({trackRemovals:!0});return(w=h,D=f,A=a,N=_,F=A.batch,j=F.keys(),z=Ee.resolve(),j.forEach(function(ee){z=z.next(function(){return N.getEntry(D,ee)}).next(function(Z){var ie=A.docVersions.get(ee);mt(null!==ie),Z.version.compareTo(ie)<0&&(F.applyToRemoteDocument(Z,A),Z.isValidDocument()&&N.addEntry(Z,A.commitVersion))})}),z.next(function(){return w._n.removeMutationBatch(D,F)})).next(function(){return _.apply(f)}).next(function(){return h._n.performConsistencyCheck(f)}).next(function(){return h.Mn.pn(f,g)})})}function Ap(c){var a=Ue(c);return a.persistence.runTransaction("Get last remote snapshot version","readonly",function(h){return a.qe.getLastRemoteSnapshotVersion(h)})}function $b(c,a){var h=Ue(c),f=a.snapshotVersion,g=h.kn;return h.persistence.runTransaction("Apply remote event","readwrite-primary",function(_){var w=h.On.newChangeBuffer({trackRemovals:!0});g=h.kn;var D=[];a.targetChanges.forEach(function(F,j){var ie,xe,Ve,z=g.get(j);if(z){D.push(h.qe.removeMatchingKeys(_,F.removedDocuments,j).next(function(){return h.qe.addMatchingKeys(_,F.addedDocuments,j)}));var ee=F.resumeToken;if(ee.approximateByteSize()>0){var Z=z.withResumeToken(ee,f).withSequenceNumber(_.currentSequenceNumber);g=g.insert(j,Z),ie=z,Ve=F,mt((xe=Z).resumeToken.approximateByteSize()>0),(0===ie.resumeToken.approximateByteSize()||xe.snapshotVersion.toMicroseconds()-ie.snapshotVersion.toMicroseconds()>=3e8||Ve.addedDocuments.size+Ve.modifiedDocuments.size+Ve.removedDocuments.size>0)&&D.push(h.qe.updateTargetData(_,Z))}}});var A=Dr();if(a.documentUpdates.forEach(function(F,j){a.resolvedLimboDocuments.has(F)&&D.push(h.persistence.referenceDelegate.updateLimboDocument(_,F))}),D.push(hn(_,w,a.documentUpdates,f,void 0).next(function(F){A=F})),!f.isEqual(Ot.min())){var N=h.qe.getLastRemoteSnapshotVersion(_).next(function(F){return h.qe.setTargetsMetadata(_,_.currentSequenceNumber,f)});D.push(N)}return Ee.waitFor(D).next(function(){return w.apply(_)}).next(function(){return h.Mn.En(_,A)}).next(function(){return A})}).then(function(_){return h.kn=g,_})}function hn(c,a,h,f,g){var _=Sn();return h.forEach(function(w){return _=_.add(w)}),a.getEntries(c,_).next(function(w){var D=Dr();return h.forEach(function(A,N){var F=w.get(A),j=(null==g?void 0:g.get(A))||f;N.isNoDocument()&&N.version.isEqual(Ot.min())?(a.removeEntry(A,j),D=D.insert(A,N)):!F.isValidDocument()||N.version.compareTo(F.version)>0||0===N.version.compareTo(F.version)&&F.hasPendingWrites?(a.addEntry(N,j),D=D.insert(A,N)):Se("LocalStore","Ignoring outdated watch update for ",A,". Current version:",F.version," Watch version:",N.version)}),D})}function Kb(c,a){var h=Ue(c);return h.persistence.runTransaction("Get next mutation batch","readonly",function(f){return void 0===a&&(a=-1),h._n.getNextMutationBatchAfterBatchId(f,a)})}function _l(c,a){var h=Ue(c);return h.persistence.runTransaction("Allocate target","readwrite",function(f){var g;return h.qe.getTargetData(f,a).next(function(_){return _?Ee.resolve(g=_):h.qe.allocateTargetId(f).next(function(w){return g=new fg(a,w,0,f.currentSequenceNumber),h.qe.addTargetData(f,g).next(function(){return g})})})}).then(function(f){var g=h.kn.get(f.targetId);return(null===g||f.snapshotVersion.compareTo(g.snapshotVersion)>0)&&(h.kn=h.kn.insert(f.targetId,f),h.Fn.set(a,f.targetId)),f})}function ba(c,a,h){return(0,S.mG)(this,void 0,void 0,function(){var f,g,_,w;return(0,S.Jh)(this,function(D){switch(D.label){case 0:f=Ue(c),g=f.kn.get(a),_=h?"readwrite":"readwrite-primary",D.label=1;case 1:return D.trys.push([1,4,,5]),h?[3,3]:[4,f.persistence.runTransaction("Release target",_,function(A){return f.persistence.referenceDelegate.removeTarget(A,g)})];case 2:D.sent(),D.label=3;case 3:return[3,5];case 4:if(!Cc(w=D.sent()))throw w;return Se("LocalStore","Failed to update sequence numbers for target "+a+": "+w),[3,5];case 5:return f.kn=f.kn.remove(a),f.Fn.delete(g.target),[2]}})})}function bl(c,a,h){var f=Ue(c),g=Ot.min(),_=Sn();return f.persistence.runTransaction("Execute query","readonly",function(w){return(D=f,A=w,N=ji(a),F=Ue(D),j=F.Fn.get(N),void 0!==j?Ee.resolve(F.kn.get(j)):F.qe.getTargetData(A,N)).next(function(D){if(D)return g=D.lastLimboFreeSnapshotVersion,f.qe.getMatchingKeysForTargetId(w,D.targetId).next(function(A){_=A})}).next(function(){return f.xn.getDocumentsMatchingQuery(w,a,h?g:Ot.min(),h?_:Sn())}).next(function(D){return{documents:D,Bn:_}});var D,A,N,F,j})}function Eg(c,a){var h=Ue(c),f=Ue(h.qe),g=h.kn.get(a);return g?Promise.resolve(g.target):h.persistence.runTransaction("Get target data","readonly",function(_){return f.lt(_,a).next(function(w){return w?w.target:null})})}function Cg(c){var a=Ue(c);return a.persistence.runTransaction("Get new document changes","readonly",function(h){return g=h,_=a.$n,w=Ue(a.On),D=Dr(),A=pg(_),N=wu(g),F=IDBKeyRange.lowerBound(A,!0),N.$t({index:hr.readTimeIndex,range:F},function(j,z){var ee=_u(w.R,z);D=D.insert(ee.key,ee),A=z.readTime}).next(function(){return{wn:D,readTime:Dv(A)}});var g,_,w,D,A,N,F}).then(function(h){var f=h.wn;return a.$n=h.readTime,f})}function Nv(c){return(0,S.mG)(this,void 0,void 0,function(){var a;return(0,S.Jh)(this,function(h){return[2,(a=Ue(c)).persistence.runTransaction("Synchronize last document change read time","readonly",function(f){return _=wu(f),w=Ot.min(),_.$t({index:hr.readTimeIndex,reverse:!0},function(D,A,N){A.readTime&&(w=Dv(A.readTime)),N.done()}).next(function(){return w});var _,w}).then(function(f){a.$n=f})]})})}function Pv(c,a,h,f){return(0,S.mG)(this,void 0,void 0,function(){var g,_,w,D,A,N,F,j,z,ee;return(0,S.Jh)(this,function(Z){switch(Z.label){case 0:for(g=Ue(c),_=Sn(),w=Dr(),D=Ui(),A=0,N=h;A<N.length;A++)j=a.qn((F=N[A]).metadata.name),F.document&&(_=_.add(j)),w=w.insert(j,a.Un(F)),D=D.insert(j,a.Kn(F.metadata.readTime));return z=g.On.newChangeBuffer({trackRemovals:!0}),[4,_l(g,(ie=f,ji(hl(ht.fromString("__bundle__/docs/"+ie)))))];case 1:return ee=Z.sent(),[2,g.persistence.runTransaction("Apply bundle documents","readwrite",function(ie){return hn(ie,z,w,Ot.min(),D).next(function(xe){return z.apply(ie),xe}).next(function(xe){return g.qe.removeMatchingKeysForTargetId(ie,ee.targetId).next(function(){return g.qe.addMatchingKeys(ie,_,ee.targetId)}).next(function(){return g.Mn.En(ie,xe)}).next(function(){return xe})})})]}var ie})})}function Hd(c,a,h){return void 0===h&&(h=Sn()),(0,S.mG)(this,void 0,void 0,function(){var f,g;return(0,S.Jh)(this,function(_){switch(_.label){case 0:return[4,_l(c,ji(Ep(a.bundledQuery)))];case 1:return f=_.sent(),[2,(g=Ue(c)).persistence.runTransaction("Save named query","readwrite",function(w){var D=xr(a.readTime);if(f.snapshotVersion.compareTo(D)>=0)return g.Ke.saveNamedQuery(w,a);var A=f.withResumeToken(Wn.EMPTY_BYTE_STRING,D);return g.kn=g.kn.insert(A.targetId,A),g.qe.updateTargetData(w,A).next(function(){return g.qe.removeMatchingKeysForTargetId(w,f.targetId)}).next(function(){return g.qe.addMatchingKeys(w,h,f.targetId)}).next(function(){return g.Ke.saveNamedQuery(w,a)})})]}})})}var aE=function(){function c(a){this.R=a,this.Qn=new Map,this.jn=new Map}return c.prototype.getBundleMetadata=function(a,h){return Ee.resolve(this.Qn.get(h))},c.prototype.saveBundleMetadata=function(a,h){var f;return this.Qn.set(h.id,{id:(f=h).id,version:f.version,createTime:xr(f.createTime)}),Ee.resolve()},c.prototype.getNamedQuery=function(a,h){return Ee.resolve(this.jn.get(h))},c.prototype.saveNamedQuery=function(a,h){return this.jn.set(h.name,{name:(f=h).name,query:Ep(f.bundledQuery),readTime:xr(f.readTime)}),Ee.resolve();var f},c}(),Fv=function(){function c(){this.Wn=new lr(Mr.Gn),this.zn=new lr(Mr.Hn)}return c.prototype.isEmpty=function(){return this.Wn.isEmpty()},c.prototype.addReference=function(a,h){var f=new Mr(a,h);this.Wn=this.Wn.add(f),this.zn=this.zn.add(f)},c.prototype.Jn=function(a,h){var f=this;a.forEach(function(g){return f.addReference(g,h)})},c.prototype.removeReference=function(a,h){this.Yn(new Mr(a,h))},c.prototype.Xn=function(a,h){var f=this;a.forEach(function(g){return f.removeReference(g,h)})},c.prototype.Zn=function(a){var h=this,f=new pe(new ht([])),g=new Mr(f,a),_=new Mr(f,a+1),w=[];return this.zn.forEachInRange([g,_],function(D){h.Yn(D),w.push(D.key)}),w},c.prototype.ts=function(){var a=this;this.Wn.forEach(function(h){return a.Yn(h)})},c.prototype.Yn=function(a){this.Wn=this.Wn.delete(a),this.zn=this.zn.delete(a)},c.prototype.es=function(a){var h=new pe(new ht([])),f=new Mr(h,a),g=new Mr(h,a+1),_=Sn();return this.zn.forEachInRange([f,g],function(w){_=_.add(w.key)}),_},c.prototype.containsKey=function(a){var h=new Mr(a,0),f=this.Wn.firstAfterOrEqual(h);return null!==f&&a.isEqual(f.key)},c}(),Mr=function(){function c(a,h){this.key=a,this.ns=h}return c.Gn=function(a,h){return pe.comparator(a.key,h.key)||st(a.ns,h.ns)},c.Hn=function(a,h){return st(a.ns,h.ns)||pe.comparator(a.key,h.key)},c}(),io=function(){function c(a,h){this.Ut=a,this.referenceDelegate=h,this._n=[],this.ss=1,this.rs=new lr(Mr.Gn)}return c.prototype.checkEmpty=function(a){return Ee.resolve(0===this._n.length)},c.prototype.addMutationBatch=function(a,h,f,g){var _=this.ss;this.ss++;var w=new Dc(_,h,f,g);this._n.push(w);for(var D=0,A=g;D<A.length;D++){var N=A[D];this.rs=this.rs.add(new Mr(N.key,_)),this.Ut.addToCollectionParentIndex(a,N.key.path.popLast())}return Ee.resolve(w)},c.prototype.lookupMutationBatch=function(a,h){return Ee.resolve(this.os(h))},c.prototype.getNextMutationBatchAfterBatchId=function(a,h){var g=this.cs(h+1),_=g<0?0:g;return Ee.resolve(this._n.length>_?this._n[_]:null)},c.prototype.getHighestUnacknowledgedBatchId=function(){return Ee.resolve(0===this._n.length?-1:this.ss-1)},c.prototype.getAllMutationBatches=function(a){return Ee.resolve(this._n.slice())},c.prototype.getAllMutationBatchesAffectingDocumentKey=function(a,h){var f=this,g=new Mr(h,0),_=new Mr(h,Number.POSITIVE_INFINITY),w=[];return this.rs.forEachInRange([g,_],function(D){var A=f.os(D.ns);w.push(A)}),Ee.resolve(w)},c.prototype.getAllMutationBatchesAffectingDocumentKeys=function(a,h){var f=this,g=new lr(st);return h.forEach(function(_){var w=new Mr(_,0),D=new Mr(_,Number.POSITIVE_INFINITY);f.rs.forEachInRange([w,D],function(A){g=g.add(A.ns)})}),Ee.resolve(this.us(g))},c.prototype.getAllMutationBatchesAffectingQuery=function(a,h){var f=h.path,g=f.length+1,_=f;pe.isDocumentKey(_)||(_=_.child(""));var w=new Mr(new pe(_),0),D=new lr(st);return this.rs.forEachWhile(function(A){var N=A.key.path;return!!f.isPrefixOf(N)&&(N.length===g&&(D=D.add(A.ns)),!0)},w),Ee.resolve(this.us(D))},c.prototype.us=function(a){var h=this,f=[];return a.forEach(function(g){var _=h.os(g);null!==_&&f.push(_)}),f},c.prototype.removeMutationBatch=function(a,h){var f=this;mt(0===this.hs(h.batchId,"removed")),this._n.shift();var g=this.rs;return Ee.forEach(h.mutations,function(_){var w=new Mr(_.key,h.batchId);return g=g.delete(w),f.referenceDelegate.markPotentiallyOrphaned(a,_.key)}).next(function(){f.rs=g})},c.prototype.Gt=function(a){},c.prototype.containsKey=function(a,h){var f=new Mr(h,0),g=this.rs.firstAfterOrEqual(f);return Ee.resolve(h.isEqual(g&&g.key))},c.prototype.performConsistencyCheck=function(a){return Ee.resolve()},c.prototype.hs=function(a,h){return this.cs(a)},c.prototype.cs=function(a){return 0===this._n.length?0:a-this._n[0].batchId},c.prototype.os=function(a){var h=this.cs(a);return h<0||h>=this._n.length?null:this._n[h]},c}(),xp=function(){function c(a,h){this.Ut=a,this.ls=h,this.docs=new Qn(pe.comparator),this.size=0}return c.prototype.addEntry=function(a,h,f){var g=h.key,_=this.docs.get(g),w=_?_.size:0,D=this.ls(h);return this.docs=this.docs.insert(g,{document:h.clone(),size:D,readTime:f}),this.size+=D-w,this.Ut.addToCollectionParentIndex(a,g.path.popLast())},c.prototype.removeEntry=function(a){var h=this.docs.get(a);h&&(this.docs=this.docs.remove(a),this.size-=h.size)},c.prototype.getEntry=function(a,h){var f=this.docs.get(h);return Ee.resolve(f?f.document.clone():ro.newInvalidDocument(h))},c.prototype.getEntries=function(a,h){var f=this,g=Dr();return h.forEach(function(_){var w=f.docs.get(_);g=g.insert(_,w?w.document.clone():ro.newInvalidDocument(_))}),Ee.resolve(g)},c.prototype.getDocumentsMatchingQuery=function(a,h,f){for(var g=Dr(),_=new pe(h.path.child("")),w=this.docs.getIteratorFrom(_);w.hasNext();){var D=w.getNext(),N=D.value,F=N.document,j=N.readTime;if(!h.path.isPrefixOf(D.key.path))break;j.compareTo(f)<=0||uc(h,F)&&(g=g.insert(F.key,F.clone()))}return Ee.resolve(g)},c.prototype.fs=function(a,h){return Ee.forEach(this.docs,function(f){return h(f)})},c.prototype.newChangeBuffer=function(a){return new Lv(this)},c.prototype.getSize=function(a){return Ee.resolve(this.size)},c}(),Lv=function(c){function a(h){var f=this;return(f=c.call(this)||this).Ie=h,f}return(0,S.ZT)(a,c),a.prototype.applyChanges=function(h){var f=this,g=[];return this.changes.forEach(function(_,w){w.document.isValidDocument()?g.push(f.Ie.addEntry(h,w.document,f.getReadTime(_))):f.Ie.removeEntry(_)}),Ee.waitFor(g)},a.prototype.getFromCache=function(h,f){return this.Ie.getEntry(h,f)},a.prototype.getAllFromCache=function(h,f){return this.Ie.getEntries(h,f)},a}(Gs),Dg=function(){function c(a){this.persistence=a,this.ds=new Sc(function(h){return du(h)},gi),this.lastRemoteSnapshotVersion=Ot.min(),this.highestTargetId=0,this.ws=0,this._s=new Fv,this.targetCount=0,this.ys=Sp.Jt()}return c.prototype.forEachTarget=function(a,h){return this.ds.forEach(function(f,g){return h(g)}),Ee.resolve()},c.prototype.getLastRemoteSnapshotVersion=function(a){return Ee.resolve(this.lastRemoteSnapshotVersion)},c.prototype.getHighestSequenceNumber=function(a){return Ee.resolve(this.ws)},c.prototype.allocateTargetId=function(a){return this.highestTargetId=this.ys.next(),Ee.resolve(this.highestTargetId)},c.prototype.setTargetsMetadata=function(a,h,f){return f&&(this.lastRemoteSnapshotVersion=f),h>this.ws&&(this.ws=h),Ee.resolve()},c.prototype.te=function(a){this.ds.set(a.target,a);var h=a.targetId;h>this.highestTargetId&&(this.ys=new Sp(h),this.highestTargetId=h),a.sequenceNumber>this.ws&&(this.ws=a.sequenceNumber)},c.prototype.addTargetData=function(a,h){return this.te(h),this.targetCount+=1,Ee.resolve()},c.prototype.updateTargetData=function(a,h){return this.te(h),Ee.resolve()},c.prototype.removeTargetData=function(a,h){return this.ds.delete(h.target),this._s.Zn(h.targetId),this.targetCount-=1,Ee.resolve()},c.prototype.removeTargets=function(a,h,f){var g=this,_=0,w=[];return this.ds.forEach(function(D,A){A.sequenceNumber<=h&&null===f.get(A.targetId)&&(g.ds.delete(D),w.push(g.removeMatchingKeysForTargetId(a,A.targetId)),_++)}),Ee.waitFor(w).next(function(){return _})},c.prototype.getTargetCount=function(a){return Ee.resolve(this.targetCount)},c.prototype.getTargetData=function(a,h){var f=this.ds.get(h)||null;return Ee.resolve(f)},c.prototype.addMatchingKeys=function(a,h,f){return this._s.Jn(h,f),Ee.resolve()},c.prototype.removeMatchingKeys=function(a,h,f){this._s.Xn(h,f);var g=this.persistence.referenceDelegate,_=[];return g&&h.forEach(function(w){_.push(g.markPotentiallyOrphaned(a,w))}),Ee.waitFor(_)},c.prototype.removeMatchingKeysForTargetId=function(a,h){return this._s.Zn(h),Ee.resolve()},c.prototype.getMatchingKeysForTargetId=function(a,h){var f=this._s.es(h);return Ee.resolve(f)},c.prototype.containsKey=function(a,h){return Ee.resolve(this._s.containsKey(h))},c}(),qi=function(){function c(a,h){var f=this;this.gs={},this.Ne=new Co(0),this.xe=!1,this.xe=!0,this.referenceDelegate=a(this),this.qe=new Dg(this),this.Ut=new Cp,this.Ue=new xp(this.Ut,function(w){return f.referenceDelegate.ps(w)}),this.R=new wp(h),this.Ke=new aE(this.R)}return c.prototype.start=function(){return Promise.resolve()},c.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(c.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),c.prototype.setDatabaseDeletedListener=function(){},c.prototype.setNetworkEnabled=function(){},c.prototype.getIndexManager=function(){return this.Ut},c.prototype.getMutationQueue=function(a){var h=this.gs[a.toKey()];return h||(h=new io(this.Ut,this.referenceDelegate),this.gs[a.toKey()]=h),h},c.prototype.getTargetCache=function(){return this.qe},c.prototype.getRemoteDocumentCache=function(){return this.Ue},c.prototype.getBundleCache=function(){return this.Ke},c.prototype.runTransaction=function(a,h,f){var g=this;Se("MemoryPersistence","Starting transaction:",a);var _=new bh(this.Ne.next());return this.referenceDelegate.Es(),f(_).next(function(w){return g.referenceDelegate.Ts(_).next(function(){return w})}).toPromise().then(function(w){return _.raiseOnCommittedEvent(),w})},c.prototype.Is=function(a,h){return Ee.or(Object.values(this.gs).map(function(f){return function(){return f.containsKey(a,h)}}))},c}(),bh=function(c){function a(h){var f=this;return(f=c.call(this)||this).currentSequenceNumber=h,f}return(0,S.ZT)(a,c),a}(Pd),Mp=function(){function c(a){this.persistence=a,this.As=new Fv,this.Rs=null}return c.bs=function(a){return new c(a)},Object.defineProperty(c.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw ot()},enumerable:!1,configurable:!0}),c.prototype.addReference=function(a,h,f){return this.As.addReference(f,h),this.vs.delete(f.toString()),Ee.resolve()},c.prototype.removeReference=function(a,h,f){return this.As.removeReference(f,h),this.vs.add(f.toString()),Ee.resolve()},c.prototype.markPotentiallyOrphaned=function(a,h){return this.vs.add(h.toString()),Ee.resolve()},c.prototype.removeTarget=function(a,h){var f=this;this.As.Zn(h.targetId).forEach(function(_){return f.vs.add(_.toString())});var g=this.persistence.getTargetCache();return g.getMatchingKeysForTargetId(a,h.targetId).next(function(_){_.forEach(function(w){return f.vs.add(w.toString())})}).next(function(){return g.removeTargetData(a,h)})},c.prototype.Es=function(){this.Rs=new Set},c.prototype.Ts=function(a){var h=this,f=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ee.forEach(this.vs,function(g){var _=pe.fromPath(g);return h.Ps(a,_).next(function(w){w||f.removeEntry(_)})}).next(function(){return h.Rs=null,f.apply(a)})},c.prototype.updateLimboDocument=function(a,h){var f=this;return this.Ps(a,h).next(function(g){g?f.vs.delete(h.toString()):f.vs.add(h.toString())})},c.prototype.ps=function(a){return 0},c.prototype.Ps=function(a,h){var f=this;return Ee.or([function(){return Ee.resolve(f.As.containsKey(h))},function(){return f.persistence.getTargetCache().containsKey(a,h)},function(){return f.persistence.Is(a,h)}])},c}(),bi=function(){function c(a){this.uid=a}return c.prototype.isAuthenticated=function(){return null!=this.uid},c.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},c.prototype.isEqual=function(a){return a.uid===this.uid},c}();function Ig(c,a){return"firestore_clients_"+c+"_"+a}function qd(c,a,h){var f="firestore_mutations_"+c+"_"+h;return a.isAuthenticated()&&(f+="_"+a.uid),f}function Tg(c,a){return"firestore_targets_"+c+"_"+a}bi.UNAUTHENTICATED=new bi(null),bi.GOOGLE_CREDENTIALS=new bi("google-credentials-uid"),bi.FIRST_PARTY=new bi("first-party-uid"),bi.MOCK_USER=new bi("mock-user");var kp=function(){function c(a,h,f,g){this.user=a,this.batchId=h,this.state=f,this.error=g}return c.Vs=function(a,h,f){var g,_=JSON.parse(f),w="object"==typeof _&&-1!==["pending","acknowledged","rejected"].indexOf(_.state)&&(void 0===_.error||"object"==typeof _.error);return w&&_.error&&(w="string"==typeof _.error.message&&"string"==typeof _.error.code)&&(g=new ge(_.error.code,_.error.message)),w?new c(a,h,_.state,g):(zr("SharedClientState","Failed to parse mutation state for ID '"+h+"': "+f),null)},c.prototype.Ss=function(){var a={state:this.state,updateTimeMs:Date.now()};return this.error&&(a.error={code:this.error.code,message:this.error.message}),JSON.stringify(a)},c}(),zd=function(){function c(a,h,f){this.targetId=a,this.state=h,this.error=f}return c.Vs=function(a,h){var f,g=JSON.parse(h),_="object"==typeof g&&-1!==["not-current","current","rejected"].indexOf(g.state)&&(void 0===g.error||"object"==typeof g.error);return _&&g.error&&(_="string"==typeof g.error.message&&"string"==typeof g.error.code)&&(f=new ge(g.error.code,g.error.message)),_?new c(a,g.state,f):(zr("SharedClientState","Failed to parse target state for ID '"+a+"': "+h),null)},c.prototype.Ss=function(){var a={state:this.state,updateTimeMs:Date.now()};return this.error&&(a.error={code:this.error.code,message:this.error.message}),JSON.stringify(a)},c}(),wh=function(){function c(a,h){this.clientId=a,this.activeTargetIds=h}return c.Vs=function(a,h){for(var f=JSON.parse(h),g="object"==typeof f&&f.activeTargetIds instanceof Array,_=vu(),w=0;g&&w<f.activeTargetIds.length;++w)g=Je(f.activeTargetIds[w]),_=_.add(f.activeTargetIds[w]);return g?new c(a,_):(zr("SharedClientState","Failed to parse client data for instance '"+a+"': "+h),null)},c}(),Sg=function(){function c(a,h){this.clientId=a,this.onlineState=h}return c.Vs=function(a){var h=JSON.parse(a);return"object"==typeof h&&-1!==["Unknown","Online","Offline"].indexOf(h.onlineState)&&"string"==typeof h.clientId?new c(h.clientId,h.onlineState):(zr("SharedClientState","Failed to parse online state: "+a),null)},c}(),wl=function(){function c(){this.activeTargetIds=vu()}return c.prototype.Ds=function(a){this.activeTargetIds=this.activeTargetIds.add(a)},c.prototype.Cs=function(a){this.activeTargetIds=this.activeTargetIds.delete(a)},c.prototype.Ss=function(){var a={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(a)},c}(),Eu=function(){function c(a,h,f,g,_){this.window=a,this.Se=h,this.persistenceKey=f,this.Ns=g,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new Qn(st),this.started=!1,this.$s=[];var w=f.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=_,this.Os=Ig(this.persistenceKey,this.Ns),this.Ms="firestore_sequence_number_"+this.persistenceKey,this.Fs=this.Fs.insert(this.Ns,new wl),this.Ls=new RegExp("^firestore_clients_"+w+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+w+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+w+"_(\\d+)$"),this.Us="firestore_online_state_"+this.persistenceKey,this.Ks=function(D){return"firestore_bundle_loaded_"+D}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return c.yt=function(a){return!(!a||!a.localStorage)},c.prototype.start=function(){return(0,S.mG)(this,void 0,void 0,function(){var a,h,f,g,_,w,D,A,N,F,z=this;return(0,S.Jh)(this,function(ee){switch(ee.label){case 0:return[4,this.syncEngine.fn()];case 1:for(a=ee.sent(),h=0,f=a;h<f.length;h++)(g=f[h])!==this.Ns&&(_=this.getItem(Ig(this.persistenceKey,g)))&&(w=wh.Vs(g,_))&&(this.Fs=this.Fs.insert(w.clientId,w));for(this.Qs(),(D=this.storage.getItem(this.Us))&&(A=this.js(D))&&this.Ws(A),N=0,F=this.$s;N<F.length;N++)this.ks(F[N]);return this.$s=[],this.window.addEventListener("pagehide",function(){return z.shutdown()}),this.started=!0,[2]}})})},c.prototype.writeSequenceNumber=function(a){this.setItem(this.Ms,JSON.stringify(a))},c.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},c.prototype.isActiveQueryTarget=function(a){var h=!1;return this.Fs.forEach(function(f,g){g.activeTargetIds.has(a)&&(h=!0)}),h},c.prototype.addPendingMutation=function(a){this.zs(a,"pending")},c.prototype.updateMutationState=function(a,h,f){this.zs(a,h,f),this.Hs(a)},c.prototype.addLocalQueryTarget=function(a){var h="not-current";if(this.isActiveQueryTarget(a)){var f=this.storage.getItem(Tg(this.persistenceKey,a));if(f){var g=zd.Vs(a,f);g&&(h=g.state)}}return this.Js.Ds(a),this.Qs(),h},c.prototype.removeLocalQueryTarget=function(a){this.Js.Cs(a),this.Qs()},c.prototype.isLocalQueryTarget=function(a){return this.Js.activeTargetIds.has(a)},c.prototype.clearQueryState=function(a){this.removeItem(Tg(this.persistenceKey,a))},c.prototype.updateQueryState=function(a,h,f){this.Ys(a,h,f)},c.prototype.handleUserChange=function(a,h,f){var g=this;h.forEach(function(_){g.Hs(_)}),this.currentUser=a,f.forEach(function(_){g.addPendingMutation(_)})},c.prototype.setOnlineState=function(a){this.Xs(a)},c.prototype.notifyBundleLoaded=function(){this.Zs()},c.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},c.prototype.getItem=function(a){var h=this.storage.getItem(a);return Se("SharedClientState","READ",a,h),h},c.prototype.setItem=function(a,h){Se("SharedClientState","SET",a,h),this.storage.setItem(a,h)},c.prototype.removeItem=function(a){Se("SharedClientState","REMOVE",a),this.storage.removeItem(a)},c.prototype.ks=function(a){var h=this,f=a;if(f.storageArea===this.storage){if(Se("SharedClientState","EVENT",f.key,f.newValue),f.key===this.Os)return void zr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return(0,S.mG)(h,void 0,void 0,function(){var g,_,w,D,A,N;return(0,S.Jh)(this,function(F){if(this.started){if(null!==f.key)if(this.Ls.test(f.key)){if(null==f.newValue)return g=this.ti(f.key),[2,this.ei(g,null)];if(_=this.ni(f.key,f.newValue))return[2,this.ei(_.clientId,_)]}else if(this.Bs.test(f.key)){if(null!==f.newValue&&(w=this.si(f.key,f.newValue)))return[2,this.ii(w)]}else if(this.qs.test(f.key)){if(null!==f.newValue&&(D=this.ri(f.key,f.newValue)))return[2,this.oi(D)]}else if(f.key===this.Us){if(null!==f.newValue&&(A=this.js(f.newValue)))return[2,this.Ws(A)]}else if(f.key===this.Ms)(N=function(j){var z=Co.o;if(null!=j)try{var ee=JSON.parse(j);mt("number"==typeof ee),z=ee}catch(Z){zr("SharedClientState","Failed to read sequence number from WebStorage",Z)}return z}(f.newValue))!==Co.o&&this.sequenceNumberHandler(N);else if(f.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(f);return[2]})})})}},Object.defineProperty(c.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),c.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},c.prototype.zs=function(a,h,f){var g=new kp(this.currentUser,a,h,f),_=qd(this.persistenceKey,this.currentUser,a);this.setItem(_,g.Ss())},c.prototype.Hs=function(a){var h=qd(this.persistenceKey,this.currentUser,a);this.removeItem(h)},c.prototype.Xs=function(a){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:a}))},c.prototype.Ys=function(a,h,f){var g=Tg(this.persistenceKey,a),_=new zd(a,h,f);this.setItem(g,_.Ss())},c.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},c.prototype.ti=function(a){var h=this.Ls.exec(a);return h?h[1]:null},c.prototype.ni=function(a,h){var f=this.ti(a);return wh.Vs(f,h)},c.prototype.si=function(a,h){var f=this.Bs.exec(a),g=Number(f[1]);return kp.Vs(new bi(void 0!==f[2]?f[2]:null),g,h)},c.prototype.ri=function(a,h){var f=this.qs.exec(a),g=Number(f[1]);return zd.Vs(g,h)},c.prototype.js=function(a){return Sg.Vs(a)},c.prototype.ii=function(a){return(0,S.mG)(this,void 0,void 0,function(){return(0,S.Jh)(this,function(h){return a.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(a.batchId,a.state,a.error)]:(Se("SharedClientState","Ignoring mutation for non-active user "+a.user.uid),[2])})})},c.prototype.oi=function(a){return this.syncEngine.ai(a.targetId,a.state,a.error)},c.prototype.ei=function(a,h){var f=this,g=h?this.Fs.insert(a,h):this.Fs.remove(a),_=this.Gs(this.Fs),w=this.Gs(g),D=[],A=[];return w.forEach(function(N){_.has(N)||D.push(N)}),_.forEach(function(N){w.has(N)||A.push(N)}),this.syncEngine.hi(D,A).then(function(){f.Fs=g})},c.prototype.Ws=function(a){this.Fs.get(a.clientId)&&this.onlineStateHandler(a.onlineState)},c.prototype.Gs=function(a){var h=vu();return a.forEach(function(f,g){h=h.unionWith(g.activeTargetIds)}),h},c}(),El=function(){function c(){this.li=new wl,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return c.prototype.addPendingMutation=function(a){},c.prototype.updateMutationState=function(a,h,f){},c.prototype.addLocalQueryTarget=function(a){return this.li.Ds(a),this.fi[a]||"not-current"},c.prototype.updateQueryState=function(a,h,f){this.fi[a]=h},c.prototype.removeLocalQueryTarget=function(a){this.li.Cs(a)},c.prototype.isLocalQueryTarget=function(a){return this.li.activeTargetIds.has(a)},c.prototype.clearQueryState=function(a){delete this.fi[a]},c.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},c.prototype.isActiveQueryTarget=function(a){return this.li.activeTargetIds.has(a)},c.prototype.start=function(){return this.li=new wl,Promise.resolve()},c.prototype.handleUserChange=function(a,h,f){},c.prototype.setOnlineState=function(a){},c.prototype.shutdown=function(){},c.prototype.writeSequenceNumber=function(a){},c.prototype.notifyBundleLoaded=function(){},c}(),Bv=function(){function c(){}return c.prototype.di=function(a){},c.prototype.shutdown=function(){},c}(),Gd=function(){function c(){var a=this;this.wi=function(){return a._i()},this.mi=function(){return a.yi()},this.gi=[],this.pi()}return c.prototype.di=function(a){this.gi.push(a)},c.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},c.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},c.prototype._i=function(){Se("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var a=0,h=this.gi;a<h.length;a++)(0,h[a])(0)},c.prototype.yi=function(){Se("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var a=0,h=this.gi;a<h.length;a++)(0,h[a])(1)},c.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},c}(),Wb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Vv=function(){function c(a){this.Ei=a.Ei,this.Ti=a.Ti}return c.prototype.Ii=function(a){this.Ai=a},c.prototype.Ri=function(a){this.bi=a},c.prototype.onMessage=function(a){this.vi=a},c.prototype.close=function(){this.Ti()},c.prototype.send=function(a){this.Ei(a)},c.prototype.Pi=function(){this.Ai()},c.prototype.Vi=function(a){this.bi(a)},c.prototype.Si=function(a){this.vi(a)},c}(),Ya=function(c){function a(h){var f=this;return(f=c.call(this,h)||this).forceLongPolling=h.forceLongPolling,f.autoDetectLongPolling=h.autoDetectLongPolling,f.useFetchStreams=h.useFetchStreams,f}return(0,S.ZT)(a,c),a.prototype.Fi=function(h,f,g,_){return new Promise(function(w,D){var A=new eg;A.listenOnce(uv.COMPLETE,function(){try{switch(A.getLastErrorCode()){case Qf.NO_ERROR:var F=A.getResponseJson();Se("Connection","XHR received:",JSON.stringify(F)),w(F);break;case Qf.TIMEOUT:Se("Connection",'RPC "'+h+'" timed out'),D(new ge(oe.DEADLINE_EXCEEDED,"Request time out"));break;case Qf.HTTP_ERROR:var j=A.getStatus();if(Se("Connection",'RPC "'+h+'" failed with status:',j,"response text:",A.getResponseText()),j>0){var z=A.getResponseJson().error;if(z&&z.status&&z.message){var ee=(ie=z.status.toLowerCase().replace(/_/g,"-"),Object.values(oe).indexOf(ie)>=0?ie:oe.UNKNOWN);D(new ge(ee,z.message))}else D(new ge(oe.UNKNOWN,"Server responded with status "+A.getStatus()))}else D(new ge(oe.UNAVAILABLE,"Connection failed."));break;default:ot()}}finally{Se("Connection",'RPC "'+h+'" completed.')}var ie});var N=JSON.stringify(_);A.send(f,"POST",N,g,15)})},a.prototype.Oi=function(h,f){var g=[this.Di,"/","google.firestore.v1.Firestore","/",h,"/channel"],_=new Xm,w=sa(),D={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(D.xmlHttpFactory=new sl({})),this.ki(D.initMessageHeaders,f),(0,Ze.uI)()||(0,Ze.b$)()||(0,Ze.d)()||(0,Ze.w1)()||(0,Ze.Mn)()||(0,Ze.ru)()||(D.httpHeadersOverwriteParam="$httpHeaders");var A=g.join("");Se("Connection","Creating WebChannel: "+A,D);var N=_.createWebChannel(A,D),F=!1,j=!1,z=new Vv({Ei:function(Z){j?Se("Connection","Not sending because WebChannel is closed:",Z):(F||(Se("Connection","Opening WebChannel transport."),N.open(),F=!0),Se("Connection","WebChannel sending:",Z),N.send(Z))},Ti:function(){return N.close()}}),ee=function(Z,ie,xe){Z.listen(ie,function(Ve){try{xe(Ve)}catch(pt){setTimeout(function(){throw pt},0)}})};return ee(N,dd.EventType.OPEN,function(){j||Se("Connection","WebChannel transport opened.")}),ee(N,dd.EventType.CLOSE,function(){j||(j=!0,Se("Connection","WebChannel transport closed"),z.Vi())}),ee(N,dd.EventType.ERROR,function(Z){j||(j=!0,fd("Connection","WebChannel transport errored:",Z),z.Vi(new ge(oe.UNAVAILABLE,"The operation could not be completed")))}),ee(N,dd.EventType.MESSAGE,function(Z){var ie;if(!j){var xe=Z.data[0];mt(!!xe);var pt=xe.error||(null===(ie=xe[0])||void 0===ie?void 0:ie.error);if(pt){Se("Connection","WebChannel received error:",pt);var vt=pt.status,nn=function(ir){var Mo=_r[ir];if(void 0!==Mo)return sg(Mo)}(vt),In=pt.message;void 0===nn&&(nn=oe.INTERNAL,In="Unknown error status: "+vt+" with message "+pt.message),j=!0,z.Vi(new ge(nn,In)),N.close()}else Se("Connection","WebChannel received:",xe),z.Si(xe)}}),ee(w,Ob.STAT_EVENT,function(Z){Z.stat===Zm_PROXY?Se("Connection","Detected buffering proxy"):Z.stat===Zm_NOPROXY&&Se("Connection","Detected no buffering proxy")}),setTimeout(function(){z.Pi()},0),z},a}(function(){function c(a){this.databaseInfo=a,this.databaseId=a.databaseId,this.Di=(a.ssl?"https":"http")+"://"+a.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return c.prototype.Ni=function(a,h,f,g){var _=this.xi(a,h);Se("RestConnection","Sending: ",_,f);var w={};return this.ki(w,g),this.Fi(a,_,w,f).then(function(D){return Se("RestConnection","Received: ",D),D},function(D){throw fd("RestConnection",a+" failed with error: ",D,"url: ",_,"request:",f),D})},c.prototype.$i=function(a,h,f,g){return this.Ni(a,h,f,g)},c.prototype.ki=function(a,h){if(a["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",a["Content-Type"]="text/plain",this.databaseInfo.appId&&(a["X-Firebase-GMPID"]=this.databaseInfo.appId),h)for(var f in h.authHeaders)h.authHeaders.hasOwnProperty(f)&&(a[f]=h.authHeaders[f])},c.prototype.xi=function(a,h){return this.Di+"/v1/"+h+":"+Wb[a]},c}());function Eh(){return"undefined"!=typeof window?window:null}function Cl(){return"undefined"!=typeof document?document:null}function Ch(c){return new yv(c,!0)}var Ag=function(){function c(a,h,f,g,_){void 0===f&&(f=1e3),void 0===g&&(g=1.5),void 0===_&&(_=6e4),this.Se=a,this.timerId=h,this.Mi=f,this.Li=g,this.Bi=_,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return c.prototype.reset=function(){this.qi=0},c.prototype.Qi=function(){this.qi=this.Bi},c.prototype.ji=function(a){var h=this;this.cancel();var f=Math.floor(this.qi+this.Wi()),g=Math.max(0,Date.now()-this.Ki),_=Math.max(0,f-g);_>0&&Se("ExponentialBackoff","Backing off for "+_+" ms (base delay: "+this.qi+" ms, delay with jitter: "+f+" ms, last attempt: "+g+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,_,function(){return h.Ki=Date.now(),a()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},c.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},c.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},c.prototype.Wi=function(){return(Math.random()-.5)*this.qi},c}(),Rp=function(){function c(a,h,f,g,_,w){this.Se=a,this.zi=f,this.Hi=g,this.Ji=_,this.listener=w,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Ag(a,h)}return c.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},c.prototype.er=function(){return 2===this.state},c.prototype.start=function(){3!==this.state?this.auth():this.nr()},c.prototype.stop=function(){return(0,S.mG)(this,void 0,void 0,function(){return(0,S.Jh)(this,function(a){switch(a.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},c.prototype.sr=function(){this.state=0,this.Zi.reset()},c.prototype.ir=function(){var a=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return a.rr()}))},c.prototype.cr=function(a){this.ur(),this.stream.send(a)},c.prototype.rr=function(){return(0,S.mG)(this,void 0,void 0,function(){return(0,S.Jh)(this,function(a){return this.er()?[2,this.close(0)]:[2]})})},c.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},c.prototype.close=function(a,h){return(0,S.mG)(this,void 0,void 0,function(){return(0,S.Jh)(this,function(f){switch(f.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==a?this.Zi.reset():h&&h.code===oe.RESOURCE_EXHAUSTED?(zr(h.toString()),zr("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):h&&h.code===oe.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=a,[4,this.listener.Ri(h)];case 1:return f.sent(),[2]}})})},c.prototype.ar=function(){},c.prototype.auth=function(){var a=this;this.state=1;var h=this.hr(this.Yi),f=this.Yi;this.Ji.getToken().then(function(g){a.Yi===f&&a.lr(g)},function(g){h(function(){var _=new ge(oe.UNKNOWN,"Fetching auth token failed: "+g.message);return a.dr(_)})})},c.prototype.lr=function(a){var h=this,f=this.hr(this.Yi);this.stream=this.wr(a),this.stream.Ii(function(){f(function(){return h.state=2,h.listener.Ii()})}),this.stream.Ri(function(g){f(function(){return h.dr(g)})}),this.stream.onMessage(function(g){f(function(){return h.onMessage(g)})})},c.prototype.nr=function(){var a=this;this.state=4,this.Zi.ji(function(){return(0,S.mG)(a,void 0,void 0,function(){return(0,S.Jh)(this,function(h){return this.state=0,this.start(),[2]})})})},c.prototype.dr=function(a){return Se("PersistentStream","close with error: "+a),this.stream=null,this.close(3,a)},c.prototype.hr=function(a){var h=this;return function(f){h.Se.enqueueAndForget(function(){return h.Yi===a?f():(Se("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},c}(),Op=function(c){function a(h,f,g,_,w){var D=this;return(D=c.call(this,h,"listen_stream_connection_backoff","listen_stream_idle",f,g,w)||this).R=_,D}return(0,S.ZT)(a,c),a.prototype.wr=function(h){return this.Hi.Oi("Listen",h)},a.prototype.onMessage=function(h){this.Zi.reset();var f=function(_,w){var D,xe;if("targetChange"in w){var A="NO_CHANGE"===(xe=w.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===xe?1:"REMOVE"===xe?2:"CURRENT"===xe?3:"RESET"===xe?4:ot(),N=w.targetChange.targetIds||[],F=function(xe,Ve){return xe.I?(mt(void 0===Ve||"string"==typeof Ve),Wn.fromBase64String(Ve||"")):(mt(void 0===Ve||Ve instanceof Uint8Array),Wn.fromUint8Array(Ve||new Uint8Array))}(_,w.targetChange.resumeToken),j=(z=w.targetChange.cause)&&function(xe){var Ve=void 0===xe.code?oe.UNKNOWN:sg(xe.code);return new ge(Ve,xe.message||"")}(z);D=new _c(A,N,F,j||null)}else if("documentChange"in w){N=So(_,(A=w.documentChange).document.name),F=xr(A.document.updateTime);var z=new mi({mapValue:{fields:A.document.fields}}),ee=(j=ro.newFoundDocument(N,F,z),A.targetIds||[]);D=new yc(ee,A.removedTargetIds||[],j.key,j)}else if("documentDelete"in w)N=So(_,(A=w.documentDelete).document),F=A.readTime?xr(A.readTime):Ot.min(),z=ro.newNoDocument(N,F),D=new yc([],j=A.removedTargetIds||[],z.key,z);else if("documentRemove"in w)N=So(_,(A=w.documentRemove).document),D=new yc([],F=A.removedTargetIds||[],N,null);else{if(!("filter"in w))return ot();var ie=w.filter;N=new Ad(A=ie.count||0),D=new vc(F=ie.targetId,N)}return D}(this.R,h),g=function(_){if(!("targetChange"in _))return Ot.min();var w=_.targetChange;return w.targetIds&&w.targetIds.length?Ot.min():w.readTime?xr(w.readTime):Ot.min()}(h);return this.listener._r(f,g)},a.prototype.mr=function(h){var _,w,D,A,f={};f.database=xi(this.R),f.addTarget=(_=this.R,(D=js(A=(w=h).target)?{documents:fh(_,A)}:{query:ph(_,A)}).targetId=w.targetId,w.resumeToken.approximateByteSize()>0?D.resumeToken=ug(_,w.resumeToken):w.snapshotVersion.compareTo(Ot.min())>0&&(D.readTime=hp(_,w.snapshotVersion.toTimestamp())),D);var g=function(_,w){var D=function(A,N){switch(N){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ot()}}(0,w.purpose);return null==D?null:{"goog-listen-tags":D}}(0,h);g&&(f.labels=g),this.cr(f)},a.prototype.yr=function(h){var f={};f.database=xi(this.R),f.removeTarget=h,this.cr(f)},a}(Rp),jv=function(c){function a(h,f,g,_,w){var D=this;return(D=c.call(this,h,"write_stream_connection_backoff","write_stream_idle",f,g,w)||this).R=_,D.gr=!1,D}return(0,S.ZT)(a,c),Object.defineProperty(a.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),a.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,c.prototype.start.call(this)},a.prototype.ar=function(){this.gr&&this.Er([])},a.prototype.wr=function(h){return this.Hi.Oi("Write",h)},a.prototype.onMessage=function(h){if(mt(!!h.streamToken),this.lastStreamToken=h.streamToken,this.gr){this.Zi.reset();var f=(w=h.commitTime,(_=h.writeResults)&&_.length>0?(mt(void 0!==w),_.map(function(D){return N=w,(F=xr((A=D).updateTime?A.updateTime:N)).isEqual(Ot.min())&&(F=xr(N)),new hc(F,A.transformResults||[]);var A,N,F})):[]),g=xr(h.commitTime);return this.listener.Tr(g,f)}var _,w;return mt(!h.writeResults||0===h.writeResults.length),this.gr=!0,this.listener.Ir()},a.prototype.Ar=function(){var h={};h.database=xi(this.R),this.cr(h)},a.prototype.Er=function(h){var f=this,g={streamToken:this.lastStreamToken,writes:h.map(function(_){return $a(f.R,_)})};this.cr(g)},a}(Rp),Qb=function(c){function a(h,f,g){var _=this;return(_=c.call(this)||this).credentials=h,_.Hi=f,_.R=g,_.Rr=!1,_}return(0,S.ZT)(a,c),a.prototype.br=function(){if(this.Rr)throw new ge(oe.FAILED_PRECONDITION,"The client has already been terminated.")},a.prototype.Ni=function(h,f,g){var _=this;return this.br(),this.credentials.getToken().then(function(w){return _.Hi.Ni(h,f,g,w)}).catch(function(w){throw"FirebaseError"===w.name?(w.code===oe.UNAUTHENTICATED&&_.credentials.invalidateToken(),w):new ge(oe.UNKNOWN,w.toString())})},a.prototype.$i=function(h,f,g){var _=this;return this.br(),this.credentials.getToken().then(function(w){return _.Hi.$i(h,f,g,w)}).catch(function(w){throw"FirebaseError"===w.name?(w.code===oe.UNAUTHENTICATED&&_.credentials.invalidateToken(),w):new ge(oe.UNKNOWN,w.toString())})},a.prototype.terminate=function(){this.Rr=!0},a}(function(){}),Yb=function(){function c(a,h){this.asyncQueue=a,this.onlineStateHandler=h,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return c.prototype.Sr=function(){var a=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return a.Pr=null,a.Cr("Backend didn't respond within 10 seconds."),a.Dr("Offline"),Promise.resolve()}))},c.prototype.Nr=function(a){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+a.toString()),this.Dr("Offline")))},c.prototype.set=function(a){this.kr(),this.vr=0,"Online"===a&&(this.Vr=!1),this.Dr(a)},c.prototype.Dr=function(a){a!==this.state&&(this.state=a,this.onlineStateHandler(a))},c.prototype.Cr=function(a){var h="Could not reach Cloud Firestore backend. "+a+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(zr(h),this.Vr=!1):Se("OnlineStateTracker",h)},c.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},c}(),xg=function(c,a,h,f,g){var _=this;this.localStore=c,this.datastore=a,this.asyncQueue=h,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=g,this.Lr.di(function(w){h.enqueueAndForget(function(){return(0,S.mG)(_,void 0,void 0,function(){return(0,S.Jh)(this,function(D){switch(D.label){case 0:return ys(this)?(Se("RemoteStore","Restarting streams for network reachability change."),[4,function(A){return(0,S.mG)(this,void 0,void 0,function(){var N;return(0,S.Jh)(this,function(F){switch(F.label){case 0:return(N=Ue(A)).Or.add(4),[4,Ih(N)];case 1:return F.sent(),N.Br.set("Unknown"),N.Or.delete(4),[4,Dh(N)];case 2:return F.sent(),[2]}})})}(this)]):[3,2];case 1:D.sent(),D.label=2;case 2:return[2]}})})})}),this.Br=new Yb(h,f)};function Dh(c){return(0,S.mG)(this,void 0,void 0,function(){var a,h;return(0,S.Jh)(this,function(f){switch(f.label){case 0:if(!ys(c))return[3,4];a=0,h=c.Mr,f.label=1;case 1:return a<h.length?[4,(0,h[a])(!0)]:[3,4];case 2:f.sent(),f.label=3;case 3:return a++,[3,1];case 4:return[2]}})})}function Ih(c){return(0,S.mG)(this,void 0,void 0,function(){var a,h;return(0,S.Jh)(this,function(f){switch(f.label){case 0:a=0,h=c.Mr,f.label=1;case 1:return a<h.length?[4,(0,h[a])(!1)]:[3,4];case 2:f.sent(),f.label=3;case 3:return a++,[3,1];case 4:return[2]}})})}function Np(c,a){var h=Ue(c);h.$r.has(a.targetId)||(h.$r.set(a.targetId,a),Pp(h)?Mg(h):xc(h).er()&&gs(h,a))}function $d(c,a){var h=Ue(c),f=xc(h);h.$r.delete(a),f.er()&&wa(h,a),0===h.$r.size&&(f.er()?f.ir():ys(h)&&h.Br.set("Unknown"))}function gs(c,a){c.qr.U(a.targetId),xc(c).mr(a)}function wa(c,a){c.qr.U(a),xc(c).yr(a)}function Mg(c){c.qr=new lp({getRemoteKeysForTarget:function(a){return c.remoteSyncer.getRemoteKeysForTarget(a)},lt:function(a){return c.$r.get(a)||null}}),xc(c).start(),c.Br.Sr()}function Pp(c){return ys(c)&&!xc(c).tr()&&c.$r.size>0}function ys(c){return 0===Ue(c).Or.size}function Dl(c){c.qr=void 0}function ki(c){return(0,S.mG)(this,void 0,void 0,function(){return(0,S.Jh)(this,function(a){return c.$r.forEach(function(h,f){gs(c,h)}),[2]})})}function kg(c,a){return(0,S.mG)(this,void 0,void 0,function(){return(0,S.Jh)(this,function(h){return Dl(c),Pp(c)?(c.Br.Nr(a),Mg(c)):c.Br.set("Unknown"),[2]})})}function Ac(c,a,h){return(0,S.mG)(this,void 0,void 0,function(){var f,g,_;return(0,S.Jh)(this,function(w){switch(w.label){case 0:if(c.Br.set("Online"),!(a instanceof _c&&2===a.state&&a.cause))return[3,6];w.label=1;case 1:return w.trys.push([1,3,,5]),[4,function(D,A){return(0,S.mG)(this,void 0,void 0,function(){var N,F,j,z;return(0,S.Jh)(this,function(ee){switch(ee.label){case 0:N=A.cause,F=0,j=A.targetIds,ee.label=1;case 1:return F<j.length?D.$r.has(z=j[F])?[4,D.remoteSyncer.rejectListen(z,N)]:[3,3]:[3,5];case 2:ee.sent(),D.$r.delete(z),D.qr.removeTarget(z),ee.label=3;case 3:ee.label=4;case 4:return F++,[3,1];case 5:return[2]}})})}(c,a)];case 2:return w.sent(),[3,5];case 3:return f=w.sent(),Se("RemoteStore","Failed to remove targets %s: %s ",a.targetIds.join(","),f),[4,Fp(c,f)];case 4:return w.sent(),[3,5];case 5:return[3,13];case 6:if(a instanceof yc?c.qr.X(a):a instanceof vc?c.qr.rt(a):c.qr.et(a),h.isEqual(Ot.min()))return[3,13];w.label=7;case 7:return w.trys.push([7,11,,13]),[4,Ap(c.localStore)];case 8:return g=w.sent(),h.compareTo(g)>=0?[4,(D=c,A=h,N=D.qr.ut(A),N.targetChanges.forEach(function(F,j){if(F.resumeToken.approximateByteSize()>0){var z=D.$r.get(j);z&&D.$r.set(j,z.withResumeToken(F.resumeToken,A))}}),N.targetMismatches.forEach(function(F){var j=D.$r.get(F);if(j){D.$r.set(F,j.withResumeToken(Wn.EMPTY_BYTE_STRING,j.snapshotVersion)),wa(D,F);var z=new fg(j.target,F,1,j.sequenceNumber);gs(D,z)}}),D.remoteSyncer.applyRemoteEvent(N))]:[3,10];case 9:w.sent(),w.label=10;case 10:return[3,13];case 11:return Se("RemoteStore","Failed to raise snapshot:",_=w.sent()),[4,Fp(c,_)];case 12:return w.sent(),[3,13];case 13:return[2]}var D,A,N})})}function Fp(c,a,h){return(0,S.mG)(this,void 0,void 0,function(){var f=this;return(0,S.Jh)(this,function(g){switch(g.label){case 0:if(!Cc(a))throw a;return c.Or.add(1),[4,Ih(c)];case 1:return g.sent(),c.Br.set("Offline"),h||(h=function(){return Ap(c.localStore)}),c.asyncQueue.enqueueRetryable(function(){return(0,S.mG)(f,void 0,void 0,function(){return(0,S.Jh)(this,function(_){switch(_.label){case 0:return Se("RemoteStore","Retrying IndexedDB access"),[4,h()];case 1:return _.sent(),c.Or.delete(1),[4,Dh(c)];case 2:return _.sent(),[2]}})})}),[2]}})})}function Kd(c,a){return a().catch(function(h){return Fp(c,h,a)})}function Xa(c){return(0,S.mG)(this,void 0,void 0,function(){var a,h,f,g,_;return(0,S.Jh)(this,function(w){switch(w.label){case 0:a=Ue(c),h=Ja(a),f=a.Fr.length>0?a.Fr[a.Fr.length-1].batchId:-1,w.label=1;case 1:if(!(ys(D=a)&&D.Fr.length<10))return[3,7];w.label=2;case 2:return w.trys.push([2,4,,6]),[4,Kb(a.localStore,f)];case 3:return null===(g=w.sent())?(0===a.Fr.length&&h.ir(),[3,7]):(f=g.batchId,function(D,A){D.Fr.push(A);var N=Ja(D);N.er()&&N.pr&&N.Er(A.mutations)}(a,g),[3,6]);case 4:return _=w.sent(),[4,Fp(a,_)];case 5:return w.sent(),[3,6];case 6:return[3,1];case 7:return Wd(a)&&Rg(a),[2]}var D})})}function Wd(c){return ys(c)&&!Ja(c).tr()&&c.Fr.length>0}function Rg(c){Ja(c).start()}function Og(c){return(0,S.mG)(this,void 0,void 0,function(){return(0,S.Jh)(this,function(a){return Ja(c).Ar(),[2]})})}function Ng(c){return(0,S.mG)(this,void 0,void 0,function(){var a,h,f;return(0,S.Jh)(this,function(_){for(a=Ja(c),h=0,f=c.Fr;h<f.length;h++)a.Er(f[h].mutations);return[2]})})}function Qd(c,a,h){return(0,S.mG)(this,void 0,void 0,function(){var f,g;return(0,S.Jh)(this,function(_){switch(_.label){case 0:return f=c.Fr.shift(),g=Bb.from(f,a,h),[4,Kd(c,function(){return c.remoteSyncer.applySuccessfulWrite(g)})];case 1:return _.sent(),[4,Xa(c)];case 2:return _.sent(),[2]}})})}function Pg(c,a){return(0,S.mG)(this,void 0,void 0,function(){return(0,S.Jh)(this,function(h){switch(h.label){case 0:return a&&Ja(c).pr?[4,function(f,g){return(0,S.mG)(this,void 0,void 0,function(){var _,w;return(0,S.Jh)(this,function(D){switch(D.label){case 0:return yu(w=g.code)&&w!==oe.ABORTED?(_=f.Fr.shift(),Ja(f).sr(),[4,Kd(f,function(){return f.remoteSyncer.rejectFailedWrite(_.batchId,g)})]):[3,3];case 1:return D.sent(),[4,Xa(f)];case 2:D.sent(),D.label=3;case 3:return[2]}})})}(c,a)]:[3,2];case 1:h.sent(),h.label=2;case 2:return Wd(c)&&Rg(c),[2]}})})}function Cu(c,a){return(0,S.mG)(this,void 0,void 0,function(){var h;return(0,S.Jh)(this,function(f){switch(f.label){case 0:return h=Ue(c),a?(h.Or.delete(2),[4,Dh(h)]):[3,2];case 1:return f.sent(),[3,5];case 2:return a?[3,4]:(h.Or.add(2),[4,Ih(h)]);case 3:f.sent(),h.Br.set("Unknown"),f.label=4;case 4:f.label=5;case 5:return[2]}})})}function xc(c){var h,f,g,_,a=this;return c.Ur||(c.Ur=(h=c.datastore,f=c.asyncQueue,g={Ii:ki.bind(null,c),Ri:kg.bind(null,c),_r:Ac.bind(null,c)},(_=Ue(h)).br(),new Op(f,_.Hi,_.credentials,_.R,g)),c.Mr.push(function(h){return(0,S.mG)(a,void 0,void 0,function(){return(0,S.Jh)(this,function(f){switch(f.label){case 0:return h?(c.Ur.sr(),Pp(c)?Mg(c):c.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,c.Ur.stop()];case 2:f.sent(),Dl(c),f.label=3;case 3:return[2]}})})})),c.Ur}function Ja(c){var h,f,g,_,a=this;return c.Kr||(c.Kr=(h=c.datastore,f=c.asyncQueue,g={Ii:Og.bind(null,c),Ri:Pg.bind(null,c),Ir:Ng.bind(null,c),Tr:Qd.bind(null,c)},(_=Ue(h)).br(),new jv(f,_.Hi,_.credentials,_.R,g)),c.Mr.push(function(h){return(0,S.mG)(a,void 0,void 0,function(){return(0,S.Jh)(this,function(f){switch(f.label){case 0:return h?(c.Kr.sr(),[4,Xa(c)]):[3,2];case 1:return f.sent(),[3,4];case 2:return[4,c.Kr.stop()];case 3:f.sent(),c.Fr.length>0&&(Se("RemoteStore","Stopping write stream with "+c.Fr.length+" pending writes"),c.Fr=[]),f.label=4;case 4:return[2]}})})})),c.Kr}var Fg=function(){function c(a,h,f,g,_){this.asyncQueue=a,this.timerId=h,this.targetTimeMs=f,this.op=g,this.removalCallback=_,this.deferred=new dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(w){})}return c.createAndSchedule=function(a,h,f,g,_){var w=new c(a,h,Date.now()+f,g,_);return w.start(f),w},c.prototype.start=function(a){var h=this;this.timerHandle=setTimeout(function(){return h.handleDelayElapsed()},a)},c.prototype.skipDelay=function(){return this.handleDelayElapsed()},c.prototype.cancel=function(a){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ge(oe.CANCELLED,"Operation cancelled"+(a?": "+a:""))))},c.prototype.handleDelayElapsed=function(){var a=this;this.asyncQueue.enqueueAndForget(function(){return null!==a.timerHandle?(a.clearTimeout(),a.op().then(function(h){return a.deferred.resolve(h)})):Promise.resolve()})},c.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},c}();function Du(c,a){if(zr("AsyncQueue",a+": "+c),Cc(c))return new ge(oe.UNAVAILABLE,a+": "+c);throw c}var Lp=function(){function c(a){this.comparator=a?function(h,f){return a(h,f)||pe.comparator(h.key,f.key)}:function(h,f){return pe.comparator(h.key,f.key)},this.keyedMap=hh(),this.sortedSet=new Qn(this.comparator)}return c.emptySet=function(a){return new c(a.comparator)},c.prototype.has=function(a){return null!=this.keyedMap.get(a)},c.prototype.get=function(a){return this.keyedMap.get(a)},c.prototype.first=function(){return this.sortedSet.minKey()},c.prototype.last=function(){return this.sortedSet.maxKey()},c.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},c.prototype.indexOf=function(a){var h=this.keyedMap.get(a);return h?this.sortedSet.indexOf(h):-1},Object.defineProperty(c.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),c.prototype.forEach=function(a){this.sortedSet.inorderTraversal(function(h,f){return a(h),!1})},c.prototype.add=function(a){var h=this.delete(a.key);return h.copy(h.keyedMap.insert(a.key,a),h.sortedSet.insert(a,null))},c.prototype.delete=function(a){var h=this.get(a);return h?this.copy(this.keyedMap.remove(a),this.sortedSet.remove(h)):this},c.prototype.isEqual=function(a){if(!(a instanceof c)||this.size!==a.size)return!1;for(var h=this.sortedSet.getIterator(),f=a.sortedSet.getIterator();h.hasNext();){var g=h.getNext().key,_=f.getNext().key;if(!g.isEqual(_))return!1}return!0},c.prototype.toString=function(){var a=[];return this.forEach(function(h){a.push(h.toString())}),0===a.length?"DocumentSet ()":"DocumentSet (\n  "+a.join("  \n")+"\n)"},c.prototype.copy=function(a,h){var f=new c;return f.comparator=this.comparator,f.keyedMap=a,f.sortedSet=h,f},c}(),Bp=function(){function c(){this.Qr=new Qn(pe.comparator)}return c.prototype.track=function(a){var h=a.doc.key,f=this.Qr.get(h);f?0!==a.type&&3===f.type?this.Qr=this.Qr.insert(h,a):3===a.type&&1!==f.type?this.Qr=this.Qr.insert(h,{type:f.type,doc:a.doc}):2===a.type&&2===f.type?this.Qr=this.Qr.insert(h,{type:2,doc:a.doc}):2===a.type&&0===f.type?this.Qr=this.Qr.insert(h,{type:0,doc:a.doc}):1===a.type&&0===f.type?this.Qr=this.Qr.remove(h):1===a.type&&2===f.type?this.Qr=this.Qr.insert(h,{type:1,doc:f.doc}):0===a.type&&1===f.type?this.Qr=this.Qr.insert(h,{type:2,doc:a.doc}):ot():this.Qr=this.Qr.insert(h,a)},c.prototype.jr=function(){var a=[];return this.Qr.inorderTraversal(function(h,f){a.push(f)}),a},c}(),Yd=function(){function c(a,h,f,g,_,w,D,A){this.query=a,this.docs=h,this.oldDocs=f,this.docChanges=g,this.mutatedKeys=_,this.fromCache=w,this.syncStateChanged=D,this.excludesMetadataChanges=A}return c.fromInitialDocuments=function(a,h,f,g){var _=[];return h.forEach(function(w){_.push({type:0,doc:w})}),new c(a,h,Lp.emptySet(h),_,f,g,!0,!1)},Object.defineProperty(c.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),c.prototype.isEqual=function(a){if(!(this.fromCache===a.fromCache&&this.syncStateChanged===a.syncStateChanged&&this.mutatedKeys.isEqual(a.mutatedKeys)&&Ed(this.query,a.query)&&this.docs.isEqual(a.docs)&&this.oldDocs.isEqual(a.oldDocs)))return!1;var h=this.docChanges,f=a.docChanges;if(h.length!==f.length)return!1;for(var g=0;g<h.length;g++)if(h[g].type!==f[g].type||!h[g].doc.isEqual(f[g].doc))return!1;return!0},c}(),Uv=function(){this.Wr=void 0,this.listeners=[]},Xb=function(){this.queries=new Sc(function(c){return fv(c)},Ed),this.onlineState="Unknown",this.Gr=new Set};function Vp(c,a){return(0,S.mG)(this,void 0,void 0,function(){var h,f,g,_,w,D,A;return(0,S.Jh)(this,function(N){switch(N.label){case 0:if(h=Ue(c),g=!1,(_=h.queries.get(f=a.query))||(g=!0,_=new Uv),!g)return[3,4];N.label=1;case 1:return N.trys.push([1,3,,4]),w=_,[4,h.onListen(f)];case 2:return w.Wr=N.sent(),[3,4];case 3:return D=N.sent(),A=Du(D,"Initialization of query '"+ih(a.query)+"' failed"),[2,void a.onError(A)];case 4:return h.queries.set(f,_),_.listeners.push(a),a.zr(h.onlineState),_.Wr&&a.Hr(_.Wr)&&Xd(h),[2]}})})}function Il(c,a){return(0,S.mG)(this,void 0,void 0,function(){var h,f,g,_,w;return(0,S.Jh)(this,function(D){return h=Ue(c),g=!1,(_=h.queries.get(f=a.query))&&(w=_.listeners.indexOf(a))>=0&&(_.listeners.splice(w,1),g=0===_.listeners.length),g?[2,(h.queries.delete(f),h.onUnlisten(f))]:[2]})})}function Lg(c,a){for(var h=Ue(c),f=!1,g=0,_=a;g<_.length;g++){var w=_[g],A=h.queries.get(w.query);if(A){for(var N=0,F=A.listeners;N<F.length;N++)F[N].Hr(w)&&(f=!0);A.Wr=w}}f&&Xd(h)}function Hv(c,a,h){var f=Ue(c),g=f.queries.get(a);if(g)for(var _=0,w=g.listeners;_<w.length;_++)w[_].onError(h);f.queries.delete(a)}function Xd(c){c.Gr.forEach(function(a){a.next()})}var jp=function(){function c(a,h,f){this.query=a,this.Jr=h,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=f||{}}return c.prototype.Hr=function(a){if(!this.options.includeMetadataChanges){for(var h=[],f=0,g=a.docChanges;f<g.length;f++){var _=g[f];3!==_.type&&h.push(_)}a=new Yd(a.query,a.docs,a.oldDocs,h,a.mutatedKeys,a.fromCache,a.syncStateChanged,!0)}var w=!1;return this.Yr?this.Zr(a)&&(this.Jr.next(a),w=!0):this.eo(a,this.onlineState)&&(this.no(a),w=!0),this.Xr=a,w},c.prototype.onError=function(a){this.Jr.error(a)},c.prototype.zr=function(a){this.onlineState=a;var h=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,a)&&(this.no(this.Xr),h=!0),h},c.prototype.eo=function(a,h){return!a.fromCache||!(this.options.so&&"Offline"!==h||a.docs.isEmpty()&&"Offline"!==h)},c.prototype.Zr=function(a){return a.docChanges.length>0||!!(a.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==a.hasPendingWrites)&&!0===this.options.includeMetadataChanges},c.prototype.no=function(a){a=Yd.fromInitialDocuments(a.query,a.docs,a.mutatedKeys,a.fromCache),this.Yr=!0,this.Jr.next(a)},c}(),qv=function(){function c(a,h){this.payload=a,this.byteLength=h}return c.prototype.io=function(){return"metadata"in this.payload},c}(),Jd=function(){function c(a){this.R=a}return c.prototype.qn=function(a){return So(this.R,a)},c.prototype.Un=function(a){return a.metadata.exists?bc(this.R,a.document,!1):ro.newNoDocument(this.qn(a.metadata.name),this.Kn(a.metadata.readTime))},c.prototype.Kn=function(a){return xr(a)},c}();!function(){function c(a,h,f){this.ro=a,this.localStore=h,this.R=f,this.queries=[],this.documents=[],this.progress=function Mc(c){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:c.totalDocuments,totalBytes:c.totalBytes}}(a)}c.prototype.oo=function(a){this.progress.bytesLoaded+=a.byteLength;var h=this.progress.documentsLoaded;return a.payload.namedQuery?this.queries.push(a.payload.namedQuery):a.payload.documentMetadata?(this.documents.push({metadata:a.payload.documentMetadata}),a.payload.documentMetadata.exists||++h):a.payload.document&&(this.documents[this.documents.length-1].document=a.payload.document,++h),h!==this.progress.documentsLoaded?(this.progress.documentsLoaded=h,Object.assign({},this.progress)):null},c.prototype.co=function(a){for(var h=new Map,f=new Jd(this.R),g=0,_=a;g<_.length;g++){var w=_[g];if(w.metadata.queries)for(var D=f.qn(w.metadata.name),A=0,N=w.metadata.queries;A<N.length;A++){var F=N[A],j=(h.get(F)||Sn()).add(D);h.set(F,j)}}return h},c.prototype.complete=function(){return(0,S.mG)(this,void 0,void 0,function(){var a,h,f,g,_;return(0,S.Jh)(this,function(w){switch(w.label){case 0:return[4,Pv(this.localStore,new Jd(this.R),this.documents,this.ro.id)];case 1:a=w.sent(),h=this.co(this.documents),f=0,g=this.queries,w.label=2;case 2:return f<g.length?[4,Hd(this.localStore,_=g[f],h.get(_.name))]:[3,5];case 3:w.sent(),w.label=4;case 4:return f++,[3,2];case 5:return[2,(this.progress.taskState="Success",new en(Object.assign({},this.progress),a))]}})})}}();var Zd=function(c){this.key=c},Bg=function(c){this.key=c},Up=function(){function c(a,h){this.query=a,this.uo=h,this.ao=null,this.current=!1,this.ho=Sn(),this.mutatedKeys=Sn(),this.lo=oh(a),this.fo=new Lp(this.lo)}return Object.defineProperty(c.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),c.prototype._o=function(a,h){var f=this,g=h?h.mo:new Bp,_=h?h.fo:this.fo,w=h?h.mutatedKeys:this.mutatedKeys,D=_,A=!1,N=ac(this.query)&&_.size===this.query.limit?_.last():null,F=wd(this.query)&&_.size===this.query.limit?_.first():null;if(a.inorderTraversal(function(z,ee){var Z=_.get(z),ie=uc(f.query,ee)?ee:null,xe=!!Z&&f.mutatedKeys.has(Z.key),Ve=!!ie&&(ie.hasLocalMutations||f.mutatedKeys.has(ie.key)&&ie.hasCommittedMutations),pt=!1;Z&&ie?Z.data.isEqual(ie.data)?xe!==Ve&&(g.track({type:3,doc:ie}),pt=!0):f.yo(Z,ie)||(g.track({type:2,doc:ie}),pt=!0,(N&&f.lo(ie,N)>0||F&&f.lo(ie,F)<0)&&(A=!0)):!Z&&ie?(g.track({type:0,doc:ie}),pt=!0):Z&&!ie&&(g.track({type:1,doc:Z}),pt=!0,(N||F)&&(A=!0)),pt&&(ie?(D=D.add(ie),w=Ve?w.add(z):w.delete(z)):(D=D.delete(z),w=w.delete(z)))}),ac(this.query)||wd(this.query))for(;D.size>this.query.limit;){var j=ac(this.query)?D.last():D.first();D=D.delete(j.key),w=w.delete(j.key),g.track({type:1,doc:j})}return{fo:D,mo:g,Nn:A,mutatedKeys:w}},c.prototype.yo=function(a,h){return a.hasLocalMutations&&h.hasCommittedMutations&&!h.hasLocalMutations},c.prototype.applyChanges=function(a,h,f){var g=this,_=this.fo;this.fo=a.fo,this.mutatedKeys=a.mutatedKeys;var w=a.mo.jr();w.sort(function(F,j){return ee=j.type,(Z=function(ie){switch(ie){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ot()}})(F.type)-Z(ee)||g.lo(F.doc,j.doc);var ee,Z}),this.po(f);var D=h?this.Eo():[],A=0===this.ho.size&&this.current?1:0,N=A!==this.ao;return this.ao=A,0!==w.length||N?{snapshot:new Yd(this.query,a.fo,_,w,a.mutatedKeys,0===A,N,!1),To:D}:{To:D}},c.prototype.zr=function(a){return this.current&&"Offline"===a?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Bp,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},c.prototype.Io=function(a){return!this.uo.has(a)&&!!this.fo.has(a)&&!this.fo.get(a).hasLocalMutations},c.prototype.po=function(a){var h=this;a&&(a.addedDocuments.forEach(function(f){return h.uo=h.uo.add(f)}),a.modifiedDocuments.forEach(function(f){}),a.removedDocuments.forEach(function(f){return h.uo=h.uo.delete(f)}),this.current=a.current)},c.prototype.Eo=function(){var a=this;if(!this.current)return[];var h=this.ho;this.ho=Sn(),this.fo.forEach(function(g){a.Io(g.key)&&(a.ho=a.ho.add(g.key))});var f=[];return h.forEach(function(g){a.ho.has(g)||f.push(new Bg(g))}),this.ho.forEach(function(g){h.has(g)||f.push(new Zd(g))}),f},c.prototype.Ao=function(a){this.uo=a.Bn,this.ho=Sn();var h=this._o(a.documents);return this.applyChanges(h,!0)},c.prototype.Ro=function(){return Yd.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},c}(),Hp=function(c,a,h){this.query=c,this.targetId=a,this.view=h},qp=function(c){this.key=c,this.bo=!1},Vg=function(){function c(a,h,f,g,_,w){this.localStore=a,this.remoteStore=h,this.eventManager=f,this.sharedClientState=g,this.currentUser=_,this.maxConcurrentLimboResolutions=w,this.vo={},this.Po=new Sc(function(D){return fv(D)},Ed),this.Vo=new Map,this.So=new Set,this.Do=new Qn(pe.comparator),this.Co=new Map,this.No=new Fv,this.xo={},this.ko=new Map,this.Fo=Sp.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(c.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),c}();function jg(c,a){return(0,S.mG)(this,void 0,void 0,function(){var h,g,_,w,D;return(0,S.Jh)(this,function(A){switch(A.label){case 0:return h=Qp(c),(_=h.Po.get(a))?(h.sharedClientState.addLocalQueryTarget(_.targetId),g=_.view.Ro(),[3,4]):[3,1];case 1:return[4,_l(h.localStore,ji(a))];case 2:return w=A.sent(),D=h.sharedClientState.addLocalQueryTarget(w.targetId),[4,ef(h,a,w.targetId,"current"===D)];case 3:g=A.sent(),h.isPrimaryClient&&Np(h.remoteStore,w),A.label=4;case 4:return[2,g]}})})}function ef(c,a,h,f){return(0,S.mG)(this,void 0,void 0,function(){var g,_,w,D,A,N;return(0,S.Jh)(this,function(F){switch(F.label){case 0:return c.Oo=function(j,z,ee){return function(Z,ie,xe,Ve){return(0,S.mG)(this,void 0,void 0,function(){var pt,vt,nn;return(0,S.Jh)(this,function(In){switch(In.label){case 0:return(pt=ie.view._o(xe)).Nn?[4,bl(Z.localStore,ie.query,!1).then(function(ir){return ie.view._o(ir.documents,pt)})]:[3,2];case 1:pt=In.sent(),In.label=2;case 2:return vt=Ve&&Ve.targetChanges.get(ie.targetId),nn=ie.view.applyChanges(pt,Z.isPrimaryClient,vt),[2,(Kp(Z,ie.targetId,nn.To),nn.snapshot)]}})})}(c,j,z,ee)},[4,bl(c.localStore,a,!0)];case 1:return g=F.sent(),_=new Up(a,g.Bn),w=_._o(g.documents),D=qs.createSynthesizedTargetChangeForCurrentChange(h,f&&"Offline"!==c.onlineState),A=_.applyChanges(w,c.isPrimaryClient,D),Kp(c,h,A.To),N=new Hp(a,h,_),[2,(c.Po.set(a,N),c.Vo.has(h)?c.Vo.get(h).push(a):c.Vo.set(h,[a]),A.snapshot)]}})})}function Th(c,a){return(0,S.mG)(this,void 0,void 0,function(){var h,f,g;return(0,S.Jh)(this,function(_){switch(_.label){case 0:return h=Ue(c),f=h.Po.get(a),(g=h.Vo.get(f.targetId)).length>1?[2,(h.Vo.set(f.targetId,g.filter(function(w){return!Ed(w,a)})),void h.Po.delete(a))]:h.isPrimaryClient?(h.sharedClientState.removeLocalQueryTarget(f.targetId),h.sharedClientState.isActiveQueryTarget(f.targetId)?[3,2]:[4,ba(h.localStore,f.targetId,!1).then(function(){h.sharedClientState.clearQueryState(f.targetId),$d(h.remoteStore,f.targetId),Tu(h,f.targetId)}).catch(yl)]):[3,3];case 1:_.sent(),_.label=2;case 2:return[3,5];case 3:return Tu(h,f.targetId),[4,ba(h.localStore,f.targetId,!0)];case 4:_.sent(),_.label=5;case 5:return[2]}})})}function zp(c,a,h){return(0,S.mG)(this,void 0,void 0,function(){var f,g,_,w;return(0,S.Jh)(this,function(D){switch(D.label){case 0:f=cf(c),D.label=1;case 1:return D.trys.push([1,5,,6]),[4,(A=f.localStore,N=a,j=Ue(A),z=Li.now(),ee=N.reduce(function(Z,ie){return Z.add(ie.key)},Sn()),j.persistence.runTransaction("Locally write mutations","readwrite",function(Z){return j.Mn.pn(Z,ee).next(function(ie){F=ie;for(var xe=[],Ve=0,pt=N;Ve<pt.length;Ve++){var vt=pt[Ve],nn=dc(vt,F.get(vt.key));null!=nn&&xe.push(new Gr(vt.key,nn,Zf(nn.value.mapValue),Cr.exists(!0)))}return j._n.addMutationBatch(Z,z,xe,N)})}).then(function(Z){return Z.applyToLocalDocumentSet(F),{batchId:Z.batchId,changes:F}}))];case 2:return g=D.sent(),f.sharedClientState.addPendingMutation(g.batchId),function(A,N,F){var j=A.xo[A.currentUser.toKey()];j||(j=new Qn(st)),j=j.insert(N,F),A.xo[A.currentUser.toKey()]=j}(f,g.batchId,h),[4,Za(f,g.changes)];case 3:return D.sent(),[4,Xa(f.remoteStore)];case 4:return D.sent(),[3,6];case 5:return _=D.sent(),w=Du(_,"Failed to persist write"),h.reject(w),[3,6];case 6:return[2]}var A,N,F,j,z,ee})})}function tf(c,a){return(0,S.mG)(this,void 0,void 0,function(){var h,f;return(0,S.Jh)(this,function(g){switch(g.label){case 0:h=Ue(c),g.label=1;case 1:return g.trys.push([1,4,,6]),[4,$b(h.localStore,a)];case 2:return f=g.sent(),a.targetChanges.forEach(function(_,w){var D=h.Co.get(w);D&&(mt(_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size<=1),_.addedDocuments.size>0?D.bo=!0:_.modifiedDocuments.size>0?mt(D.bo):_.removedDocuments.size>0&&(mt(D.bo),D.bo=!1))}),[4,Za(h,f,a)];case 3:return g.sent(),[3,6];case 4:return[4,yl(g.sent())];case 5:return g.sent(),[3,6];case 6:return[2]}})})}function nf(c,a,h){var f=Ue(c);if(f.isPrimaryClient&&0===h||!f.isPrimaryClient&&1===h){var g=[];f.Po.forEach(function(_,w){var D=w.view.zr(a);D.snapshot&&g.push(D.snapshot)}),function(_,w){var D=Ue(_);D.onlineState=w;var A=!1;D.queries.forEach(function(N,F){for(var j=0,z=F.listeners;j<z.length;j++)z[j].zr(w)&&(A=!0)}),A&&Xd(D)}(f.eventManager,a),g.length&&f.vo._r(g),f.onlineState=a,f.isPrimaryClient&&f.sharedClientState.setOnlineState(a)}}function Ug(c,a,h){return(0,S.mG)(this,void 0,void 0,function(){var f,g,_,w,D,A;return(0,S.Jh)(this,function(N){switch(N.label){case 0:return(f=Ue(c)).sharedClientState.updateQueryState(a,"rejected",h),g=f.Co.get(a),(_=g&&g.key)?(w=(w=new Qn(pe.comparator)).insert(_,ro.newNoDocument(_,Ot.min())),D=Sn().add(_),A=new Ga(Ot.min(),new Map,new lr(st),w,D),[4,tf(f,A)]):[3,2];case 1:return N.sent(),f.Do=f.Do.remove(_),f.Co.delete(a),uf(f),[3,4];case 2:return[4,ba(f.localStore,a,!1).then(function(){return Tu(f,a,h)}).catch(yl)];case 3:N.sent(),N.label=4;case 4:return[2]}})})}function rf(c,a){return(0,S.mG)(this,void 0,void 0,function(){var h,f,g;return(0,S.Jh)(this,function(_){switch(_.label){case 0:h=Ue(c),f=a.batch.batchId,_.label=1;case 1:return _.trys.push([1,4,,6]),[4,Ov(h.localStore,a)];case 2:return g=_.sent(),$p(h,f,null),Iu(h,f),h.sharedClientState.updateMutationState(f,"acknowledged"),[4,Za(h,g)];case 3:return _.sent(),[3,6];case 4:return[4,yl(_.sent())];case 5:return _.sent(),[3,6];case 6:return[2]}})})}function Hg(c,a,h){return(0,S.mG)(this,void 0,void 0,function(){var f,g;return(0,S.Jh)(this,function(_){switch(_.label){case 0:f=Ue(c),_.label=1;case 1:return _.trys.push([1,4,,6]),[4,(w=f.localStore,D=a,A=Ue(w),A.persistence.runTransaction("Reject batch","readwrite-primary",function(N){var F;return A._n.lookupMutationBatch(N,D).next(function(j){return mt(null!==j),F=j.keys(),A._n.removeMutationBatch(N,j)}).next(function(){return A._n.performConsistencyCheck(N)}).next(function(){return A.Mn.pn(N,F)})}))];case 2:return g=_.sent(),$p(f,a,h),Iu(f,a),f.sharedClientState.updateMutationState(a,"rejected",h),[4,Za(f,g)];case 3:return _.sent(),[3,6];case 4:return[4,yl(_.sent())];case 5:return _.sent(),[3,6];case 6:return[2]}var w,D,A})})}function Gp(c,a){return(0,S.mG)(this,void 0,void 0,function(){var h,f,g,_,w;return(0,S.Jh)(this,function(D){switch(D.label){case 0:ys((h=Ue(c)).remoteStore)||Se("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),D.label=1;case 1:return D.trys.push([1,3,,4]),[4,(A=h.localStore,N=Ue(A),N.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(F){return N._n.getHighestUnacknowledgedBatchId(F)}))];case 2:return-1===(f=D.sent())?[2,void a.resolve()]:((g=h.ko.get(f)||[]).push(a),h.ko.set(f,g),[3,4]);case 3:return _=D.sent(),w=Du(_,"Initialization of waitForPendingWrites() operation failed"),a.reject(w),[3,4];case 4:return[2]}var A,N})})}function Iu(c,a){(c.ko.get(a)||[]).forEach(function(h){h.resolve()}),c.ko.delete(a)}function $p(c,a,h){var f=Ue(c),g=f.xo[f.currentUser.toKey()];if(g){var _=g.get(a);_&&(h?_.reject(h):_.resolve(),g=g.remove(a)),f.xo[f.currentUser.toKey()]=g}}function Tu(c,a,h){void 0===h&&(h=null),c.sharedClientState.removeLocalQueryTarget(a);for(var f=0,g=c.Vo.get(a);f<g.length;f++){var _=g[f];c.Po.delete(_),h&&c.vo.Mo(_,h)}c.Vo.delete(a),c.isPrimaryClient&&c.No.Zn(a).forEach(function(w){c.No.containsKey(w)||sf(c,w)})}function sf(c,a){c.So.delete(a.path.canonicalString());var h=c.Do.get(a);null!==h&&($d(c.remoteStore,h),c.Do=c.Do.remove(a),c.Co.delete(h),uf(c))}function Kp(c,a,h){for(var f=0,g=h;f<g.length;f++){var _=g[f];_ instanceof Zd?(c.No.addReference(_.key,a),af(c,_)):_ instanceof Bg?(Se("SyncEngine","Document no longer in limbo: "+_.key),c.No.removeReference(_.key,a),c.No.containsKey(_.key)||sf(c,_.key)):ot()}}function af(c,a){var h=a.key,f=h.path.canonicalString();c.Do.get(h)||c.So.has(f)||(Se("SyncEngine","New document in limbo: "+h),c.So.add(f),uf(c))}function uf(c){for(;c.So.size>0&&c.Do.size<c.maxConcurrentLimboResolutions;){var a=c.So.values().next().value;c.So.delete(a);var h=new pe(ht.fromString(a)),f=c.Fo.next();c.Co.set(f,new qp(h)),c.Do=c.Do.insert(h,f),Np(c.remoteStore,new fg(ji(hl(h.path)),f,2,Co.o))}}function Za(c,a,h){return(0,S.mG)(this,void 0,void 0,function(){var f,g,_,w;return(0,S.Jh)(this,function(D){switch(D.label){case 0:return f=Ue(c),g=[],_=[],w=[],f.Po.isEmpty()?[3,3]:(f.Po.forEach(function(A,N){w.push(f.Oo(N,a,h).then(function(F){if(F){f.isPrimaryClient&&f.sharedClientState.updateQueryState(N.targetId,F.fromCache?"not-current":"current"),g.push(F);var j=bg.Pn(N.targetId,F);_.push(j)}}))}),[4,Promise.all(w)]);case 1:return D.sent(),f.vo._r(g),[4,function(A,N){return(0,S.mG)(this,void 0,void 0,function(){var F,j,z,ee,Z,ie,xe,pt;return(0,S.Jh)(this,function(vt){switch(vt.label){case 0:F=Ue(A),vt.label=1;case 1:return vt.trys.push([1,3,,4]),[4,F.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(nn){return Ee.forEach(N,function(In){return Ee.forEach(In.bn,function(ir){return F.persistence.referenceDelegate.addReference(nn,In.targetId,ir)}).next(function(){return Ee.forEach(In.vn,function(ir){return F.persistence.referenceDelegate.removeReference(nn,In.targetId,ir)})})})})];case 2:return vt.sent(),[3,4];case 3:if(!Cc(j=vt.sent()))throw j;return Se("LocalStore","Failed to update sequence numbers: "+j),[3,4];case 4:for(z=0,ee=N;z<ee.length;z++)ie=(Z=ee[z]).targetId,Z.fromCache||(xe=F.kn.get(ie),pt=xe.withLastLimboFreeSnapshotVersion(xe.snapshotVersion),F.kn=F.kn.insert(ie,pt));return[2]}})})}(f.localStore,_)];case 2:D.sent(),D.label=3;case 3:return[2]}})})}function Jb(c,a){return(0,S.mG)(this,void 0,void 0,function(){var h,f;return(0,S.Jh)(this,function(g){switch(g.label){case 0:return(h=Ue(c)).currentUser.isEqual(a)?[3,3]:(Se("SyncEngine","User change. New user:",a.toKey()),[4,Ud(h.localStore,a)]);case 1:return f=g.sent(),h.currentUser=a,(_=h).ko.forEach(function(D){D.forEach(function(A){A.reject(new ge(oe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),_.ko.clear(),h.sharedClientState.handleUserChange(a,f.removedBatchIds,f.addedBatchIds),[4,Za(h,f.Ln)];case 2:g.sent(),g.label=3;case 3:return[2]}var _})})}function kc(c,a){var h=Ue(c),f=h.Co.get(a);if(f&&f.bo)return Sn().add(f.key);var g=Sn(),_=h.Vo.get(a);if(!_)return g;for(var w=0,D=_;w<D.length;w++){var N=h.Po.get(D[w]);g=g.unionWith(N.view.wo)}return g}function Zb(c,a){return(0,S.mG)(this,void 0,void 0,function(){var h,f,g;return(0,S.Jh)(this,function(_){switch(_.label){case 0:return[4,bl((h=Ue(c)).localStore,a.query,!0)];case 1:return f=_.sent(),g=a.view.Ao(f),[2,(h.isPrimaryClient&&Kp(h,a.targetId,g.To),g)]}})})}function qg(c){return(0,S.mG)(this,void 0,void 0,function(){var a;return(0,S.Jh)(this,function(h){return[2,Cg((a=Ue(c)).localStore).then(function(f){return Za(a,f)})]})})}function e0(c,a,h,f){return(0,S.mG)(this,void 0,void 0,function(){var g,_;return(0,S.Jh)(this,function(w){switch(w.label){case 0:return[4,(D=(g=Ue(c)).localStore,A=a,N=Ue(D),F=Ue(N._n),N.persistence.runTransaction("Lookup mutation documents","readonly",function(j){return F.jt(j,A).next(function(z){return z?N.Mn.pn(j,z):Ee.resolve(null)})}))];case 1:return null===(_=w.sent())?[3,6]:"pending"!==h?[3,3]:[4,Xa(g.remoteStore)];case 2:return w.sent(),[3,4];case 3:"acknowledged"===h||"rejected"===h?($p(g,a,f||null),Iu(g,a),function(D,A){Ue(Ue(D)._n).Gt(A)}(g.localStore,a)):ot(),w.label=4;case 4:return[4,Za(g,_)];case 5:return w.sent(),[3,7];case 6:Se("SyncEngine","Cannot apply mutation batch with id: "+a),w.label=7;case 7:return[2]}var D,A,N,F})})}function Gv(c,a){return(0,S.mG)(this,void 0,void 0,function(){var h,f,g,_,w,A,N;return(0,S.Jh)(this,function(F){switch(F.label){case 0:return Qp(h=Ue(c)),cf(h),!0!==a||!0===h.$o?[3,3]:(f=h.sharedClientState.getAllActiveQueryTargets(),[4,Wo(h,f.toArray())]);case 1:return g=F.sent(),h.$o=!0,[4,Cu(h.remoteStore,!0)];case 2:for(F.sent(),_=0,w=g;_<w.length;_++)Np(h.remoteStore,w[_]);return[3,7];case 3:return!1!==a||!1===h.$o?[3,7]:(A=[],N=Promise.resolve(),h.Vo.forEach(function(j,z){h.sharedClientState.isLocalQueryTarget(z)?A.push(z):N=N.then(function(){return Tu(h,z),ba(h.localStore,z,!0)}),$d(h.remoteStore,z)}),[4,N]);case 4:return F.sent(),[4,Wo(h,A)];case 5:return F.sent(),(z=Ue(h)).Co.forEach(function(ee,Z){$d(z.remoteStore,Z)}),z.No.ts(),z.Co=new Map,z.Do=new Qn(pe.comparator),h.$o=!1,[4,Cu(h.remoteStore,!1)];case 6:F.sent(),F.label=7;case 7:return[2]}var z})})}function Wo(c,a,h){return(0,S.mG)(this,void 0,void 0,function(){var f,g,_,w,D,A,N,F,j,z,Z,ie,xe;return(0,S.Jh)(this,function(Ve){switch(Ve.label){case 0:f=Ue(c),g=[],_=[],w=0,D=a,Ve.label=1;case 1:return w<D.length?(N=void 0,(F=f.Vo.get(A=D[w]))&&0!==F.length?[4,_l(f.localStore,ji(F[0]))]:[3,7]):[3,13];case 2:N=Ve.sent(),j=0,z=F,Ve.label=3;case 3:return j<z.length?(Z=f.Po.get(z[j]),[4,Zb(f,Z)]):[3,6];case 4:(ie=Ve.sent()).snapshot&&_.push(ie.snapshot),Ve.label=5;case 5:return j++,[3,3];case 6:return[3,11];case 7:return[4,Eg(f.localStore,A)];case 8:return xe=Ve.sent(),[4,_l(f.localStore,xe)];case 9:return N=Ve.sent(),[4,ef(f,Wp(xe),A,!1)];case 10:Ve.sent(),Ve.label=11;case 11:g.push(N),Ve.label=12;case 12:return w++,[3,1];case 13:return[2,(f.vo._r(_),g)]}})})}function Wp(c){return rp(c.path,c.collectionGroup,c.orderBy,c.filters,c.limit,"F",c.startAt,c.endAt)}function $v(c){var a=Ue(c);return Ue(Ue(a.localStore).persistence).fn()}function zg(c,a,h,f){return(0,S.mG)(this,void 0,void 0,function(){var g,_,w;return(0,S.Jh)(this,function(D){switch(D.label){case 0:return(g=Ue(c)).$o?(Se("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!g.Vo.has(a))return[3,8];switch(h){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Cg(g.localStore)];case 3:return _=D.sent(),w=Ga.createSynthesizedRemoteEventForCurrentChange(a,"current"===h),[4,Za(g,_,w)];case 4:return D.sent(),[3,8];case 5:return[4,ba(g.localStore,a,!0)];case 6:return D.sent(),Tu(g,a,f),[3,8];case 7:ot(),D.label=8;case 8:return[2]}})})}function Kv(c,a,h){return(0,S.mG)(this,void 0,void 0,function(){var f,g,_,w,D,A,N,F,j;return(0,S.Jh)(this,function(ee){switch(ee.label){case 0:if(!(f=Qp(c)).$o)return[3,10];g=0,_=a,ee.label=1;case 1:return g<_.length?f.Vo.has(w=_[g])?(Se("SyncEngine","Adding an already active target "+w),[3,5]):[4,Eg(f.localStore,w)]:[3,6];case 2:return D=ee.sent(),[4,_l(f.localStore,D)];case 3:return A=ee.sent(),[4,ef(f,Wp(D),A.targetId,!1)];case 4:ee.sent(),Np(f.remoteStore,A),ee.label=5;case 5:return g++,[3,1];case 6:N=function(Z){return(0,S.Jh)(this,function(ie){switch(ie.label){case 0:return f.Vo.has(Z)?[4,ba(f.localStore,Z,!1).then(function(){$d(f.remoteStore,Z),Tu(f,Z)}).catch(yl)]:[3,2];case 1:ie.sent(),ie.label=2;case 2:return[2]}})},F=0,j=h,ee.label=7;case 7:return F<j.length?[5,N(j[F])]:[3,10];case 8:ee.sent(),ee.label=9;case 9:return F++,[3,7];case 10:return[2]}})})}function Qp(c){var a=Ue(c);return a.remoteStore.remoteSyncer.applyRemoteEvent=tf.bind(null,a),a.remoteStore.remoteSyncer.getRemoteKeysForTarget=kc.bind(null,a),a.remoteStore.remoteSyncer.rejectListen=Ug.bind(null,a),a.vo._r=Lg.bind(null,a.eventManager),a.vo.Mo=Hv.bind(null,a.eventManager),a}function cf(c){var a=Ue(c);return a.remoteStore.remoteSyncer.applySuccessfulWrite=rf.bind(null,a),a.remoteStore.remoteSyncer.rejectFailedWrite=Hg.bind(null,a),a}var $g=function(){function c(){this.synchronizeTabs=!1}return c.prototype.initialize=function(a){return(0,S.mG)(this,void 0,void 0,function(){return(0,S.Jh)(this,function(h){switch(h.label){case 0:return this.R=Ch(a.databaseInfo.databaseId),this.sharedClientState=this.Bo(a),this.persistence=this.qo(a),[4,this.persistence.start()];case 1:return h.sent(),this.gcScheduler=this.Uo(a),this.localStore=this.Ko(a),[2]}})})},c.prototype.Uo=function(a){return null},c.prototype.Ko=function(a){return wg(this.persistence,new Rv,a.initialUser,this.R)},c.prototype.qo=function(a){return new qi(Mp.bs,this.R)},c.prototype.Bo=function(a){return new El},c.prototype.terminate=function(){return(0,S.mG)(this,void 0,void 0,function(){return(0,S.Jh)(this,function(a){switch(a.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return a.sent(),[4,this.persistence.shutdown()];case 2:return a.sent(),[2]}})})},c}(),Wv=function(c){function a(h,f,g){var _=this;return(_=c.call(this)||this).Qo=h,_.cacheSizeBytes=f,_.forceOwnership=g,_.synchronizeTabs=!1,_}return(0,S.ZT)(a,c),a.prototype.initialize=function(h){return(0,S.mG)(this,void 0,void 0,function(){var f=this;return(0,S.Jh)(this,function(g){switch(g.label){case 0:return[4,c.prototype.initialize.call(this,h)];case 1:return g.sent(),[4,Nv(this.localStore)];case 2:return g.sent(),[4,this.Qo.initialize(this,h)];case 3:return g.sent(),[4,cf(this.Qo.syncEngine)];case 4:return g.sent(),[4,Xa(this.Qo.remoteStore)];case 5:return g.sent(),[4,this.persistence.He(function(){return f.gcScheduler&&!f.gcScheduler.started&&f.gcScheduler.start(f.localStore),Promise.resolve()})];case 6:return g.sent(),[2]}})})},a.prototype.Ko=function(h){return wg(this.persistence,new Rv,h.initialUser,this.R)},a.prototype.Uo=function(h){return new Hb(this.persistence.referenceDelegate.garbageCollector,h.asyncQueue)},a.prototype.qo=function(h){var f=kv(h.databaseInfo.databaseId,h.databaseInfo.persistenceKey),g=void 0!==this.cacheSizeBytes?zs.withCacheSize(this.cacheSizeBytes):zs.DEFAULT;return new yg(this.synchronizeTabs,f,h.clientId,g,h.asyncQueue,Eh(),Cl(),this.R,this.sharedClientState,!!this.forceOwnership)},a.prototype.Bo=function(h){return new El},a}($g),t0=function(c){function a(h,f){var g=this;return(g=c.call(this,h,f,!1)||this).Qo=h,g.cacheSizeBytes=f,g.synchronizeTabs=!0,g}return(0,S.ZT)(a,c),a.prototype.initialize=function(h){return(0,S.mG)(this,void 0,void 0,function(){var f,g=this;return(0,S.Jh)(this,function(_){switch(_.label){case 0:return[4,c.prototype.initialize.call(this,h)];case 1:return _.sent(),f=this.Qo.syncEngine,this.sharedClientState instanceof Eu?(this.sharedClientState.syncEngine={ui:e0.bind(null,f),ai:zg.bind(null,f),hi:Kv.bind(null,f),fn:$v.bind(null,f),ci:qg.bind(null,f)},[4,this.sharedClientState.start()]):[3,3];case 2:_.sent(),_.label=3;case 3:return[4,this.persistence.He(function(w){return(0,S.mG)(g,void 0,void 0,function(){return(0,S.Jh)(this,function(D){switch(D.label){case 0:return[4,Gv(this.Qo.syncEngine,w)];case 1:return D.sent(),this.gcScheduler&&(w&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):w||this.gcScheduler.stop()),[2]}})})})];case 4:return _.sent(),[2]}})})},a.prototype.Bo=function(h){var f=Eh();if(!Eu.yt(f))throw new ge(oe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var g=kv(h.databaseInfo.databaseId,h.databaseInfo.persistenceKey);return new Eu(f,h.asyncQueue,g,h.clientId,h.initialUser)},a}(Wv),Tt=function(){function c(){}return c.prototype.initialize=function(a,h){return(0,S.mG)(this,void 0,void 0,function(){var f=this;return(0,S.Jh)(this,function(g){switch(g.label){case 0:return this.localStore?[3,2]:(this.localStore=a.localStore,this.sharedClientState=a.sharedClientState,this.datastore=this.createDatastore(h),this.remoteStore=this.createRemoteStore(h),this.eventManager=this.createEventManager(h),this.syncEngine=this.createSyncEngine(h,!a.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(_){return nf(f.syncEngine,_,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Jb.bind(null,this.syncEngine),[4,Cu(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:g.sent(),g.label=2;case 2:return[2]}})})},c.prototype.createEventManager=function(a){return new Xb},c.prototype.createDatastore=function(a){var f=Ch(a.databaseInfo.databaseId),g=new Ya(a.databaseInfo);return new Qb(a.credentials,g,f)},c.prototype.createRemoteStore=function(a){var h,f,g,_,w,D=this;return h=this.localStore,f=this.datastore,g=a.asyncQueue,_=function(A){return nf(D.syncEngine,A,0)},w=Gd.yt()?new Gd:new Bv,new xg(h,f,g,_,w)},c.prototype.createSyncEngine=function(a,h){return N=h,F=new Vg(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,a.initialUser,a.maxConcurrentLimboResolutions),N&&(F.$o=!0),F;var N,F},c.prototype.terminate=function(){return function(a){return(0,S.mG)(this,void 0,void 0,function(){var h;return(0,S.Jh)(this,function(f){switch(f.label){case 0:return h=Ue(a),Se("RemoteStore","RemoteStore shutting down."),h.Or.add(5),[4,Ih(h)];case 1:return f.sent(),h.Lr.shutdown(),h.Br.set("Unknown"),[2]}})})}(this.remoteStore)},c}(),eu=function(){function c(a){this.observer=a,this.muted=!1}return c.prototype.next=function(a){this.observer.next&&this.jo(this.observer.next,a)},c.prototype.error=function(a){this.observer.error?this.jo(this.observer.error,a):console.error("Uncaught Error in snapshot listener:",a)},c.prototype.Wo=function(){this.muted=!0},c.prototype.jo=function(a,h){var f=this;this.muted||setTimeout(function(){f.muted||a(h)},0)},c}(),Xp=(function(){function c(a,h){var f=this;this.Go=a,this.R=h,this.metadata=new dr,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(g){g&&g.io()?f.metadata.resolve(g.payload.metadata):f.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==g?void 0:g.payload)))},function(g){return f.metadata.reject(g)})}c.prototype.close=function(){return this.Go.cancel()},c.prototype.getMetadata=function(){return(0,S.mG)(this,void 0,void 0,function(){return(0,S.Jh)(this,function(a){return[2,this.metadata.promise]})})},c.prototype.Lo=function(){return(0,S.mG)(this,void 0,void 0,function(){return(0,S.Jh)(this,function(a){switch(a.label){case 0:return[4,this.getMetadata()];case 1:return[2,(a.sent(),this.Ho())]}})})},c.prototype.Ho=function(){return(0,S.mG)(this,void 0,void 0,function(){var a,h,f,g;return(0,S.Jh)(this,function(_){switch(_.label){case 0:return[4,this.Jo()];case 1:return null===(a=_.sent())?[2,null]:(h=this.zo.decode(a),f=Number(h),isNaN(f)&&this.Yo("length string ("+h+") is not valid number"),[4,this.Xo(f)]);case 2:return g=_.sent(),[2,new qv(JSON.parse(g),a.length+f)]}})})},c.prototype.Zo=function(){return this.buffer.findIndex(function(a){return a==="{".charCodeAt(0)})},c.prototype.Jo=function(){return(0,S.mG)(this,void 0,void 0,function(){var a,h;return(0,S.Jh)(this,function(f){switch(f.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(f.sent())return[3,3];f.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((a=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),h=this.buffer.slice(0,a),[2,(this.buffer=this.buffer.slice(a),h)])}})})},c.prototype.Xo=function(a){return(0,S.mG)(this,void 0,void 0,function(){var h;return(0,S.Jh)(this,function(f){switch(f.label){case 0:return this.buffer.length<a?[4,this.tc()]:[3,3];case 1:f.sent()&&this.Yo("Reached the end of bundle when more is expected."),f.label=2;case 2:return[3,0];case 3:return h=this.zo.decode(this.buffer.slice(0,a)),[2,(this.buffer=this.buffer.slice(a),h)]}})})},c.prototype.Yo=function(a){throw this.Go.cancel(),new Error("Invalid bundle format: "+a)},c.prototype.tc=function(){return(0,S.mG)(this,void 0,void 0,function(){var a,h;return(0,S.Jh)(this,function(f){switch(f.label){case 0:return[4,this.Go.read()];case 1:return(a=f.sent()).done||((h=new Uint8Array(this.buffer.length+a.value.length)).set(this.buffer),h.set(a.value,this.buffer.length),this.buffer=h),[2,a.done]}})})}}(),function(){function c(a){this.datastore=a,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return c.prototype.lookup=function(a){return(0,S.mG)(this,void 0,void 0,function(){var h,f=this;return(0,S.Jh)(this,function(g){switch(g.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new ge(oe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(_,w){return(0,S.mG)(this,void 0,void 0,function(){var D,A,N,F,j,z;return(0,S.Jh)(this,function(ee){switch(ee.label){case 0:return D=Ue(_),A=xi(D.R)+"/documents",N={documents:w.map(function(Z){return fl(D.R,Z)})},[4,D.$i("BatchGetDocuments",A,N)];case 1:return F=ee.sent(),j=new Map,F.forEach(function(Z){var xe,Ve,ie=(xe=D.R,"found"in(Ve=Z)?function(pt,vt){mt(!!vt.found);var nn=So(pt,vt.found.name),In=xr(vt.found.updateTime),ir=new mi({mapValue:{fields:vt.found.fields}});return ro.newFoundDocument(nn,In,ir)}(xe,Ve):"missing"in Ve?function(pt,vt){mt(!!vt.missing),mt(!!vt.readTime);var nn=So(pt,vt.missing),In=xr(vt.readTime);return ro.newNoDocument(nn,In)}(xe,Ve):ot());j.set(ie.key.toString(),ie)}),z=[],[2,(w.forEach(function(Z){var ie=j.get(Z.toString());mt(!!ie),z.push(ie)}),z)]}})})}(this.datastore,a)];case 1:return[2,((h=g.sent()).forEach(function(_){return f.recordVersion(_)}),h)]}})})},c.prototype.set=function(a,h){this.write(h.toMutation(a,this.precondition(a))),this.writtenDocs.add(a.toString())},c.prototype.update=function(a,h){try{this.write(h.toMutation(a,this.preconditionForUpdate(a)))}catch(f){this.lastWriteError=f}this.writtenDocs.add(a.toString())},c.prototype.delete=function(a){this.write(new pc(a,this.precondition(a))),this.writtenDocs.add(a.toString())},c.prototype.commit=function(){return(0,S.mG)(this,void 0,void 0,function(){var a,h=this;return(0,S.Jh)(this,function(f){switch(f.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return a=this.readVersions,this.mutations.forEach(function(g){a.delete(g.key.toString())}),a.forEach(function(g,_){var w=pe.fromPath(_);h.mutations.push(new ga(w,h.precondition(w)))}),[4,function(g,_){return(0,S.mG)(this,void 0,void 0,function(){var w,D,A;return(0,S.Jh)(this,function(N){switch(N.label){case 0:return w=Ue(g),D=xi(w.R)+"/documents",A={writes:_.map(function(F){return $a(w.R,F)})},[4,w.Ni("Commit",D,A)];case 1:return N.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return f.sent(),this.committed=!0,[2]}})})},c.prototype.recordVersion=function(a){var h;if(a.isFoundDocument())h=a.version;else{if(!a.isNoDocument())throw ot();h=Ot.min()}var f=this.readVersions.get(a.key.toString());if(f){if(!h.isEqual(f))throw new ge(oe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(a.key.toString(),h)},c.prototype.precondition=function(a){var h=this.readVersions.get(a.toString());return!this.writtenDocs.has(a.toString())&&h?Cr.updateTime(h):Cr.none()},c.prototype.preconditionForUpdate=function(a){var h=this.readVersions.get(a.toString());if(!this.writtenDocs.has(a.toString())&&h){if(h.isEqual(Ot.min()))throw new ge(oe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Cr.updateTime(h)}return Cr.exists(!0)},c.prototype.write=function(a){this.ensureCommitNotCalled(),this.mutations.push(a)},c.prototype.ensureCommitNotCalled=function(){},c}()),Qo=function(){function c(a,h,f,g){this.asyncQueue=a,this.datastore=h,this.updateFunction=f,this.deferred=g,this.ec=5,this.Zi=new Ag(this.asyncQueue,"transaction_retry")}return c.prototype.run=function(){this.ec-=1,this.nc()},c.prototype.nc=function(){var a=this;this.Zi.ji(function(){return(0,S.mG)(a,void 0,void 0,function(){var h,f,g=this;return(0,S.Jh)(this,function(_){return h=new Xp(this.datastore),(f=this.sc(h))&&f.then(function(w){g.asyncQueue.enqueueAndForget(function(){return h.commit().then(function(){g.deferred.resolve(w)}).catch(function(D){g.ic(D)})})}).catch(function(w){g.ic(w)}),[2]})})})},c.prototype.sc=function(a){try{var h=this.updateFunction(a);return!no(h)&&h.catch&&h.then?h:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(f){return this.deferred.reject(f),null}},c.prototype.ic=function(a){var h=this;this.ec>0&&this.rc(a)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return h.nc(),Promise.resolve()})):this.deferred.reject(a)},c.prototype.rc=function(a){if("FirebaseError"===a.name){var h=a.code;return"aborted"===h||"failed-precondition"===h||!yu(h)}return!1},c}(),Jp=function(){function c(a,h,f){var g=this;this.credentials=a,this.asyncQueue=h,this.databaseInfo=f,this.user=bi.UNAUTHENTICATED,this.clientId=jn.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(h,function(_){return(0,S.mG)(g,void 0,void 0,function(){return(0,S.Jh)(this,function(w){switch(w.label){case 0:return Se("FirestoreClient","Received user=",_.uid),[4,this.credentialListener(_)];case 1:return w.sent(),this.user=_,[2]}})})})}return c.prototype.getConfiguration=function(){return(0,S.mG)(this,void 0,void 0,function(){return(0,S.Jh)(this,function(a){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},c.prototype.setCredentialChangeListener=function(a){this.credentialListener=a},c.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new ge(oe.FAILED_PRECONDITION,"The client has already been terminated.")},c.prototype.terminate=function(){var a=this;this.asyncQueue.enterRestrictedMode();var h=new dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return(0,S.mG)(a,void 0,void 0,function(){var f,g;return(0,S.Jh)(this,function(_){switch(_.label){case 0:return _.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:_.sent(),_.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:_.sent(),_.label=4;case 4:return this.credentials.removeChangeListener(),h.resolve(),[3,6];case 5:return f=_.sent(),g=Du(f,"Failed to shutdown persistence"),h.reject(g),[3,6];case 6:return[2]}})})}),h.promise},c}();function Qv(c,a){return(0,S.mG)(this,void 0,void 0,function(){var h,f,g=this;return(0,S.Jh)(this,function(_){switch(_.label){case 0:return c.asyncQueue.verifyOperationInProgress(),Se("FirestoreClient","Initializing OfflineComponentProvider"),[4,c.getConfiguration()];case 1:return h=_.sent(),[4,a.initialize(h)];case 2:return _.sent(),f=h.initialUser,c.setCredentialChangeListener(function(w){return(0,S.mG)(g,void 0,void 0,function(){return(0,S.Jh)(this,function(D){switch(D.label){case 0:return f.isEqual(w)?[3,2]:[4,Ud(a.localStore,w)];case 1:D.sent(),f=w,D.label=2;case 2:return[2]}})})}),a.persistence.setDatabaseDeletedListener(function(){return c.terminate()}),c.offlineComponents=a,[2]}})})}function Sh(c,a){return(0,S.mG)(this,void 0,void 0,function(){var h,f;return(0,S.Jh)(this,function(g){switch(g.label){case 0:return c.asyncQueue.verifyOperationInProgress(),[4,vs(c)];case 1:return h=g.sent(),Se("FirestoreClient","Initializing OnlineComponentProvider"),[4,c.getConfiguration()];case 2:return f=g.sent(),[4,a.initialize(h,f)];case 3:return g.sent(),c.setCredentialChangeListener(function(_){return function(w,D){return(0,S.mG)(this,void 0,void 0,function(){var A,N;return(0,S.Jh)(this,function(F){switch(F.label){case 0:return(A=Ue(w)).asyncQueue.verifyOperationInProgress(),Se("RemoteStore","RemoteStore received new credentials"),N=ys(A),A.Or.add(3),[4,Ih(A)];case 1:return F.sent(),N&&A.Br.set("Unknown"),[4,A.remoteSyncer.handleCredentialChange(D)];case 2:return F.sent(),A.Or.delete(3),[4,Dh(A)];case 3:return F.sent(),[2]}})})}(a.remoteStore,_)}),c.onlineComponents=a,[2]}})})}function vs(c){return(0,S.mG)(this,void 0,void 0,function(){return(0,S.Jh)(this,function(a){switch(a.label){case 0:return c.offlineComponents?[3,2]:(Se("FirestoreClient","Using default OfflineComponentProvider"),[4,Qv(c,new $g)]);case 1:a.sent(),a.label=2;case 2:return[2,c.offlineComponents]}})})}function Tl(c){return(0,S.mG)(this,void 0,void 0,function(){return(0,S.Jh)(this,function(a){switch(a.label){case 0:return c.onlineComponents?[3,2]:(Se("FirestoreClient","Using default OnlineComponentProvider"),[4,Sh(c,new Tt)]);case 1:a.sent(),a.label=2;case 2:return[2,c.onlineComponents]}})})}function Zp(c){return vs(c).then(function(a){return a.persistence})}function lf(c){return vs(c).then(function(a){return a.localStore})}function n0(c){return Tl(c).then(function(a){return a.remoteStore})}function Sl(c){return Tl(c).then(function(a){return a.syncEngine})}function hf(c){return(0,S.mG)(this,void 0,void 0,function(){var a,h;return(0,S.Jh)(this,function(f){switch(f.label){case 0:return[4,Tl(c)];case 1:return a=f.sent(),[2,((h=a.eventManager).onListen=jg.bind(null,a.syncEngine),h.onUnlisten=Th.bind(null,a.syncEngine),h)]}})})}function df(c,a,h){var f=this;void 0===h&&(h={});var g=new dr;return c.asyncQueue.enqueueAndForget(function(){return(0,S.mG)(f,void 0,void 0,function(){var _;return(0,S.Jh)(this,function(w){switch(w.label){case 0:return _=function(D,A,N,F,j){var z=new eu({next:function(Z){A.enqueueAndForget(function(){return Il(D,ee)});var ie=Z.docs.has(N);!ie&&Z.fromCache?j.reject(new ge(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):ie&&Z.fromCache&&F&&"server"===F.source?j.reject(new ge(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):j.resolve(Z)},error:function(Z){return j.reject(Z)}}),ee=new jp(hl(N.path),z,{includeMetadataChanges:!0,so:!0});return Vp(D,ee)},[4,hf(c)];case 1:return[2,_.apply(void 0,[w.sent(),c.asyncQueue,a,h,g])]}})})}),g.promise}function zi(c,a,h){var f=this;void 0===h&&(h={});var g=new dr;return c.asyncQueue.enqueueAndForget(function(){return(0,S.mG)(f,void 0,void 0,function(){var _;return(0,S.Jh)(this,function(w){switch(w.label){case 0:return _=function(D,A,N,F,j){var z=new eu({next:function(Z){A.enqueueAndForget(function(){return Il(D,ee)}),Z.fromCache&&"server"===F.source?j.reject(new ge(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):j.resolve(Z)},error:function(Z){return j.reject(Z)}}),ee=new jp(N,z,{includeMetadataChanges:!0,so:!0});return Vp(D,ee)},[4,hf(c)];case 1:return[2,_.apply(void 0,[w.sent(),c.asyncQueue,a,h,g])]}})})}),g.promise}var ff=function(c,a,h,f,g,_,w,D){this.databaseId=c,this.appId=a,this.persistenceKey=h,this.host=f,this.ssl=g,this.forceLongPolling=_,this.autoDetectLongPolling=w,this.useFetchStreams=D},Rc=function(){function c(a,h){this.projectId=a,this.database=h||"(default)"}return Object.defineProperty(c.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),c.prototype.isEqual=function(a){return a instanceof c&&a.projectId===this.projectId&&a.database===this.database},c}(),Ah=new Map,pf=function(c,a){this.user=a,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+c},em=function(){function c(){this.changeListener=null}return c.prototype.getToken=function(){return Promise.resolve(null)},c.prototype.invalidateToken=function(){},c.prototype.setChangeListener=function(a,h){this.changeListener=h,a.enqueueRetryable(function(){return h(bi.UNAUTHENTICATED)})},c.prototype.removeChangeListener=function(){this.changeListener=null},c}(),Kg=function(){function c(a){this.token=a,this.changeListener=null}return c.prototype.getToken=function(){return Promise.resolve(this.token)},c.prototype.invalidateToken=function(){},c.prototype.setChangeListener=function(a,h){var f=this;this.changeListener=h,a.enqueueRetryable(function(){return h(f.token.user)})},c.prototype.removeChangeListener=function(){this.changeListener=null},c}(),r0=function(){function c(a){var h=this;this.currentUser=bi.UNAUTHENTICATED,this.oc=new dr,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){h.cc++,h.currentUser=h.ac(),h.oc.resolve(),h.changeListener&&h.asyncQueue.enqueueRetryable(function(){return h.changeListener(h.currentUser)})};var f=function(g){Se("FirebaseCredentialsProvider","Auth detected"),h.auth=g,h.auth.addAuthTokenListener(h.uc)};a.onInit(function(g){return f(g)}),setTimeout(function(){if(!h.auth){var g=a.getImmediate({optional:!0});g?f(g):(Se("FirebaseCredentialsProvider","Auth not yet detected"),h.oc.resolve())}},0)}return c.prototype.getToken=function(){var a=this,h=this.cc,f=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(f).then(function(g){return a.cc!==h?(Se("FirebaseCredentialsProvider","getToken aborted due to token change."),a.getToken()):g?(mt("string"==typeof g.accessToken),new pf(g.accessToken,a.currentUser)):null}):Promise.resolve(null)},c.prototype.invalidateToken=function(){this.forceRefresh=!0},c.prototype.setChangeListener=function(a,h){var f=this;this.asyncQueue=a,this.asyncQueue.enqueueRetryable(function(){return(0,S.mG)(f,void 0,void 0,function(){return(0,S.Jh)(this,function(g){switch(g.label){case 0:return[4,this.oc.promise];case 1:return g.sent(),[4,h(this.currentUser)];case 2:return g.sent(),this.changeListener=h,[2]}})})})},c.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},c.prototype.ac=function(){var a=this.auth&&this.auth.getUid();return mt(null===a||"string"==typeof a),new bi(a)},c}(),Yv=function(){function c(a,h,f){this.hc=a,this.lc=h,this.fc=f,this.type="FirstParty",this.user=bi.FIRST_PARTY}return Object.defineProperty(c.prototype,"authHeaders",{get:function(){var a={"X-Goog-AuthUser":this.lc},h=this.hc.auth.getAuthHeaderValueForFirstParty([]);return h&&(a.Authorization=h),this.fc&&(a["X-Goog-Iam-Authorization-Token"]=this.fc),a},enumerable:!1,configurable:!0}),c}(),tm=function(){function c(a,h,f){this.hc=a,this.lc=h,this.fc=f}return c.prototype.getToken=function(){return Promise.resolve(new Yv(this.hc,this.lc,this.fc))},c.prototype.setChangeListener=function(a,h){a.enqueueRetryable(function(){return h(bi.FIRST_PARTY)})},c.prototype.removeChangeListener=function(){},c.prototype.invalidateToken=function(){},c}();function nm(c,a,h){if(!h)throw new ge(oe.INVALID_ARGUMENT,"Function "+c+"() cannot be called with an empty "+a+".")}function Wg(c,a){if(void 0===a)return{merge:!1};if(void 0!==a.mergeFields&&void 0!==a.merge)throw new ge(oe.INVALID_ARGUMENT,"Invalid options passed to function "+c+'(): You cannot specify both "merge" and "mergeFields".');return a}function Al(c,a,h,f){if(!0===a&&!0===f)throw new ge(oe.INVALID_ARGUMENT,c+" and "+h+" cannot be used together.")}function xl(c){if(!pe.isDocumentKey(c))throw new ge(oe.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+c+" has "+c.length+".")}function rm(c){if(pe.isDocumentKey(c))throw new ge(oe.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+c+" has "+c.length+".")}function mf(c){if(void 0===c)return"undefined";if(null===c)return"null";if("string"==typeof c)return c.length>20&&(c=c.substring(0,20)+"..."),JSON.stringify(c);if("number"==typeof c||"boolean"==typeof c)return""+c;if("object"==typeof c){if(c instanceof Array)return"an array";var a=function(h){if(h.constructor){var f=/function\s+([^\s(]+)\s*\(/.exec(h.constructor.toString());if(f&&f.length>1)return f[1]}return null}(c);return a?"a custom "+a+" object":"an object"}return"function"==typeof c?"a function":ot()}function an(c,a){if("_delegate"in c&&(c=c._delegate),!(c instanceof a)){if(a.name===c.constructor.name)throw new ge(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var h=mf(c);throw new ge(oe.INVALID_ARGUMENT,"Expected type '"+a.name+"', but it was: "+h)}return c}function Qg(c,a){if(a<=0)throw new ge(oe.INVALID_ARGUMENT,"Function "+c+"() requires a positive number, but it was: "+a+".")}var Yg=function(){function c(a){var h;if(void 0===a.host){if(void 0!==a.ssl)throw new ge(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=a.host,this.ssl=null===(h=a.ssl)||void 0===h||h;if(this.credentials=a.credentials,this.ignoreUndefinedProperties=!!a.ignoreUndefinedProperties,void 0===a.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==a.cacheSizeBytes&&a.cacheSizeBytes<1048576)throw new ge(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=a.cacheSizeBytes}this.experimentalForceLongPolling=!!a.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!a.experimentalAutoDetectLongPolling,this.useFetchStreams=!!a.useFetchStreams,Al("experimentalForceLongPolling",a.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",a.experimentalAutoDetectLongPolling)}return c.prototype.isEqual=function(a){return this.host===a.host&&this.ssl===a.ssl&&this.credentials===a.credentials&&this.cacheSizeBytes===a.cacheSizeBytes&&this.experimentalForceLongPolling===a.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===a.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===a.ignoreUndefinedProperties&&this.useFetchStreams===a.useFetchStreams},c}(),gf=function(){function c(a,h){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Yg({}),this._settingsFrozen=!1,a instanceof Rc?(this._databaseId=a,this._credentials=new em):(this._app=a,this._databaseId=function(f){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new ge(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rc(f.options.projectId)}(a),this._credentials=new r0(h))}return Object.defineProperty(c.prototype,"app",{get:function(){if(!this._app)throw new ge(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),c.prototype._setSettings=function(a){if(this._settingsFrozen)throw new ge(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Yg(a),void 0!==a.credentials&&(this._credentials=function(h){if(!h)return new em;switch(h.type){case"gapi":var f=h.client;return mt(!("object"!=typeof f||null===f||!f.auth||!f.auth.getAuthHeaderValueForFirstParty)),new tm(f,h.sessionIndex||"0",h.iamToken||null);case"provider":return h.client;default:throw new ge(oe.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(a.credentials))},c.prototype._getSettings=function(){return this._settings},c.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},c.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},c.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},c.prototype._terminate=function(){return(h=Ah.get(this))&&(Se("ComponentProvider","Removing Datastore"),Ah.delete(this),h.terminate()),Promise.resolve();var h},c}(),Un=function(){function c(a,h,f){this.converter=h,this._key=f,this.type="document",this.firestore=a}return Object.defineProperty(c.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"parent",{get:function(){return new Su(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),c.prototype.withConverter=function(a){return new c(this.firestore,a,this._key)},c}(),oo=function(){function c(a,h,f){this.converter=h,this._query=f,this.type="query",this.firestore=a}return c.prototype.withConverter=function(a){return new c(this.firestore,a,this._query)},c}(),Su=function(c){function a(h,f,g){var _=this;return(_=c.call(this,h,f,hl(g))||this)._path=g,_.type="collection",_}return(0,S.ZT)(a,c),Object.defineProperty(a.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"parent",{get:function(){var h=this._path.popLast();return h.isEmpty()?null:new Un(this.firestore,null,new pe(h))},enumerable:!1,configurable:!0}),a.prototype.withConverter=function(h){return new a(this.firestore,h,this._path)},a}(oo);function tu(c,a){for(var h,f=[],g=2;g<arguments.length;g++)f[g-2]=arguments[g];if(c=(0,Ze.m9)(c),nm("collection","path",a),c instanceof gf)return rm(h=ht.fromString.apply(ht,(0,S.ev)([a],f))),new Su(c,null,h);if(!(c instanceof Un||c instanceof Su))throw new ge(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return rm(h=ht.fromString.apply(ht,(0,S.ev)([c.path],f)).child(ht.fromString(a))),new Su(c.firestore,null,h)}function Xg(c,a){for(var h,f=[],g=2;g<arguments.length;g++)f[g-2]=arguments[g];if(c=(0,Ze.m9)(c),1===arguments.length&&(a=jn.u()),nm("doc","path",a),c instanceof gf)return xl(h=ht.fromString.apply(ht,(0,S.ev)([a],f))),new Un(c,null,new pe(h));if(!(c instanceof Un||c instanceof Su))throw new ge(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return xl(h=c._path.child(ht.fromString.apply(ht,(0,S.ev)([a],f)))),new Un(c.firestore,c instanceof Su?c.converter:null,new pe(h))}function o0(c,a){return c=(0,Ze.m9)(c),a=(0,Ze.m9)(a),(c instanceof Un||c instanceof Su)&&(a instanceof Un||a instanceof Su)&&c.firestore===a.firestore&&c.path===a.path&&c.converter===a.converter}function im(c,a){return c=(0,Ze.m9)(c),a=(0,Ze.m9)(a),c instanceof oo&&a instanceof oo&&c.firestore===a.firestore&&Ed(c._query,a._query)&&c.converter===a.converter}var $s=function(){function c(){var a=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new Ag(this,"async_queue_retry"),this.Ic=function(){var f=Cl();f&&Se("AsyncQueue","Visibility state changed to "+f.visibilityState),a.Zi.Gi()};var h=Cl();h&&"function"==typeof h.addEventListener&&h.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(c.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),c.prototype.enqueueAndForget=function(a){this.enqueue(a)},c.prototype.enqueueAndForgetEvenWhileRestricted=function(a){this.Ac(),this.Rc(a)},c.prototype.enterRestrictedMode=function(a){if(!this._c){this._c=!0,this.Ec=a||!1;var h=Cl();h&&"function"==typeof h.removeEventListener&&h.removeEventListener("visibilitychange",this.Ic)}},c.prototype.enqueue=function(a){var h=this;if(this.Ac(),this._c)return new Promise(function(){});var f=new dr;return this.Rc(function(){return h._c&&h.Ec?Promise.resolve():(a().then(f.resolve,f.reject),f.promise)}).then(function(){return f.promise})},c.prototype.enqueueRetryable=function(a){var h=this;this.enqueueAndForget(function(){return h.wc.push(a),h.bc()})},c.prototype.bc=function(){return(0,S.mG)(this,void 0,void 0,function(){var a,h=this;return(0,S.Jh)(this,function(f){switch(f.label){case 0:if(0===this.wc.length)return[3,5];f.label=1;case 1:return f.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return f.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Cc(a=f.sent()))throw a;return Se("AsyncQueue","Operation failed with retryable error: "+a),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return h.bc()}),f.label=5;case 5:return[2]}})})},c.prototype.Rc=function(a){var h=this,f=this.dc.then(function(){return h.gc=!0,a().catch(function(g){throw h.yc=g,h.gc=!1,zr("INTERNAL UNHANDLED ERROR: ",(w=(_=g).message||"",_.stack&&(w=_.stack.includes(_.message)?_.stack:_.message+"\n"+_.stack),w)),g;var _,w}).then(function(g){return h.gc=!1,g})});return this.dc=f,f},c.prototype.enqueueAfterDelay=function(a,h,f){var g=this;this.Ac(),this.Tc.indexOf(a)>-1&&(h=0);var _=Fg.createAndSchedule(this,a,h,f,function(w){return g.vc(w)});return this.mc.push(_),_},c.prototype.Ac=function(){this.yc&&ot()},c.prototype.verifyOperationInProgress=function(){},c.prototype.Pc=function(){return(0,S.mG)(this,void 0,void 0,function(){var a;return(0,S.Jh)(this,function(h){switch(h.label){case 0:return[4,a=this.dc];case 1:h.sent(),h.label=2;case 2:if(a!==this.dc)return[3,0];h.label=3;case 3:return[2]}})})},c.prototype.Vc=function(a){for(var h=0,f=this.mc;h<f.length;h++)if(f[h].timerId===a)return!0;return!1},c.prototype.Sc=function(a){var h=this;return this.Pc().then(function(){h.mc.sort(function(w,D){return w.targetTimeMs-D.targetTimeMs});for(var f=0,g=h.mc;f<g.length;f++){var _=g[f];if(_.skipDelay(),"all"!==a&&_.timerId===a)break}return h.Pc()})},c.prototype.Dc=function(a){this.Tc.push(a)},c.prototype.vc=function(a){var h=this.mc.indexOf(a);this.mc.splice(h,1)},c}();function Au(c){return function(a,h){if("object"!=typeof a||null===a)return!1;for(var f=a,g=0,_=["next","error","complete"];g<_.length;g++){var w=_[g];if(w in f&&"function"==typeof f[w])return!0}return!1}(c)}!function(){function c(){this._progressObserver={},this._taskCompletionResolver=new dr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}c.prototype.onProgress=function(a,h,f){this._progressObserver={next:a,error:h,complete:f}},c.prototype.catch=function(a){return this._taskCompletionResolver.promise.catch(a)},c.prototype.then=function(a,h){return this._taskCompletionResolver.promise.then(a,h)},c.prototype._completeWith=function(a){this._updateProgress(a),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(a)},c.prototype._failWith=function(a){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(a),this._taskCompletionResolver.reject(a)},c.prototype._updateProgress=function(a){this._lastProgress=a,this._progressObserver.next&&this._progressObserver.next(a)}}();var Tr=function(c){function a(h,f){var g=this;return(g=c.call(this,h,f)||this).type="firestore",g._queue=new $s,g._persistenceKey="name"in h?h.name:"[DEFAULT]",g}return(0,S.ZT)(a,c),a.prototype._terminate=function(){return this._firestoreClient||om(this),this._firestoreClient.terminate()},a}(gf);function tn(c){return c._firestoreClient||om(c),c._firestoreClient.verifyNotTerminated(),c._firestoreClient}function om(c){var a,_,D,h=c._freezeSettings(),f=(_=(null===(a=c._app)||void 0===a?void 0:a.options.appId)||"",new ff(c._databaseId,_,c._persistenceKey,(D=h).host,D.ssl,D.experimentalForceLongPolling,D.experimentalAutoDetectLongPolling,D.useFetchStreams));c._firestoreClient=new Jp(c._credentials,c._queue,f)}function Zg(c,a,h){var f=this,g=new dr;return c.asyncQueue.enqueue(function(){return(0,S.mG)(f,void 0,void 0,function(){var _;return(0,S.Jh)(this,function(w){switch(w.label){case 0:return w.trys.push([0,3,,4]),[4,Qv(c,h)];case 1:return w.sent(),[4,Sh(c,a)];case 2:return w.sent(),g.resolve(),[3,4];case 3:if(!("FirebaseError"===(D=_=w.sent()).name?D.code===oe.FAILED_PRECONDITION||D.code===oe.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&D instanceof DOMException)||22===D.code||20===D.code||11===D.code))throw _;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+_),g.reject(_),[3,4];case 4:return[2]}var D})})}).then(function(){return g.promise})}function xu(c){if(c._initialized||c._terminated)throw new ge(oe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Ea=function(){function c(){for(var a=[],h=0;h<arguments.length;h++)a[h]=arguments[h];for(var f=0;f<a.length;++f)if(0===a[f].length)throw new ge(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new da(a)}return c.prototype.isEqual=function(a){return this._internalPath.isEqual(a._internalPath)},c}(),Ml=function(){function c(a){this._byteString=a}return c.fromBase64String=function(a){try{return new c(Wn.fromBase64String(a))}catch(h){throw new ge(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+h)}},c.fromUint8Array=function(a){return new c(Wn.fromUint8Array(a))},c.prototype.toBase64=function(){return this._byteString.toBase64()},c.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},c.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},c.prototype.isEqual=function(a){return this._byteString.isEqual(a._byteString)},c}(),Ca=function(c){this._methodName=c},yf=function(){function c(a,h){if(!isFinite(a)||a<-90||a>90)throw new ge(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+a);if(!isFinite(h)||h<-180||h>180)throw new ge(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+h);this._lat=a,this._long=h}return Object.defineProperty(c.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),c.prototype.isEqual=function(a){return this._lat===a._lat&&this._long===a._long},c.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},c.prototype._compareTo=function(a){return st(this._lat,a._lat)||st(this._long,a._long)},c}(),Jv=/^__.*__$/,ey=function(){function c(a,h,f){this.data=a,this.fieldMask=h,this.fieldTransforms=f}return c.prototype.toMutation=function(a,h){return null!==this.fieldMask?new Gr(a,this.data,this.fieldMask,h,this.fieldTransforms):new Sd(a,this.data,h,this.fieldTransforms)},c}(),sm=function(){function c(a,h,f){this.data=a,this.fieldMask=h,this.fieldTransforms=f}return c.prototype.toMutation=function(a,h){return new Gr(a,this.data,this.fieldMask,h,this.fieldTransforms)},c}();function xh(c){switch(c){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ot()}}var Mu=function(){function c(a,h,f,g,_,w){this.settings=a,this.databaseId=h,this.R=f,this.ignoreUndefinedProperties=g,void 0===_&&this.Cc(),this.fieldTransforms=_||[],this.fieldMask=w||[]}return Object.defineProperty(c.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),c.prototype.xc=function(a){return new c(Object.assign(Object.assign({},this.settings),a),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},c.prototype.kc=function(a){var h,f=null===(h=this.path)||void 0===h?void 0:h.child(a),g=this.xc({path:f,Fc:!1});return g.$c(a),g},c.prototype.Oc=function(a){var h,f=null===(h=this.path)||void 0===h?void 0:h.child(a),g=this.xc({path:f,Fc:!1});return g.Cc(),g},c.prototype.Mc=function(a){return this.xc({path:void 0,Fc:!0})},c.prototype.Lc=function(a){return hm(a,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},c.prototype.contains=function(a){return void 0!==this.fieldMask.find(function(h){return a.isPrefixOf(h)})||void 0!==this.fieldTransforms.find(function(h){return a.isPrefixOf(h.field)})},c.prototype.Cc=function(){if(this.path)for(var a=0;a<this.path.length;a++)this.$c(this.path.get(a))},c.prototype.$c=function(a){if(0===a.length)throw this.Lc("Document fields must not be empty");if(xh(this.Nc)&&Jv.test(a))throw this.Lc('Document fields cannot begin and end with "__"')},c}(),Ks=function(){function c(a,h,f){this.databaseId=a,this.ignoreUndefinedProperties=h,this.R=f||Ch(a)}return c.prototype.Uc=function(a,h,f,g){return void 0===g&&(g=!1),new Mu({Nc:a,methodName:h,qc:f,path:da.emptyPath(),Fc:!1,Bc:g},this.databaseId,this.R,this.ignoreUndefinedProperties)},c}();function Ws(c){var a=c._freezeSettings(),h=Ch(c._databaseId);return new Ks(c._databaseId,!!a.ignoreUndefinedProperties,h)}function ku(c,a,h,f,g,_){void 0===_&&(_={});var w=c.Uc(_.merge||_.mergeFields?2:0,a,h,g);lm("Data must be an object, but it was:",w,f);var D,A,N=s0(f,w);if(_.merge)D=new to(w.fieldMask),A=w.fieldTransforms;else if(_.mergeFields){for(var F=[],j=0,z=_.mergeFields;j<z.length;j++){var ee=Oc(a,z[j],h);if(!w.contains(ee))throw new ge(oe.INVALID_ARGUMENT,"Field '"+ee+"' is specified in your field mask but missing from your input data.");oi(F,ee)||F.push(ee)}D=new to(F),A=w.fieldTransforms.filter(function(Z){return D.covers(Z.field)})}else D=null,A=w.fieldTransforms;return new ey(new mi(N),D,A)}var Ru=function(c){function a(){return null!==c&&c.apply(this,arguments)||this}return(0,S.ZT)(a,c),a.prototype._toFieldTransform=function(h){if(2!==h.Nc)throw h.Lc(1===h.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return h.fieldMask.push(h.path),null},a.prototype.isEqual=function(h){return h instanceof a},a}(Ca);function ty(c,a,h){return new Mu({Nc:3,qc:a.settings.qc,methodName:c._methodName,Fc:h},a.databaseId,a.R,a.ignoreUndefinedProperties)}var kl=function(c){function a(){return null!==c&&c.apply(this,arguments)||this}return(0,S.ZT)(a,c),a.prototype._toFieldTransform=function(h){return new mu(h.path,new To)},a.prototype.isEqual=function(h){return h instanceof a},a}(Ca),Qs=function(c){function a(h,f){var g=this;return(g=c.call(this,h)||this).Kc=f,g}return(0,S.ZT)(a,c),a.prototype._toFieldTransform=function(h){var f=ty(this,h,!0),g=this.Kc.map(function(w){return nu(w,f)}),_=new Hs(g);return new mu(h.path,_)},a.prototype.isEqual=function(h){return this===h},a}(Ca),am=function(c){function a(h,f){var g=this;return(g=c.call(this,h)||this).Kc=f,g}return(0,S.ZT)(a,c),a.prototype._toFieldTransform=function(h){var f=ty(this,h,!0),g=this.Kc.map(function(w){return nu(w,f)}),_=new lc(g);return new mu(h.path,_)},a.prototype.isEqual=function(h){return this===h},a}(Ca),um=function(c){function a(h,f){var g=this;return(g=c.call(this,h)||this).Qc=f,g}return(0,S.ZT)(a,c),a.prototype._toFieldTransform=function(h){var f=new uh(h.R,Dd(h.R,this.Qc));return new mu(h.path,f)},a.prototype.isEqual=function(h){return this===h},a}(Ca);function vf(c,a,h,f){var g=c.Uc(1,a,h);lm("Data must be an object, but it was:",g,f);var _=[],w=mi.empty();Cn(f,function(A,N){var F=ny(a,A,h);N=(0,Ze.m9)(N);var j=g.Oc(F);if(N instanceof Ru)_.push(F);else{var z=nu(N,j);null!=z&&(_.push(F),w.set(F,z))}});var D=new to(_);return new sm(w,D,g.fieldTransforms)}function Mh(c,a,h,f,g,_){var w=c.Uc(1,a,h),D=[Oc(a,f,h)],A=[g];if(_.length%2!=0)throw new ge(oe.INVALID_ARGUMENT,"Function "+a+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var N=0;N<_.length;N+=2)D.push(Oc(a,_[N])),A.push(_[N+1]);for(var F=[],j=mi.empty(),z=D.length-1;z>=0;--z)if(!oi(F,D[z])){var ee=D[z],Z=A[z];Z=(0,Ze.m9)(Z);var ie=w.Oc(ee);if(Z instanceof Ru)F.push(ee);else{var xe=nu(Z,ie);null!=xe&&(F.push(ee),j.set(ee,xe))}}var Ve=new to(F);return new sm(j,Ve,w.fieldTransforms)}function Zv(c,a,h,f){return void 0===f&&(f=!1),nu(h,c.Uc(f?4:3,a))}function nu(c,a){if(cm(c=(0,Ze.m9)(c)))return lm("Unsupported field value:",a,c),s0(c,a);if(c instanceof Ca)return function(h,f){if(!xh(f.Nc))throw f.Lc(h._methodName+"() can only be used with update() and set()");if(!f.path)throw f.Lc(h._methodName+"() is not currently supported inside arrays");var g=h._toFieldTransform(f);g&&f.fieldTransforms.push(g)}(c,a),null;if(void 0===c&&a.ignoreUndefinedProperties)return null;if(a.path&&a.fieldMask.push(a.path),c instanceof Array){if(a.settings.Fc&&4!==a.Nc)throw a.Lc("Nested arrays are not supported");return function(h,f){for(var g=[],_=0,w=0,D=h;w<D.length;w++){var A=nu(D[w],f.Mc(_));null==A&&(A={nullValue:"NULL_VALUE"}),g.push(A),_++}return{arrayValue:{values:g}}}(c,a)}return function(h,f){if(null===(h=(0,Ze.m9)(h)))return{nullValue:"NULL_VALUE"};if("number"==typeof h)return Dd(f.R,h);if("boolean"==typeof h)return{booleanValue:h};if("string"==typeof h)return{stringValue:h};if(h instanceof Date){var g=Li.fromDate(h);return{timestampValue:hp(f.R,g)}}if(h instanceof Li)return g=new Li(h.seconds,1e3*Math.floor(h.nanoseconds/1e3)),{timestampValue:hp(f.R,g)};if(h instanceof yf)return{geoPointValue:{latitude:h.latitude,longitude:h.longitude}};if(h instanceof Ml)return{bytesValue:ug(f.R,h._byteString)};if(h instanceof Un){var _=h.firestore._databaseId;if(!_.isEqual(g=f.databaseId))throw f.Lc("Document reference is for database "+_.projectId+"/"+_.database+" but should be for database "+g.projectId+"/"+g.database);return{referenceValue:fp(h.firestore._databaseId||f.databaseId,h._key.path)}}throw f.Lc("Unsupported field value: "+mf(h))}(c,a)}function s0(c,a){var h={};return Yf(c)?a.path&&a.path.length>0&&a.fieldMask.push(a.path):Cn(c,function(f,g){var _=nu(g,a.kc(f));null!=_&&(h[f]=_)}),{mapValue:{fields:h}}}function cm(c){return!("object"!=typeof c||null===c||c instanceof Array||c instanceof Date||c instanceof Li||c instanceof yf||c instanceof Ml||c instanceof Un||c instanceof Ca)}function lm(c,a,h){if(!cm(h)||"object"!=typeof(g=h)||null===g||Object.getPrototypeOf(g)!==Object.prototype&&null!==Object.getPrototypeOf(g)){var f=mf(h);throw a.Lc("an object"===f?c+" a custom object":c+" "+f)}var g}function Oc(c,a,h){if((a=(0,Ze.m9)(a))instanceof Ea)return a._internalPath;if("string"==typeof a)return ny(c,a);throw hm("Field path arguments must be of type string or FieldPath.",c,!1,void 0,h)}var e_=new RegExp("[~\\*/\\[\\]]");function ny(c,a,h){if(a.search(e_)>=0)throw hm("Invalid field path ("+a+"). Paths must not contain '~', '*', '/', '[', or ']'",c,!1,void 0,h);try{return(new(Ea.bind.apply(Ea,(0,S.ev)([void 0],a.split(".")))))._internalPath}catch(f){throw hm("Invalid field path ("+a+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",c,!1,void 0,h)}}function hm(c,a,h,f,g){var _=f&&!f.isEmpty(),w=void 0!==g,D="Function "+a+"() called with invalid data";h&&(D+=" (via `toFirestore()`)");var A="";return(_||w)&&(A+=" (found",_&&(A+=" in field "+f),w&&(A+=" in document "+g),A+=")"),new ge(oe.INVALID_ARGUMENT,(D+=". ")+c+A)}function oi(c,a){return c.some(function(h){return h.isEqual(a)})}var Dn=function(){function c(a,h,f,g,_){this._firestore=a,this._userDataWriter=h,this._key=f,this._document=g,this._converter=_}return Object.defineProperty(c.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"ref",{get:function(){return new Un(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),c.prototype.exists=function(){return null!==this._document},c.prototype.data=function(){if(this._document){if(this._converter){var a=new qt(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(a)}return this._userDataWriter.convertValue(this._document.data.value)}},c.prototype.get=function(a){if(this._document){var h=this._document.data.field(kh("DocumentSnapshot.get",a));if(null!==h)return this._userDataWriter.convertValue(h)}},c}(),qt=function(c){function a(){return null!==c&&c.apply(this,arguments)||this}return(0,S.ZT)(a,c),a.prototype.data=function(){return c.prototype.data.call(this)},a}(Dn);function kh(c,a){return"string"==typeof a?ny(c,a):a instanceof Ea?a._internalPath:a._delegate._internalPath}var ru=function(){function c(a,h){this.hasPendingWrites=a,this.fromCache=h}return c.prototype.isEqual=function(a){return this.hasPendingWrites===a.hasPendingWrites&&this.fromCache===a.fromCache},c}(),iu=function(c){function a(h,f,g,_,w,D){var A=this;return(A=c.call(this,h,f,g,_,D)||this)._firestore=h,A._firestoreImpl=h,A.metadata=w,A}return(0,S.ZT)(a,c),a.prototype.exists=function(){return c.prototype.exists.call(this)},a.prototype.data=function(h){if(void 0===h&&(h={}),this._document){if(this._converter){var f=new br(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(f,h)}return this._userDataWriter.convertValue(this._document.data.value,h.serverTimestamps)}},a.prototype.get=function(h,f){if(void 0===f&&(f={}),this._document){var g=this._document.data.field(kh("DocumentSnapshot.get",h));if(null!==g)return this._userDataWriter.convertValue(g,f.serverTimestamps)}},a}(Dn),br=function(c){function a(){return null!==c&&c.apply(this,arguments)||this}return(0,S.ZT)(a,c),a.prototype.data=function(h){return void 0===h&&(h={}),c.prototype.data.call(this,h)},a}(iu),Ys=function(){function c(a,h,f,g){this._firestore=a,this._userDataWriter=h,this._snapshot=g,this.metadata=new ru(g.hasPendingWrites,g.fromCache),this.query=f}return Object.defineProperty(c.prototype,"docs",{get:function(){var a=[];return this.forEach(function(h){return a.push(h)}),a},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),c.prototype.forEach=function(a,h){var f=this;this._snapshot.docs.forEach(function(g){a.call(h,new br(f._firestore,f._userDataWriter,g.key,g,new ru(f._snapshot.mutatedKeys.has(g.key),f._snapshot.fromCache),f.query.converter))})},c.prototype.docChanges=function(a){void 0===a&&(a={});var h=!!a.includeMetadataChanges;if(h&&this._snapshot.excludesMetadataChanges)throw new ge(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===h||(this._cachedChanges=function(f,g){if(f._snapshot.oldDocs.isEmpty()){var _=0;return f._snapshot.docChanges.map(function(D){return{type:"added",doc:new br(f._firestore,f._userDataWriter,D.doc.key,D.doc,new ru(f._snapshot.mutatedKeys.has(D.doc.key),f._snapshot.fromCache),f.query.converter),oldIndex:-1,newIndex:_++}})}var w=f._snapshot.oldDocs;return f._snapshot.docChanges.filter(function(D){return g||3!==D.type}).map(function(D){var A=new br(f._firestore,f._userDataWriter,D.doc.key,D.doc,new ru(f._snapshot.mutatedKeys.has(D.doc.key),f._snapshot.fromCache),f.query.converter),N=-1,F=-1;return 0!==D.type&&(N=w.indexOf(D.doc.key),w=w.delete(D.doc.key)),1!==D.type&&(F=(w=w.add(D.doc)).indexOf(D.doc.key)),{type:Nc(D.type),doc:A,oldIndex:N,newIndex:F}})}(this,h),this._cachedChangesIncludeMetadataChanges=h),this._cachedChanges},c}();function Nc(c){switch(c){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ot()}}function _f(c,a){return c instanceof iu&&a instanceof iu?c._firestore===a._firestore&&c._key.isEqual(a._key)&&(null===c._document?null===a._document:c._document.isEqual(a._document))&&c._converter===a._converter:c instanceof Ys&&a instanceof Ys&&c._firestore===a._firestore&&im(c.query,a.query)&&c.metadata.isEqual(a.metadata)&&c._snapshot.isEqual(a._snapshot)}function dm(c){if(wd(c)&&0===c.explicitOrderBy.length)throw new ge(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Rh=function(){};function Da(c){for(var a=[],h=1;h<arguments.length;h++)a[h-1]=arguments[h];for(var f=0,g=a;f<g.length;f++){var _=g[f];c=_._apply(c)}return c}var fm=function(c){function a(h,f,g){var _=this;return(_=c.call(this)||this).jc=h,_.Wc=f,_.Gc=g,_.type="where",_}return(0,S.ZT)(a,c),a.prototype._apply=function(h){var _,D,f=Ws(h.firestore),g=function(_,w,D,A,N,F,j){var z;if(N.isKeyField()){if("array-contains"===F||"array-contains-any"===F)throw new ge(oe.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+F+"' queries on FieldPath.documentId().");if("in"===F||"not-in"===F){gm(j,F);for(var ee=[],Z=0,ie=j;Z<ie.length;Z++)ee.push(oy(A,_,ie[Z]));z={arrayValue:{values:ee}}}else z=oy(A,_,j)}else"in"!==F&&"not-in"!==F&&"array-contains-any"!==F||gm(j,F),z=Zv(D,"where",j,"in"===F||"not-in"===F);var Ve=Io.create(N,F,z);return function(pt,vt){if(vt.g()){var nn=Ai(pt);if(null!==nn&&!nn.isEqual(vt.field))throw new ge(oe.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+nn.toString()+"' and '"+vt.field.toString()+"'");var In=ip(pt);null!==In&&_s(0,vt.field,In)}var ir=function(Mo,u0){for(var bm=0,cI=Mo.filters;bm<cI.length;bm++){var c0=cI[bm];if(u0.indexOf(c0.op)>=0)return c0.op}return null}(pt,function(Mo){switch(Mo){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(vt.op));if(null!==ir)throw new ge(oe.INVALID_ARGUMENT,ir===vt.op?"Invalid query. You cannot use more than one '"+vt.op.toString()+"' filter.":"Invalid query. You cannot use '"+vt.op.toString()+"' filters with '"+ir.toString()+"' filters.")}(_,Ve),Ve}(h._query,0,f,h.firestore._databaseId,this.jc,this.Wc,this.Gc);return new oo(h.firestore,h.converter,(D=(_=h._query).filters.concat([g]),new Us(_.path,_.collectionGroup,_.explicitOrderBy.slice(),D,_.limit,_.limitType,_.startAt,_.endAt)))},a}(Rh),ry=function(c){function a(h,f){var g=this;return(g=c.call(this)||this).jc=h,g.zc=f,g.type="orderBy",g}return(0,S.ZT)(a,c),a.prototype._apply=function(h){var g,w,f=function(g,_,w){if(null!==g.startAt)throw new ge(oe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==g.endAt)throw new ge(oe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var D=new ll(_,w);return function(A,N){if(null===ip(A)){var F=Ai(A);null!==F&&_s(0,F,N.field)}}(g,D),D}(h._query,this.jc,this.zc);return new oo(h.firestore,h.converter,(w=(g=h._query).explicitOrderBy.concat([f]),new Us(g.path,g.collectionGroup,w,g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)))},a}(Rh),bf=function(c){function a(h,f,g){var _=this;return(_=c.call(this)||this).type=h,_.Hc=f,_.Jc=g,_}return(0,S.ZT)(a,c),a.prototype._apply=function(h){return new oo(h.firestore,h.converter,dv(h._query,this.Hc,this.Jc))},a}(Rh),pm=function(c){function a(h,f,g){var _=this;return(_=c.call(this)||this).type=h,_.Yc=f,_.Xc=g,_}return(0,S.ZT)(a,c),a.prototype._apply=function(h){var g,_,f=iy(h,this.type,this.Yc,this.Xc);return new oo(h.firestore,h.converter,(_=f,new Us((g=h._query).path,g.collectionGroup,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,_,g.endAt)))},a}(Rh),mm=function(c){function a(h,f,g){var _=this;return(_=c.call(this)||this).type=h,_.Yc=f,_.Xc=g,_}return(0,S.ZT)(a,c),a.prototype._apply=function(h){var g,_,f=iy(h,this.type,this.Yc,this.Xc);return new oo(h.firestore,h.converter,(_=f,new Us((g=h._query).path,g.collectionGroup,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,_)))},a}(Rh);function iy(c,a,h,f){if(h[0]=(0,Ze.m9)(h[0]),h[0]instanceof Dn)return function(_,w,D,A,N){if(!A)throw new ge(oe.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+D+"().");for(var F=[],j=0,z=rr(_);j<z.length;j++){var ee=z[j];if(ee.field.isKeyField())F.push(ye(w,A.key));else{var Z=A.data.field(ee.field);if(Xf(Z))throw new ge(oe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ee.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Z){var ie=ee.field.canonicalString();throw new ge(oe.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+ie+"' (used as the orderBy) does not exist.")}F.push(Z)}}return new th(F,N)}(c._query,c.firestore._databaseId,a,h[0]._document,f);var g=Ws(c.firestore);return function(_,w,D,A,N,F){var j=_.explicitOrderBy;if(N.length>j.length)throw new ge(oe.INVALID_ARGUMENT,"Too many arguments provided to "+A+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var z=[],ee=0;ee<N.length;ee++){var Z=N[ee];if(j[ee].field.isKeyField()){if("string"!=typeof Z)throw new ge(oe.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+A+"(), but got a "+typeof Z);if(!fs(_)&&-1!==Z.indexOf("/"))throw new ge(oe.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+A+"() must be a plain document ID, but '"+Z+"' contains a slash.");var ie=_.path.child(ht.fromString(Z));if(!pe.isDocumentKey(ie))throw new ge(oe.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+A+"() must result in a valid document path, but '"+ie+"' is not because it contains an odd number of segments.");var xe=new pe(ie);z.push(ye(w,xe))}else{var Ve=Zv(D,A,Z);z.push(Ve)}}return new th(z,F)}(c._query,c.firestore._databaseId,g,a,h,f)}function oy(c,a,h){if("string"==typeof(h=(0,Ze.m9)(h))){if(""===h)throw new ge(oe.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!fs(a)&&-1!==h.indexOf("/"))throw new ge(oe.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+h+"' contains a '/' character.");var f=a.path.child(ht.fromString(h));if(!pe.isDocumentKey(f))throw new ge(oe.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+f+"' is not because it has an odd number of segments ("+f.length+").");return ye(c,new pe(f))}if(h instanceof Un)return ye(c,h._key);throw new ge(oe.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+mf(h)+".")}function gm(c,a){if(!Array.isArray(c)||0===c.length)throw new ge(oe.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+a.toString()+"' filters.");if(c.length>10)throw new ge(oe.INVALID_ARGUMENT,"Invalid Query. '"+a.toString()+"' filters support a maximum of 10 elements in the value array.")}function _s(c,a,h){if(!h.isEqual(a))throw new ge(oe.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+a.toString()+"' and so you must also use '"+a.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+h.toString()+"' instead.")}var Oh=function(){function c(){}return c.prototype.convertValue=function(a,h){switch(void 0===h&&(h="none"),Do(a)){case 0:return null;case 1:return a.booleanValue;case 2:return cr(a.integerValue||a.doubleValue);case 3:return this.convertTimestamp(a.timestampValue);case 4:return this.convertServerTimestamp(a,h);case 5:return a.stringValue;case 6:return this.convertBytes(Si(a.bytesValue));case 7:return this.convertReference(a.referenceValue);case 8:return this.convertGeoPoint(a.geoPointValue);case 9:return this.convertArray(a.arrayValue,h);case 10:return this.convertObject(a.mapValue,h);default:throw ot()}},c.prototype.convertObject=function(a,h){var f=this,g={};return Cn(a.fields,function(_,w){g[_]=f.convertValue(w,h)}),g},c.prototype.convertGeoPoint=function(a){return new yf(cr(a.latitude),cr(a.longitude))},c.prototype.convertArray=function(a,h){var f=this;return(a.values||[]).map(function(g){return f.convertValue(g,h)})},c.prototype.convertServerTimestamp=function(a,h){switch(h){case"previous":var f=md(a);return null==f?null:this.convertValue(f,h);case"estimate":return this.convertTimestamp(ul(a));default:return null}},c.prototype.convertTimestamp=function(a){var h=zo(a);return new Li(h.seconds,h.nanos)},c.prototype.convertDocumentKey=function(a,h){var f=ht.fromString(a);mt(hg(f));var g=new Rc(f.get(1),f.get(3)),_=new pe(f.popFirst(5));return g.isEqual(h)||zr("Document "+_+" contains a document reference within a different database ("+g.projectId+"/"+g.database+") which is not supported. It will be treated as a reference in the current database ("+h.projectId+"/"+h.database+") instead."),_},c}();function wf(c,a,h){return c?h&&(h.merge||h.mergeFields)?c.toFirestore(a,h):c.toFirestore(a):a}var t_=function(c){function a(h){var f=this;return(f=c.call(this)||this).firestore=h,f}return(0,S.ZT)(a,c),a.prototype.convertBytes=function(h){return new Ml(h)},a.prototype.convertReference=function(h){var f=this.convertDocumentKey(h,this.firestore._databaseId);return new Un(this.firestore,null,f)},a}(Oh),uE=function(){function c(a,h){this._firestore=a,this._commitHandler=h,this._mutations=[],this._committed=!1,this._dataReader=Ws(a)}return c.prototype.set=function(a,h,f){this._verifyNotCommitted();var g=ou(a,this._firestore),_=wf(g.converter,h,f),w=ku(this._dataReader,"WriteBatch.set",g._key,_,null!==g.converter,f);return this._mutations.push(w.toMutation(g._key,Cr.none())),this},c.prototype.update=function(a,h,f){for(var g=[],_=3;_<arguments.length;_++)g[_-3]=arguments[_];this._verifyNotCommitted();var w,D=ou(a,this._firestore);return w="string"==typeof(h=(0,Ze.m9)(h))||h instanceof Ea?Mh(this._dataReader,"WriteBatch.update",D._key,h,f,g):vf(this._dataReader,"WriteBatch.update",D._key,h),this._mutations.push(w.toMutation(D._key,Cr.exists(!0))),this},c.prototype.delete=function(a){this._verifyNotCommitted();var h=ou(a,this._firestore);return this._mutations=this._mutations.concat(new pc(h._key,Cr.none())),this},c.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},c.prototype._verifyNotCommitted=function(){if(this._committed)throw new ge(oe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},c}();function ou(c,a){if((c=(0,Ze.m9)(c)).firestore!==a)throw new ge(oe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return c}var Rl=function(c){function a(h){var f=this;return(f=c.call(this)||this).firestore=h,f}return(0,S.ZT)(a,c),a.prototype.convertBytes=function(h){return new Ml(h)},a.prototype.convertReference=function(h){var f=this.convertDocumentKey(h,this.firestore._databaseId);return new Un(this.firestore,null,f)},a}(Oh);function ym(c,a,h){c=an(c,Un);var f=an(c.firestore,Tr),g=wf(c.converter,a,h);return Ph(f,[ku(Ws(f),"setDoc",c._key,g,null!==c.converter,h).toMutation(c._key,Cr.none())])}function Ef(c,a,h){for(var f=[],g=3;g<arguments.length;g++)f[g-3]=arguments[g];c=an(c,Un);var _=an(c.firestore,Tr),w=Ws(_);return Ph(_,[("string"==typeof(a=(0,Ze.m9)(a))||a instanceof Ea?Mh(w,"updateDoc",c._key,a,h,f):vf(w,"updateDoc",c._key,a)).toMutation(c._key,Cr.exists(!0))])}function Nh(c){for(var a,h,f,g=[],_=1;_<arguments.length;_++)g[_-1]=arguments[_];c=(0,Ze.m9)(c);var w={includeMetadataChanges:!1},D=0;"object"!=typeof g[D]||Au(g[D])||(w=g[D],D++);var A,N,F,j={includeMetadataChanges:w.includeMetadataChanges};if(Au(g[D])){var z=g[D];g[D]=null===(a=z.next)||void 0===a?void 0:a.bind(z),g[D+1]=null===(h=z.error)||void 0===h?void 0:h.bind(z),g[D+2]=null===(f=z.complete)||void 0===f?void 0:f.bind(z)}if(c instanceof Un)N=an(c.firestore,Tr),F=hl(c._key.path),A={next:function(ie){g[D]&&g[D](vm(N,c,ie))},error:g[D+1],complete:g[D+2]};else{var ee=an(c,oo);N=an(ee.firestore,Tr),F=ee._query;var Z=new Rl(N);A={next:function(ie){g[D]&&g[D](new Ys(N,Z,ee,ie))},error:g[D+1],complete:g[D+2]},dm(c._query)}return function(ie,xe,Ve,pt){var vt=this,nn=new eu(pt),In=new jp(xe,nn,Ve);return ie.asyncQueue.enqueueAndForget(function(){return(0,S.mG)(vt,void 0,void 0,function(){var ir;return(0,S.Jh)(this,function(Mo){switch(Mo.label){case 0:return ir=Vp,[4,hf(ie)];case 1:return[2,ir.apply(void 0,[Mo.sent(),In])]}})})}),function(){nn.Wo(),ie.asyncQueue.enqueueAndForget(function(){return(0,S.mG)(vt,void 0,void 0,function(){var ir;return(0,S.Jh)(this,function(Mo){switch(Mo.label){case 0:return ir=Il,[4,hf(ie)];case 1:return[2,ir.apply(void 0,[Mo.sent(),In])]}})})})}}(tn(N),F,j,A)}function Ph(c,a){return function(h,f){var g=this,_=new dr;return h.asyncQueue.enqueueAndForget(function(){return(0,S.mG)(g,void 0,void 0,function(){var w;return(0,S.Jh)(this,function(D){switch(D.label){case 0:return w=zp,[4,Sl(h)];case 1:return[2,w.apply(void 0,[D.sent(),f,_])]}})})}),_.promise}(tn(c),a)}function vm(c,a,h){var f=h.docs.get(a._key),g=new Rl(c);return new iu(c,g,a._key,f,new ru(h.hasPendingWrites,h.fromCache),a.converter)}var Ye=function(c){function a(h,f){var g=this;return(g=c.call(this,h,f)||this)._firestore=h,g}return(0,S.ZT)(a,c),a.prototype.get=function(h){var f=this,g=ou(h,this._firestore),_=new Rl(this._firestore);return c.prototype.get.call(this,h).then(function(w){return new iu(f._firestore,_,g._key,w._document,new ru(!1,!1),g.converter)})},a}(function(){function c(a,h){this._firestore=a,this._transaction=h,this._dataReader=Ws(a)}return c.prototype.get=function(a){var h=this,f=ou(a,this._firestore),g=new t_(this._firestore);return this._transaction.lookup([f._key]).then(function(_){if(!_||1!==_.length)return ot();var w=_[0];if(w.isFoundDocument())return new Dn(h._firestore,g,w.key,w,f.converter);if(w.isNoDocument())return new Dn(h._firestore,g,f._key,null,f.converter);throw ot()})},c.prototype.set=function(a,h,f){var g=ou(a,this._firestore),_=wf(g.converter,h,f),w=ku(this._dataReader,"Transaction.set",g._key,_,null!==g.converter,f);return this._transaction.set(g._key,w),this},c.prototype.update=function(a,h,f){for(var g=[],_=3;_<arguments.length;_++)g[_-3]=arguments[_];var w,D=ou(a,this._firestore);return w="string"==typeof(h=(0,Ze.m9)(h))||h instanceof Ea?Mh(this._dataReader,"Transaction.update",D._key,h,f,g):vf(this._dataReader,"Transaction.update",D._key,h),this._transaction.update(D._key,w),this},c.prototype.delete=function(a){var h=ou(a,this._firestore);return this._transaction.delete(h._key),this},c}());function Fh(){if("undefined"==typeof Uint8Array)throw new ge(oe.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Wr(){if("undefined"==typeof atob)throw new ge(oe.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Ou=function(){function c(a){this._delegate=a}return c.fromBase64String=function(a){return Wr(),new c(Ml.fromBase64String(a))},c.fromUint8Array=function(a){return Fh(),new c(Ml.fromUint8Array(a))},c.prototype.toBase64=function(){return Wr(),this._delegate.toBase64()},c.prototype.toUint8Array=function(){return Fh(),this._delegate.toUint8Array()},c.prototype.isEqual=function(a){return this._delegate.isEqual(a._delegate)},c.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},c}(),Xs=function(){function c(){}return c.prototype.enableIndexedDbPersistence=function(a,h){return function(f,g){xu(f=an(f,Tr));var _=tn(f),w=f._freezeSettings(),D=new Tt;return Zg(_,D,new Wv(D,w.cacheSizeBytes,null==g?void 0:g.forceOwnership))}(a._delegate,{forceOwnership:h})},c.prototype.enableMultiTabIndexedDbPersistence=function(a){return function(h){xu(h=an(h,Tr));var f=tn(h),g=h._freezeSettings(),_=new Tt;return Zg(f,_,new t0(_,g.cacheSizeBytes))}(a._delegate)},c.prototype.clearIndexedDbPersistence=function(a){return function(h){var f=this;if(h._initialized&&!h._terminated)throw new ge(oe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var g=new dr;return h._queue.enqueueAndForgetEvenWhileRestricted(function(){return(0,S.mG)(f,void 0,void 0,function(){var _;return(0,S.Jh)(this,function(w){switch(w.label){case 0:return w.trys.push([0,2,,3]),[4,function(D){return(0,S.mG)(this,void 0,void 0,function(){return(0,S.Jh)(this,function(N){switch(N.label){case 0:return pl.yt()?[4,pl.delete(D+"main")]:[2,Promise.resolve()];case 1:return N.sent(),[2]}})})}(kv(h._databaseId,h._persistenceKey))];case 1:return w.sent(),g.resolve(),[3,3];case 2:return _=w.sent(),g.reject(_),[3,3];case 3:return[2]}})})}),g.promise}(a._delegate)},c}(),sy=function(){function c(a,h,f){var g=this;this._delegate=h,this.Zc=f,this.INTERNAL={delete:function(){return g.terminate()}},a instanceof Rc||(this.tu=a)}return Object.defineProperty(c.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),c.prototype.settings=function(a){var h=this._delegate._getSettings();a.merge||h.host===a.host||fd("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),a.merge&&delete(a=Object.assign(Object.assign({},h),a)).merge,this._delegate._setSettings(a)},c.prototype.useEmulator=function(a,h,f){void 0===f&&(f={}),function(g,_,w,D){var A;void 0===D&&(D={});var N=(g=an(g,gf))._getSettings();if("firestore.googleapis.com"!==N.host&&N.host!==_&&fd("Host has been set in both settings() and useEmulator(), emulator host will be used"),g._setSettings(Object.assign(Object.assign({},N),{host:_+":"+w,ssl:!1})),D.mockUserToken){var F,j;if("string"==typeof D.mockUserToken)F=D.mockUserToken,j=bi.MOCK_USER;else{F=(0,Ze.Sg)(D.mockUserToken,null===(A=g._app)||void 0===A?void 0:A.options.projectId);var z=D.mockUserToken.sub||D.mockUserToken.user_id;if(!z)throw new ge(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");j=new bi(z)}g._credentials=new Kg(new pf(F,j))}}(this._delegate,a,h,f)},c.prototype.enableNetwork=function(){return function(a){var h=this;return a.asyncQueue.enqueue(function(){return(0,S.mG)(h,void 0,void 0,function(){var f,g;return(0,S.Jh)(this,function(_){switch(_.label){case 0:return[4,Zp(a)];case 1:return f=_.sent(),[4,n0(a)];case 2:return g=_.sent(),[2,(f.setNetworkEnabled(!0),w=g,D=Ue(w),D.Or.delete(0),Dh(D))]}var w,D})})})}(tn(an(this._delegate,Tr)))},c.prototype.disableNetwork=function(){return function(a){var h=this;return a.asyncQueue.enqueue(function(){return(0,S.mG)(h,void 0,void 0,function(){var f,g;return(0,S.Jh)(this,function(_){switch(_.label){case 0:return[4,Zp(a)];case 1:return f=_.sent(),[4,n0(a)];case 2:return g=_.sent(),[2,(f.setNetworkEnabled(!1),function(w){return(0,S.mG)(this,void 0,void 0,function(){var D;return(0,S.Jh)(this,function(A){switch(A.label){case 0:return(D=Ue(w)).Or.add(0),[4,Ih(D)];case 1:return A.sent(),D.Br.set("Offline"),[2]}})})}(g))]}})})})}(tn(an(this._delegate,Tr)))},c.prototype.enablePersistence=function(a){var h=!1,f=!1;return a&&Al("synchronizeTabs",h=!!a.synchronizeTabs,"experimentalForceOwningTab",f=!!a.experimentalForceOwningTab),h?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,f)},c.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},c.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},c.prototype.waitForPendingWrites=function(){return function(a){var h=this,f=new dr;return a.asyncQueue.enqueueAndForget(function(){return(0,S.mG)(h,void 0,void 0,function(){var g;return(0,S.Jh)(this,function(_){switch(_.label){case 0:return g=Gp,[4,Sl(a)];case 1:return[2,g.apply(void 0,[_.sent(),f])]}})})}),f.promise}(tn(an(this._delegate,Tr)))},c.prototype.onSnapshotsInSync=function(a){return f=a,function(g,_){var w=this,D=new eu(_);return g.asyncQueue.enqueueAndForget(function(){return(0,S.mG)(w,void 0,void 0,function(){var A;return(0,S.Jh)(this,function(N){switch(N.label){case 0:return A=function(F,j){Ue(F).Gr.add(j),j.next()},[4,hf(g)];case 1:return[2,A.apply(void 0,[N.sent(),D])]}})})}),function(){D.Wo(),g.asyncQueue.enqueueAndForget(function(){return(0,S.mG)(w,void 0,void 0,function(){var A;return(0,S.Jh)(this,function(N){switch(N.label){case 0:return A=function(F,j){Ue(F).Gr.delete(j)},[4,hf(g)];case 1:return[2,A.apply(void 0,[N.sent(),D])]}})})})}}(tn(an(this._delegate,Tr)),Au(f)?f:{next:f});var f},Object.defineProperty(c.prototype,"app",{get:function(){if(!this.tu)throw new ge(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),c.prototype.collection=function(a){try{return new l(this,tu(this._delegate,a))}catch(h){throw Gi(h,"collection()","Firestore.collection()")}},c.prototype.doc=function(a){try{return new su(this,Xg(this._delegate,a))}catch(h){throw Gi(h,"doc()","Firestore.doc()")}},c.prototype.collectionGroup=function(a){try{return new Zn(this,function(h,f){if(h=an(h,gf),nm("collectionGroup","collection id",f),f.indexOf("/")>=0)throw new ge(oe.INVALID_ARGUMENT,"Invalid collection ID '"+f+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new oo(h,null,(g=f,new Us(ht.emptyPath(),g)));var g}(this._delegate,a))}catch(h){throw Gi(h,"collectionGroup()","Firestore.collectionGroup()")}},c.prototype.runTransaction=function(a){var f,h=this;return function(_,w){var D=this,A=new dr;return _.asyncQueue.enqueueAndForget(function(){return(0,S.mG)(D,void 0,void 0,function(){var N;return(0,S.Jh)(this,function(F){switch(F.label){case 0:return[4,(j=_,Tl(j).then(function(z){return z.datastore}))];case 1:return N=F.sent(),new Qo(_.asyncQueue,N,w,A).run(),[2]}var j})})}),A.promise}(tn(f=this._delegate),function(_){return function(f){return a(new Ia(h,f))}(new Ye(f,_))})},c.prototype.batch=function(){var a=this;return tn(this._delegate),new n_(new uE(this._delegate,function(h){return Ph(a._delegate,h)}))},c.prototype.loadBundle=function(a){throw new ge(oe.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},c.prototype.namedQuery=function(a){throw new ge(oe.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},c}(),_m=function(c){function a(h){var f=this;return(f=c.call(this)||this).firestore=h,f}return(0,S.ZT)(a,c),a.prototype.convertBytes=function(h){return new Ou(new Ml(h))},a.prototype.convertReference=function(h){var f=this.convertDocumentKey(h,this.firestore._databaseId);return su.eu(f,this.firestore,null)},a}(Oh),Ia=function(){function c(a,h){this._firestore=a,this._delegate=h,this._userDataWriter=new _m(a)}return c.prototype.get=function(a){var h=this,f=p(a);return this._delegate.get(f).then(function(g){return new Jn(h._firestore,new iu(h._firestore._delegate,h._userDataWriter,g._key,g._document,g.metadata,f.converter))})},c.prototype.set=function(a,h,f){var g=p(a);return f?(Wg("Transaction.set",f),this._delegate.set(g,h,f)):this._delegate.set(g,h),this},c.prototype.update=function(a,h,f){for(var g,_=[],w=3;w<arguments.length;w++)_[w-3]=arguments[w];var D=p(a);return 2===arguments.length?this._delegate.update(D,h):(g=this._delegate).update.apply(g,(0,S.ev)([D,h,f],_)),this},c.prototype.delete=function(a){var h=p(a);return this._delegate.delete(h),this},c}(),n_=function(){function c(a){this._delegate=a}return c.prototype.set=function(a,h,f){var g=p(a);return f?(Wg("WriteBatch.set",f),this._delegate.set(g,h,f)):this._delegate.set(g,h),this},c.prototype.update=function(a,h,f){for(var g,_=[],w=3;w<arguments.length;w++)_[w-3]=arguments[w];var D=p(a);return 2===arguments.length?this._delegate.update(D,h):(g=this._delegate).update.apply(g,(0,S.ev)([D,h,f],_)),this},c.prototype.delete=function(a){var h=p(a);return this._delegate.delete(h),this},c.prototype.commit=function(){return this._delegate.commit()},c}(),Nu=function(){function c(a,h,f){this._firestore=a,this._userDataWriter=h,this._delegate=f}return c.prototype.fromFirestore=function(a,h){var f=new br(this._firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,null);return this._delegate.fromFirestore(new Yo(this._firestore,f),null!=h?h:{})},c.prototype.toFirestore=function(a,h){return h?this._delegate.toFirestore(a,h):this._delegate.toFirestore(a)},c.nu=function(a,h){var f=c.su,g=f.get(a);g||f.set(a,g=new WeakMap);var _=g.get(h);return _||(_=new c(a,new _m(a),h),g.set(h,_)),_},c}();Nu.su=new WeakMap;var su=function(){function c(a,h){this.firestore=a,this._delegate=h,this._userDataWriter=new _m(a)}return c.iu=function(a,h,f){if(a.length%2!=0)throw new ge(oe.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+a.canonicalString()+" has "+a.length);return new c(h,new Un(h._delegate,f,new pe(a)))},c.eu=function(a,h,f){return new c(h,new Un(h._delegate,f,a))},Object.defineProperty(c.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"parent",{get:function(){return new l(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),c.prototype.collection=function(a){try{return new l(this.firestore,tu(this._delegate,a))}catch(h){throw Gi(h,"collection()","DocumentReference.collection()")}},c.prototype.isEqual=function(a){return(a=(0,Ze.m9)(a))instanceof Un&&o0(this._delegate,a)},c.prototype.set=function(a,h){h=Wg("DocumentReference.set",h);try{return h?ym(this._delegate,a,h):ym(this._delegate,a)}catch(f){throw Gi(f,"setDoc()","DocumentReference.set()")}},c.prototype.update=function(a,h){for(var f=[],g=2;g<arguments.length;g++)f[g-2]=arguments[g];try{return 1===arguments.length?Ef(this._delegate,a):Ef.apply(void 0,(0,S.ev)([this._delegate,a,h],f))}catch(_){throw Gi(_,"updateDoc()","DocumentReference.update()")}},c.prototype.delete=function(){return Ph(an((a=this._delegate).firestore,Tr),[new pc(a._key,Cr.none())]);var a},c.prototype.onSnapshot=function(){for(var a=this,h=[],f=0;f<arguments.length;f++)h[f]=arguments[f];var g=Lh(h),_=kr(h,function(w){return new Jn(a.firestore,new iu(a.firestore._delegate,a._userDataWriter,w._key,w._document,w.metadata,a._delegate.converter))});return Nh(this._delegate,g,_)},c.prototype.get=function(a){var h=this;return("cache"===(null==a?void 0:a.source)?function(f){f=an(f,Un);var g=an(f.firestore,Tr),_=tn(g),w=new Rl(g);return function(D,A){var N=this,F=new dr;return D.asyncQueue.enqueueAndForget(function(){return(0,S.mG)(N,void 0,void 0,function(){var j;return(0,S.Jh)(this,function(z){switch(z.label){case 0:return j=function(ee,Z,ie){return(0,S.mG)(this,void 0,void 0,function(){var xe,Ve;return(0,S.Jh)(this,function(pt){switch(pt.label){case 0:return pt.trys.push([0,2,,3]),[4,(vt=ee,nn=Z,In=Ue(vt),In.persistence.runTransaction("read document","readonly",function(ir){return In.Mn.mn(ir,nn)}))];case 1:return(Ve=pt.sent()).isFoundDocument()?ie.resolve(Ve):Ve.isNoDocument()?ie.resolve(null):ie.reject(new ge(oe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return xe=pt.sent(),Ve=Du(xe,"Failed to get document '"+Z+" from cache"),ie.reject(Ve),[3,3];case 3:return[2]}var vt,nn,In})})},[4,lf(D)];case 1:return[2,j.apply(void 0,[z.sent(),A,F])]}})})}),F.promise}(_,f._key).then(function(D){return new iu(g,w,f._key,D,new ru(null!==D&&D.hasLocalMutations,!0),f.converter)})}(this._delegate):"server"===(null==a?void 0:a.source)?function(f){f=an(f,Un);var g=an(f.firestore,Tr);return df(tn(g),f._key,{source:"server"}).then(function(_){return vm(g,f,_)})}(this._delegate):function(f){f=an(f,Un);var g=an(f.firestore,Tr);return df(tn(g),f._key).then(function(_){return vm(g,f,_)})}(this._delegate)).then(function(f){return new Jn(h.firestore,new iu(h.firestore._delegate,h._userDataWriter,f._key,f._document,f.metadata,h._delegate.converter))})},c.prototype.withConverter=function(a){return new c(this.firestore,this._delegate.withConverter(a?Nu.nu(this.firestore,a):null))},c}();function Gi(c,a,h){return c.message=c.message.replace(a,h),c}function Lh(c){for(var a=0,h=c;a<h.length;a++){var f=h[a];if("object"==typeof f&&!Au(f))return f}return{}}function kr(c,a){var h,f,g;return{next:function(_){g.next&&g.next(a(_))},error:null===(h=(g=Au(c[0])?c[0]:Au(c[1])?c[1]:"function"==typeof c[0]?{next:c[0],error:c[1],complete:c[2]}:{next:c[1],error:c[2],complete:c[3]}).error)||void 0===h?void 0:h.bind(g),complete:null===(f=g.complete)||void 0===f?void 0:f.bind(g)}}var Jn=function(){function c(a,h){this._firestore=a,this._delegate=h}return Object.defineProperty(c.prototype,"ref",{get:function(){return new su(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),c.prototype.data=function(a){return this._delegate.data(a)},c.prototype.get=function(a,h){return this._delegate.get(a,h)},c.prototype.isEqual=function(a){return _f(this._delegate,a._delegate)},c}(),Yo=function(c){function a(){return null!==c&&c.apply(this,arguments)||this}return(0,S.ZT)(a,c),a.prototype.data=function(h){return this._delegate.data(h)},a}(Jn),Zn=function(){function c(a,h){this.firestore=a,this._delegate=h,this._userDataWriter=new _m(a)}return c.prototype.where=function(a,h,f){try{return new c(this.firestore,Da(this._delegate,(w=f,D=h,A=kh("where",g=a),new fm(A,D,w))))}catch(g){throw Gi(g,/(orderBy|where)\(\)/,"Query.$1()")}var g,w,D,A},c.prototype.orderBy=function(a,h){try{return new c(this.firestore,Da(this._delegate,function(f,g){void 0===g&&(g="asc");var _=g,w=kh("orderBy",f);return new ry(w,_)}(a,h)))}catch(f){throw Gi(f,/(orderBy|where)\(\)/,"Query.$1()")}},c.prototype.limit=function(a){try{return new c(this.firestore,Da(this._delegate,(Qg("limit",h=a),new bf("limit",h,"F"))))}catch(h){throw Gi(h,"limit()","Query.limit()")}var h},c.prototype.limitToLast=function(a){try{return new c(this.firestore,Da(this._delegate,(Qg("limitToLast",h=a),new bf("limitToLast",h,"L"))))}catch(h){throw Gi(h,"limitToLast()","Query.limitToLast()")}var h},c.prototype.startAt=function(){for(var a=[],h=0;h<arguments.length;h++)a[h]=arguments[h];try{return new c(this.firestore,Da(this._delegate,function(){for(var f=[],g=0;g<arguments.length;g++)f[g]=arguments[g];return new pm("startAt",f,!0)}.apply(void 0,a)))}catch(f){throw Gi(f,"startAt()","Query.startAt()")}},c.prototype.startAfter=function(){for(var a=[],h=0;h<arguments.length;h++)a[h]=arguments[h];try{return new c(this.firestore,Da(this._delegate,function(){for(var f=[],g=0;g<arguments.length;g++)f[g]=arguments[g];return new pm("startAfter",f,!1)}.apply(void 0,a)))}catch(f){throw Gi(f,"startAfter()","Query.startAfter()")}},c.prototype.endBefore=function(){for(var a=[],h=0;h<arguments.length;h++)a[h]=arguments[h];try{return new c(this.firestore,Da(this._delegate,function(){for(var f=[],g=0;g<arguments.length;g++)f[g]=arguments[g];return new mm("endBefore",f,!0)}.apply(void 0,a)))}catch(f){throw Gi(f,"endBefore()","Query.endBefore()")}},c.prototype.endAt=function(){for(var a=[],h=0;h<arguments.length;h++)a[h]=arguments[h];try{return new c(this.firestore,Da(this._delegate,function(){for(var f=[],g=0;g<arguments.length;g++)f[g]=arguments[g];return new mm("endAt",f,!1)}.apply(void 0,a)))}catch(f){throw Gi(f,"endAt()","Query.endAt()")}},c.prototype.isEqual=function(a){return im(this._delegate,a._delegate)},c.prototype.get=function(a){var h=this;return("cache"===(null==a?void 0:a.source)?function(f){f=an(f,oo);var g=an(f.firestore,Tr),_=tn(g),w=new Rl(g);return function(D,A){var N=this,F=new dr;return D.asyncQueue.enqueueAndForget(function(){return(0,S.mG)(N,void 0,void 0,function(){var j;return(0,S.Jh)(this,function(z){switch(z.label){case 0:return j=function(ee,Z,ie){return(0,S.mG)(this,void 0,void 0,function(){var xe,Ve,pt,vt,nn;return(0,S.Jh)(this,function(In){switch(In.label){case 0:return In.trys.push([0,2,,3]),[4,bl(ee,Z,!0)];case 1:return nn=In.sent(),xe=new Up(Z,nn.Bn),Ve=xe._o(nn.documents),pt=xe.applyChanges(Ve,!1),ie.resolve(pt.snapshot),[3,3];case 2:return vt=In.sent(),nn=Du(vt,"Failed to execute query '"+Z+" against cache"),ie.reject(nn),[3,3];case 3:return[2]}})})},[4,lf(D)];case 1:return[2,j.apply(void 0,[z.sent(),A,F])]}})})}),F.promise}(_,f._query).then(function(D){return new Ys(g,w,f,D)})}(this._delegate):"server"===(null==a?void 0:a.source)?function(f){f=an(f,oo);var g=an(f.firestore,Tr),_=tn(g),w=new Rl(g);return zi(_,f._query,{source:"server"}).then(function(D){return new Ys(g,w,f,D)})}(this._delegate):function(f){f=an(f,oo);var g=an(f.firestore,Tr),_=tn(g),w=new Rl(g);return dm(f._query),zi(_,f._query).then(function(D){return new Ys(g,w,f,D)})}(this._delegate)).then(function(f){return new ay(h.firestore,new Ys(h.firestore._delegate,h._userDataWriter,h._delegate,f._snapshot))})},c.prototype.onSnapshot=function(){for(var a=this,h=[],f=0;f<arguments.length;f++)h[f]=arguments[f];var g=Lh(h),_=kr(h,function(w){return new ay(a.firestore,new Ys(a.firestore._delegate,a._userDataWriter,a._delegate,w._snapshot))});return Nh(this._delegate,g,_)},c.prototype.withConverter=function(a){return new c(this.firestore,this._delegate.withConverter(a?Nu.nu(this.firestore,a):null))},c}(),r_=function(){function c(a,h){this._firestore=a,this._delegate=h}return Object.defineProperty(c.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"doc",{get:function(){return new Yo(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),c}(),ay=function(){function c(a,h){this._firestore=a,this._delegate=h}return Object.defineProperty(c.prototype,"query",{get:function(){return new Zn(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"docs",{get:function(){var a=this;return this._delegate.docs.map(function(h){return new Yo(a._firestore,h)})},enumerable:!1,configurable:!0}),c.prototype.docChanges=function(a){var h=this;return this._delegate.docChanges(a).map(function(f){return new r_(h._firestore,f)})},c.prototype.forEach=function(a,h){var f=this;this._delegate.forEach(function(g){a.call(h,new Yo(f._firestore,g))})},c.prototype.isEqual=function(a){return _f(this._delegate,a._delegate)},c}(),l=function(c){function a(h,f){var g=this;return(g=c.call(this,h,f)||this).firestore=h,g._delegate=f,g}return(0,S.ZT)(a,c),Object.defineProperty(a.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"parent",{get:function(){var h=this._delegate.parent;return h?new su(this.firestore,h):null},enumerable:!1,configurable:!0}),a.prototype.doc=function(h){try{return new su(this.firestore,void 0===h?Xg(this._delegate):Xg(this._delegate,h))}catch(f){throw Gi(f,"doc()","CollectionReference.doc()")}},a.prototype.add=function(h){var g,_,w,D,A,f=this;return(g=this._delegate,_=h,w=an(g.firestore,Tr),D=Xg(g),A=wf(g.converter,_),Ph(w,[ku(Ws(g.firestore),"addDoc",D._key,A,null!==g.converter,{}).toMutation(D._key,Cr.exists(!1))]).then(function(){return D})).then(function(g){return new su(f.firestore,g)})},a.prototype.isEqual=function(h){return o0(this._delegate,h._delegate)},a.prototype.withConverter=function(h){return new a(this.firestore,this._delegate.withConverter(h?Nu.nu(this.firestore,h):null))},a}(Zn);function p(c){return an(c,Un)}var v=function(){function c(){for(var a=[],h=0;h<arguments.length;h++)a[h]=arguments[h];this._delegate=new(Ea.bind.apply(Ea,(0,S.ev)([void 0],a)))}return c.documentId=function(){return new c(da.keyField().canonicalString())},c.prototype.isEqual=function(a){return(a=(0,Ze.m9)(a))instanceof Ea&&this._delegate._internalPath.isEqual(a._internalPath)},c}(),E=function(){function c(a){this._delegate=a}return c.serverTimestamp=function(){var a=new kl("serverTimestamp");return a._methodName="FieldValue.serverTimestamp",new c(a)},c.delete=function(){var a=new Ru("deleteField");return a._methodName="FieldValue.delete",new c(a)},c.arrayUnion=function(){for(var a=[],h=0;h<arguments.length;h++)a[h]=arguments[h];var f=function(){for(var g=[],_=0;_<arguments.length;_++)g[_]=arguments[_];return new Qs("arrayUnion",g)}.apply(void 0,a);return f._methodName="FieldValue.arrayUnion",new c(f)},c.arrayRemove=function(){for(var a=[],h=0;h<arguments.length;h++)a[h]=arguments[h];var f=function(){for(var g=[],_=0;_<arguments.length;_++)g[_]=arguments[_];return new am("arrayRemove",g)}.apply(void 0,a);return f._methodName="FieldValue.arrayRemove",new c(f)},c.increment=function(a){var h=new um("increment",a);return h._methodName="FieldValue.increment",new c(h)},c.prototype.isEqual=function(a){return this._delegate.isEqual(a._delegate)},c}(),P=$t(716),U={Firestore:sy,GeoPoint:yf,Timestamp:Li,Blob:Ou,Transaction:Ia,WriteBatch:n_,DocumentReference:su,DocumentSnapshot:Jn,Query:Zn,QueryDocumentSnapshot:Yo,QuerySnapshot:ay,CollectionReference:l,FieldPath:v,FieldValue:E,setLogLevel:function a0(c){ds.setLogLevel(c)},CACHE_SIZE_UNLIMITED:-1};!function le(c){c.INTERNAL.registerComponent(new P.wA("firestore",function(f){return a=f.getProvider("app").getImmediate(),h=f.getProvider("auth-internal"),new sy(a,new Tr(a,h),new Xs);var a,h},"PUBLIC").setServiceProps(Object.assign({},U))),c.registerVersion("@firebase/firestore","2.4.1")}(me.Z)},550:($u,Ni,$t)=>{$t.r(Ni);var me=$t(36),S=$t(655),Ze=$t(237),dt=$t(716),At="firebasestorage.googleapis.com",Fo="storageBucket",se=function(k){function x(B,H){var Q=k.call(this,G(B),"Firebase Storage: "+H+" ("+G(B)+")")||this;return Q.customData={serverResponse:null},Q._baseMessage=Q.message,Object.setPrototypeOf(Q,x.prototype),Q}return(0,S.ZT)(x,k),x.prototype._codeEquals=function(B){return G(B)===this.code},Object.defineProperty(x.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(B){this.customData.serverResponse=B,this.message=this.customData.serverResponse?this._baseMessage+"\n"+this.customData.serverResponse:this._baseMessage},enumerable:!1,configurable:!0}),x}(Ze.ZR);function G(k){return"storage/"+k}function we(){return new se("unknown","An unknown error occurred, please check the error payload for server response.")}function Ct(){return new se("canceled","User canceled the upload/download.")}function Dt(){return new se("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function dn(k){return new se("invalid-argument",k)}function Ji(){return new se("app-deleted","The Firebase app was deleted.")}function te(k){return new se("invalid-root-operation","The operation '"+k+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function _e(k,x){return new se("invalid-format","String does not match format '"+k+"': "+x)}function V(k){throw new se("internal-error","Internal error: "+k)}var Pe={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Oe=function k(x,B){this.data=x,this.contentType=B||null};function nt(k,x){switch(k){case Pe.RAW:return new Oe(Qt(x));case Pe.BASE64:case Pe.BASE64URL:return new Oe(wt(k,x));case Pe.DATA_URL:return new Oe(function Ge(k){var x=new un(k);return x.base64?wt(Pe.BASE64,x.rest):function et(k){var x;try{x=decodeURIComponent(k)}catch(B){throw _e(Pe.DATA_URL,"Malformed data URL.")}return Qt(x)}(x.rest)}(x),function Ie(k){return new un(k).contentType}(x))}throw we()}function Qt(k){for(var x=[],B=0;B<k.length;B++){var H=k.charCodeAt(B);if(H<=127)x.push(H);else if(H<=2047)x.push(192|H>>6,128|63&H);else if(55296==(64512&H))if(B<k.length-1&&56320==(64512&k.charCodeAt(B+1))){var ne=H,be=k.charCodeAt(++B);x.push(240|(H=65536|(1023&ne)<<10|1023&be)>>18,128|H>>12&63,128|H>>6&63,128|63&H)}else x.push(239,191,189);else 56320==(64512&H)?x.push(239,191,189):x.push(224|H>>12,128|H>>6&63,128|63&H)}return new Uint8Array(x)}function wt(k,x){switch(k){case Pe.BASE64:var B=-1!==x.indexOf("-"),H=-1!==x.indexOf("_");if(B||H)throw _e(k,"Invalid character '"+(B?"-":"_")+"' found: is it base64url encoded?");break;case Pe.BASE64URL:var ne=-1!==x.indexOf("+"),be=-1!==x.indexOf("/");if(ne||be)throw _e(k,"Invalid character '"+(ne?"+":"/")+"' found: is it base64 encoded?");x=x.replace(/-/g,"+").replace(/_/g,"/")}var fe;try{fe=function de(k){return atob(k)}(x)}catch(lt){throw _e(k,"Invalid character found")}for(var Fe=new Uint8Array(fe.length),it=0;it<fe.length;it++)Fe[it]=fe.charCodeAt(it);return Fe}var un=function k(x){this.base64=!1,this.contentType=null;var B=x.match(/^data:([^,]+)?,/);if(null===B)throw _e(Pe.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var H=B[1]||null;null!=H&&(this.base64=function je(k,x){return k.length>=x.length&&k.substring(k.length-x.length)===x}(H,";base64"),this.contentType=this.base64?H.substring(0,H.length-7):H),this.rest=x.substring(x.indexOf(",")+1)},xn={STATE_CHANGED:"state_changed"},wn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function go(k){switch(k){case"running":case"pausing":case"canceling":return wn.RUNNING;case"paused":return wn.PAUSED;case"success":return wn.SUCCESS;case"canceled":return wn.CANCELED;default:return wn.ERROR}}var Ms=(()=>{return(k=Ms||(Ms={}))[k.NO_ERROR=0]="NO_ERROR",k[k.NETWORK_ERROR=1]="NETWORK_ERROR",k[k.ABORT=2]="ABORT",Ms;var k})(),ks=function(){function k(){var x=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Ms.NO_ERROR,this.sendPromise_=new Promise(function(B){x.xhr_.addEventListener("abort",function(){x.errorCode_=Ms.ABORT,B()}),x.xhr_.addEventListener("error",function(){x.errorCode_=Ms.NETWORK_ERROR,B()}),x.xhr_.addEventListener("load",function(){B()})})}return k.prototype.send=function(x,B,H,Q){if(this.sent_)throw V("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(B,x,!0),void 0!==Q)for(var ne in Q)Q.hasOwnProperty(ne)&&this.xhr_.setRequestHeader(ne,Q[ne].toString());return void 0!==H?this.xhr_.send(H):this.xhr_.send(),this.sendPromise_},k.prototype.getErrorCode=function(){if(!this.sent_)throw V("cannot .getErrorCode() before sending");return this.errorCode_},k.prototype.getStatus=function(){if(!this.sent_)throw V("cannot .getStatus() before sending");try{return this.xhr_.status}catch(x){return-1}},k.prototype.getResponseText=function(){if(!this.sent_)throw V("cannot .getResponseText() before sending");return this.xhr_.responseText},k.prototype.abort=function(){this.xhr_.abort()},k.prototype.getResponseHeader=function(x){return this.xhr_.getResponseHeader(x)},k.prototype.addUploadProgressListener=function(x){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",x)},k.prototype.removeUploadProgressListener=function(x){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",x)},k}(),Mn=function(){function k(){}return k.prototype.createConnection=function(){return function Ku(){return new ks}()},k}(),Jr=function(){function k(x,B){this.bucket=x,this.path_=B}return Object.defineProperty(k.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),k.prototype.fullServerUrl=function(){var x=encodeURIComponent;return"/b/"+x(this.bucket)+"/o/"+x(this.path)},k.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},k.makeFromBucketSpec=function(x,B){var H;try{H=k.makeFromUrl(x,B)}catch(Q){return new k(x,"")}if(""===H.path)return H;throw function Xt(k){return new se("invalid-default-bucket","Invalid default bucket '"+k+"'.")}(x)},k.makeFromUrl=function(x,B){var H=null,Q="([A-Za-z0-9.\\-_]+)",fe=new RegExp("^gs://"+Q+"(/(.*))?$","i");function it(li){li.path_=decodeURIComponent(li.path)}for(var _t=B.replace(/[.]/g,"\\."),jo=[{regex:fe,indices:{bucket:1,path:3},postModify:function ne(li){"/"===li.path.charAt(li.path.length-1)&&(li.path_=li.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+_t+"/v[A-Za-z0-9_]+/b/"+Q+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:it},{regex:new RegExp("^https?://"+(B===At?"(?:storage.googleapis.com|storage.cloud.google.com)":B)+"/"+Q+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:it}],Ns=0;Ns<jo.length;Ns++){var rl=jo[Ns],ln=rl.regex.exec(x);if(ln){var ci=ln[rl.indices.path];ci||(ci=""),H=new k(ln[rl.indices.bucket],ci),rl.postModify(H);break}}if(null==H)throw function Lr(k){return new se("invalid-url","Invalid URL '"+k+"'.")}(x);return H},k}(),Jh=function(){function k(x){this.promise_=Promise.reject(x)}return k.prototype.getPromise=function(){return this.promise_},k.prototype.cancel=function(x){},k}();function mr(k){return"string"==typeof k||k instanceof String}function ui(k){return yn()&&k instanceof Blob}function yn(){return"undefined"!=typeof Blob}function Ra(k,x,B,H){if(H<x)throw dn("Invalid value for '"+k+"'. Expected "+x+" or greater.");if(H>B)throw dn("Invalid value for '"+k+"'. Expected "+B+" or less.")}function ss(k,x){var B=x.match(/^(\w+):\/\/.+/),Q=x;return null==(null==B?void 0:B[1])&&(Q="https://"+x),Q+"/v0"+k}function Zh(k){var x=encodeURIComponent,B="?";for(var H in k)k.hasOwnProperty(H)&&(B=B+(x(H)+"=")+x(k[H])+"&");return B.slice(0,-1)}var Di=function(){function k(x,B,H,Q,ne,be,fe,Fe,it,lt,_t){var Sr=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=x,this.method_=B,this.headers_=H,this.body_=Q,this.successCodes_=ne.slice(),this.additionalRetryCodes_=be.slice(),this.callback_=fe,this.errorCallback_=Fe,this.progressCallback_=lt,this.timeout_=it,this.pool_=_t,this.promise_=new Promise(function(ar,Vt){Sr.resolve_=ar,Sr.reject_=Vt,Sr.start_()})}return k.prototype.start_=function(){var x=this;function H(Q,ne){var be=x.resolve_,fe=x.reject_,Fe=ne.connection;if(ne.wasSuccessCode)try{var it=x.callback_(Fe,Fe.getResponseText());!function Pi(k){return void 0!==k}(it)?be():be(it)}catch(_t){fe(_t)}else if(null!==Fe)(lt=we()).serverResponse=Fe.getResponseText(),fe(x.errorCallback_?x.errorCallback_(Fe,lt):lt);else if(ne.canceled)fe(lt=x.appDelete_?Ji():Ct());else{var lt;fe(lt=function Lt(){return new se("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())}}this.canceled_?H(0,new ia(!1,null,!0)):this.backoffId_=function Kt(k,x,B){var H=1,Q=null,ne=!1,be=0;function fe(){return 2===be}var Fe=!1;function it(){for(var Vt=[],ur=0;ur<arguments.length;ur++)Vt[ur]=arguments[ur];Fe||(Fe=!0,x.apply(null,Vt))}function lt(Vt){Q=setTimeout(function(){Q=null,k(_t,fe())},Vt)}function _t(Vt){for(var ur=[],Vr=1;Vr<arguments.length;Vr++)ur[Vr-1]=arguments[Vr];if(!Fe){if(Vt)return void it.call.apply(it,(0,S.ev)([null,Vt],ur));var Fi;if(fe()||ne)return void it.call.apply(it,(0,S.ev)([null,Vt],ur));H<64&&(H*=2),1===be?(be=2,Fi=0):Fi=1e3*(H+Math.random()),lt(Fi)}}var Sr=!1;function ar(Vt){Sr||(Sr=!0,!Fe&&(null!==Q?(Vt||(be=2),clearTimeout(Q),lt(0)):Vt||(be=1)))}return lt(0),setTimeout(function(){ne=!0,ar(!0)},B),ar}(function B(Q,ne){if(ne)Q(!1,new ia(!1,null,!0));else{var be=x.pool_.createConnection();x.pendingConnection_=be,null!==x.progressCallback_&&be.addUploadProgressListener(fe),be.send(x.url_,x.method_,x.body_,x.headers_).then(function(){null!==x.progressCallback_&&be.removeUploadProgressListener(fe),x.pendingConnection_=null;var Fe=be.getErrorCode()===Ms.NO_ERROR,it=be.getStatus();if(Fe&&!x.isRetryStatusCode_(it)){var _t=-1!==x.successCodes_.indexOf(it);Q(!0,new ia(_t,be))}else{var lt=be.getErrorCode()===Ms.ABORT;Q(!1,new ia(!1,null,lt))}})}function fe(Fe){null!==x.progressCallback_&&x.progressCallback_(Fe.loaded,Fe.lengthComputable?Fe.total:-1)}},H,this.timeout_)},k.prototype.getPromise=function(){return this.promise_},k.prototype.cancel=function(x){this.canceled_=!0,this.appDelete_=x||!1,null!==this.backoffId_&&function on(k){k(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()},k.prototype.isRetryStatusCode_=function(x){var B=x>=500&&x<600,Q=-1!==[408,429].indexOf(x),ne=-1!==this.additionalRetryCodes_.indexOf(x);return B||Q||ne},k}(),ia=function k(x,B,H){this.wasSuccessCode=x,this.connection=B,this.canceled=!!H};function Lo(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Wu(){for(var k=[],x=0;x<arguments.length;x++)k[x]=arguments[x];var B=Lo();if(void 0!==B){for(var H=new B,Q=0;Q<k.length;Q++)H.append(k[Q]);return H.getBlob()}if(yn())return new Blob(k);throw new se("unsupported-environment","This browser doesn't seem to support creating Blobs")}var $n=function(){function k(x,B){var H=0,Q="";ui(x)?(this.data_=x,H=x.size,Q=x.type):x instanceof ArrayBuffer?(B?this.data_=new Uint8Array(x):(this.data_=new Uint8Array(x.byteLength),this.data_.set(new Uint8Array(x))),H=this.data_.length):x instanceof Uint8Array&&(B?this.data_=x:(this.data_=new Uint8Array(x.length),this.data_.set(x)),H=x.length),this.size_=H,this.type_=Q}return k.prototype.size=function(){return this.size_},k.prototype.type=function(){return this.type_},k.prototype.slice=function(x,B){if(ui(this.data_)){var Q=function Qu(k,x,B){return k.webkitSlice?k.webkitSlice(x,B):k.mozSlice?k.mozSlice(x,B):k.slice?k.slice(x,B):null}(this.data_,x,B);return null===Q?null:new k(Q)}return new k(new Uint8Array(this.data_.buffer,x,B-x),!0)},k.getBlob=function(){for(var x=[],B=0;B<arguments.length;B++)x[B]=arguments[B];if(yn()){var H=x.map(function(Fe){return Fe instanceof k?Fe.data_:Fe});return new k(Wu.apply(null,H))}var Q=x.map(function(Fe){return mr(Fe)?nt(Pe.RAW,Fe).data:Fe.data_}),ne=0;Q.forEach(function(Fe){ne+=Fe.byteLength});var be=new Uint8Array(ne),fe=0;return Q.forEach(function(Fe){for(var it=0;it<Fe.length;it++)be[fe++]=Fe[it]}),new k(be,!0)},k.prototype.uploadData=function(){return this.data_},k}();function Oa(k){var x;try{x=JSON.parse(k)}catch(B){return null}return function sr(k){return"object"==typeof k&&!Array.isArray(k)}(x)?x:null}function J(k){var x=k.lastIndexOf("/",k.length-2);return-1===x?k:k.slice(x+1)}function re(k,x){return x}var W=function k(x,B,H,Q){this.server=x,this.local=B||x,this.writable=!!H,this.xform=Q||re},Re=null;function Jt(){if(Re)return Re;var k=[];k.push(new W("bucket")),k.push(new W("generation")),k.push(new W("metageneration")),k.push(new W("name","fullPath",!0));var B=new W("name");B.xform=function x(ne,be){return function gt(k){return!mr(k)||k.length<2?k:J(k)}(be)},k.push(B);var Q=new W("size");return Q.xform=function H(ne,be){return void 0!==be?Number(be):be},k.push(Q),k.push(new W("timeCreated")),k.push(new W("updated")),k.push(new W("md5Hash",null,!0)),k.push(new W("cacheControl",null,!0)),k.push(new W("contentDisposition",null,!0)),k.push(new W("contentEncoding",null,!0)),k.push(new W("contentLanguage",null,!0)),k.push(new W("contentType",null,!0)),k.push(new W("metadata","customMetadata",!0)),Re=k}function Zr(k,x,B){var H=Oa(x);return null===H?null:function sn(k,x,B){for(var H={type:"file"},Q=B.length,ne=0;ne<Q;ne++){var be=B[ne];H[be.local]=be.xform(H,x[be.server])}return function fn(k,x){Object.defineProperty(k,"ref",{get:function B(){var ne=new Jr(k.bucket,k.fullPath);return x._makeStorageReference(ne)}})}(H,k),H}(k,H,B)}function Ht(k,x){for(var B={},H=x.length,Q=0;Q<H;Q++){var ne=x[Q];ne.writable&&(B[ne.server]=k[ne.local])}return JSON.stringify(B)}var Bo="prefixes";var oa=function k(x,B,H,Q){this.url=x,this.method=B,this.handler=H,this.timeout=Q,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function gr(k){if(!k)throw we()}function Na(k,x){return function B(H,Q){var ne=Zr(k,Q,x);return gr(null!==ne),ne}}function as(k){return function x(B,H){var Q;return Q=401===B.getStatus()?B.getResponseText().includes("Firebase App Check token is invalid")?function Ut(){return new se("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function He(){return new se("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===B.getStatus()?function ke(k){return new se("quota-exceeded","Quota for bucket '"+k+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(k.bucket):403===B.getStatus()?function Gt(k){return new se("unauthorized","User does not have permission to access '"+k+"'.")}(k.path):H,Q.serverResponse=H.serverResponse,Q}}function cu(k){var x=as(k);return function B(H,Q){var ne=x(H,Q);return 404===H.getStatus()&&(ne=function Me(k){return new se("object-not-found","Object '"+k+"' does not exist.")}(k.path)),ne.serverResponse=Q.serverResponse,ne}}function Yc(k,x,B){var Q=ss(x.fullServerUrl(),k.host),be=k.maxOperationRetryTime,fe=new oa(Q,"GET",Na(k,B),be);return fe.errorHandler=cu(x),fe}function Yu(k,x,B,H,Q){var ne={};ne.prefix=x.isRoot?"":x.path+"/",B&&B.length>0&&(ne.delimiter=B),H&&(ne.pageToken=H),Q&&(ne.maxResults=Q);var fe=ss(x.bucketOnlyServerUrl(),k.host),it=k.maxOperationRetryTime,lt=new oa(fe,"GET",function Qc(k,x){return function B(H,Q){var ne=function Os(k,x,B){var H=Oa(B);return null===H?null:function Wc(k,x,B){var H={prefixes:[],items:[],nextPageToken:B.nextPageToken};if(B[Bo])for(var Q=0,ne=B[Bo];Q<ne.length;Q++){var fe=ne[Q].replace(/\/$/,""),Fe=k._makeStorageReference(new Jr(x,fe));H.prefixes.push(Fe)}if(B.items)for(var it=0,lt=B.items;it<lt.length;it++)Fe=k._makeStorageReference(new Jr(x,lt[it].name)),H.items.push(Fe);return H}(k,x,H)}(k,x,Q);return gr(null!==ne),ne}}(k,x.bucket),it);return lt.urlParams=ne,lt.errorHandler=as(x),lt}function nd(k,x,B){var H=Object.assign({},B);return H.fullPath=k.path,H.size=x.size(),H.contentType||(H.contentType=function td(k,x){return k&&k.contentType||x&&x.type()||"application/octet-stream"}(null,x)),H}var Ju=function k(x,B,H,Q){this.current=x,this.total=B,this.finalized=!!H,this.metadata=Q||null};function wr(k,x){var B=null;try{B=k.getResponseHeader("X-Goog-Upload-Status")}catch(Q){gr(!1)}return gr(!!B&&-1!==(x||["active"]).indexOf(B)),B}var cn=function k(x,B,H){var Q=function Gn(k){return"function"==typeof k}(x)||null!=B||null!=H;if(Q)this.next=x,this.error=B,this.complete=H;else{var ne=x;this.next=ne.next,this.error=ne.error,this.complete=ne.complete}};function La(k){return function(){for(var x=[],B=0;B<arguments.length;B++)x[B]=arguments[B];Promise.resolve().then(function(){return k.apply(void 0,x)})}}var vn=function(){function k(x,B,H){var Q=this;void 0===H&&(H=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=x,this._blob=B,this._metadata=H,this._mappings=Jt(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(ne){Q._request=void 0,Q._chunkMultiplier=1,ne._codeEquals("canceled")?(Q._needToFetchStatus=!0,Q.completeTransitions_()):(Q._error=ne,Q._transition("error"))},this._metadataErrorHandler=function(ne){Q._request=void 0,ne._codeEquals("canceled")?Q.completeTransitions_():(Q._error=ne,Q._transition("error"))},this._promise=new Promise(function(ne,be){Q._resolve=ne,Q._reject=be,Q._start()}),this._promise.then(null,function(){})}return k.prototype._makeProgressCallback=function(){var x=this,B=this._transferred;return function(H){return x._updateProgress(B+H)}},k.prototype._shouldDoResumable=function(x){return x.size()>262144},k.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},k.prototype._resolveToken=function(x){var B=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(H){var Q=H[0],ne=H[1];switch(B._state){case"running":x(Q,ne);break;case"canceling":B._transition("canceled");break;case"pausing":B._transition("paused")}})},k.prototype._createResumable=function(){var x=this;this._resolveToken(function(B,H){var Q=function Fa(k,x,B,H,Q){var ne=x.bucketOnlyServerUrl(),be=nd(x,H,Q),fe={name:be.fullPath},Fe=ss(ne,k.host),lt={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+H.size(),"X-Goog-Upload-Header-Content-Type":be.contentType,"Content-Type":"application/json; charset=utf-8"},_t=Ht(be,B),Vt=new oa(Fe,"POST",function ar(ur){var Vr;wr(ur);try{Vr=ur.getResponseHeader("X-Goog-Upload-URL")}catch(jr){gr(!1)}return gr(mr(Vr)),Vr},k.maxUploadRetryTime);return Vt.urlParams=fe,Vt.headers=lt,Vt.body=_t,Vt.errorHandler=as(x),Vt}(x._ref.storage,x._ref._location,x._mappings,x._blob,x._metadata),ne=x._ref.storage._makeRequest(Q,B,H);x._request=ne,ne.getPromise().then(function(be){x._request=void 0,x._uploadUrl=be,x._needToFetchStatus=!1,x.completeTransitions_()},x._errorHandler)})},k.prototype._fetchStatus=function(){var x=this,B=this._uploadUrl;this._resolveToken(function(H,Q){var ne=function ei(k,x,B,H){var Fe=new oa(B,"POST",function ne(it){var lt=wr(it,["active","final"]),_t=null;try{_t=it.getResponseHeader("X-Goog-Upload-Size-Received")}catch(ar){gr(!1)}_t||gr(!1);var Sr=Number(_t);return gr(!isNaN(Sr)),new Ju(Sr,H.size(),"final"===lt)},k.maxUploadRetryTime);return Fe.headers={"X-Goog-Upload-Command":"query"},Fe.errorHandler=as(x),Fe}(x._ref.storage,x._ref._location,B,x._blob),be=x._ref.storage._makeRequest(ne,H,Q);x._request=be,be.getPromise().then(function(fe){fe=fe,x._request=void 0,x._updateProgress(fe.current),x._needToFetchStatus=!1,fe.finalized&&(x._needToFetchMetadata=!0),x.completeTransitions_()},x._errorHandler)})},k.prototype._continueUpload=function(){var x=this,B=262144*this._chunkMultiplier,H=new Ju(this._transferred,this._blob.size()),Q=this._uploadUrl;this._resolveToken(function(ne,be){var fe;try{fe=function yo(k,x,B,H,Q,ne,be,fe){var Fe=new Ju(0,0);if(be?(Fe.current=be.current,Fe.total=be.total):(Fe.current=0,Fe.total=H.size()),H.size()!==Fe.total)throw function or(){return new se("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();var it=Fe.total-Fe.current,lt=it;Q>0&&(lt=Math.min(lt,Q));var _t=Fe.current,Vt={"X-Goog-Upload-Command":lt===it?"upload, finalize":"upload","X-Goog-Upload-Offset":""+Fe.current},ur=H.slice(_t,_t+lt);if(null===ur)throw Dt();var jo=new oa(B,"POST",function Vr(Ns,rl){var li,ln=wr(Ns,["active","final"]),Ur=Fe.current+lt,ci=H.size();return li="final"===ln?Na(x,ne)(Ns,rl):null,new Ju(Ur,ci,"final"===ln,li)},x.maxUploadRetryTime);return jo.headers=Vt,jo.body=ur.uploadData(),jo.progressCallback=fe||null,jo.errorHandler=as(k),jo}(x._ref._location,x._ref.storage,Q,x._blob,B,x._mappings,H,x._makeProgressCallback())}catch(it){return x._error=it,void x._transition("error")}var Fe=x._ref.storage._makeRequest(fe,ne,be);x._request=Fe,Fe.getPromise().then(function(it){x._increaseMultiplier(),x._request=void 0,x._updateProgress(it.current),it.finalized?(x._metadata=it.metadata,x._transition("success")):x.completeTransitions_()},x._errorHandler)})},k.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},k.prototype._fetchMetadata=function(){var x=this;this._resolveToken(function(B,H){var Q=Yc(x._ref.storage,x._ref._location,x._mappings),ne=x._ref.storage._makeRequest(Q,B,H);x._request=ne,ne.getPromise().then(function(be){x._request=void 0,x._metadata=be,x._transition("success")},x._metadataErrorHandler)})},k.prototype._oneShotUpload=function(){var x=this;this._resolveToken(function(B,H){var Q=function Xu(k,x,B,H,Q){var ne=x.bucketOnlyServerUrl(),be={"X-Goog-Upload-Protocol":"multipart"},Fe=function fe(){for(var jo="",Ns=0;Ns<2;Ns++)jo+=Math.random().toString().slice(2);return jo}();be["Content-Type"]="multipart/related; boundary="+Fe;var it=nd(x,H,Q),lt=Ht(it,B),ar=$n.getBlob("--"+Fe+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+lt+"\r\n--"+Fe+"\r\nContent-Type: "+it.contentType+"\r\n\r\n",H,"\r\n--"+Fe+"--");if(null===ar)throw Dt();var Vt={name:it.fullPath},ur=ss(ne,k.host),jr=k.maxUploadRetryTime,Fi=new oa(ur,"POST",Na(k,B),jr);return Fi.urlParams=Vt,Fi.headers=be,Fi.body=ar.uploadData(),Fi.errorHandler=as(x),Fi}(x._ref.storage,x._ref._location,x._mappings,x._blob,x._metadata),ne=x._ref.storage._makeRequest(Q,B,H);x._request=ne,ne.getPromise().then(function(be){x._request=void 0,x._metadata=be,x._updateProgress(x._blob.size()),x._transition("success")},x._errorHandler)})},k.prototype._updateProgress=function(x){var B=this._transferred;this._transferred=x,this._transferred!==B&&this._notifyObservers()},k.prototype._transition=function(x){if(this._state!==x)switch(x){case"canceling":case"pausing":this._state=x,void 0!==this._request&&this._request.cancel();break;case"running":var B="paused"===this._state;this._state=x,B&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=x,this._notifyObservers();break;case"canceled":this._error=Ct(),this._state=x,this._notifyObservers()}},k.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(k.prototype,"snapshot",{get:function(){var x=go(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:x,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),k.prototype.on=function(x,B,H,Q){var ne=this,be=new cn(B,H,Q);return this._addObserver(be),function(){ne._removeObserver(be)}},k.prototype.then=function(x,B){return this._promise.then(x,B)},k.prototype.catch=function(x){return this.then(null,x)},k.prototype._addObserver=function(x){this._observers.push(x),this._notifyObserver(x)},k.prototype._removeObserver=function(x){var B=this._observers.indexOf(x);-1!==B&&this._observers.splice(B,1)},k.prototype._notifyObservers=function(){var x=this;this._finishPromise(),this._observers.slice().forEach(function(H){x._notifyObserver(H)})},k.prototype._finishPromise=function(){if(void 0!==this._resolve){var x=!0;switch(go(this._state)){case wn.SUCCESS:La(this._resolve.bind(null,this.snapshot))();break;case wn.CANCELED:case wn.ERROR:La(this._reject.bind(null,this._error))();break;default:x=!1}x&&(this._resolve=void 0,this._reject=void 0)}},k.prototype._notifyObserver=function(x){switch(go(this._state)){case wn.RUNNING:case wn.PAUSED:x.next&&La(x.next.bind(x,this.snapshot))();break;case wn.SUCCESS:x.complete&&La(x.complete.bind(x))();break;default:x.error&&La(x.error.bind(x,this._error))()}},k.prototype.resume=function(){var x="paused"===this._state||"pausing"===this._state;return x&&this._transition("running"),x},k.prototype.pause=function(){var x="running"===this._state;return x&&this._transition("pausing"),x},k.prototype.cancel=function(){var x="running"===this._state||"pausing"===this._state;return x&&this._transition("canceling"),x},k}(),Vo=function(){function k(x,B){this._service=x,this._location=B instanceof Jr?B:Jr.makeFromUrl(B,x.host)}return k.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},k.prototype._newRef=function(x,B){return new k(x,B)},Object.defineProperty(k.prototype,"root",{get:function(){var x=new Jr(this._location.bucket,"");return this._newRef(this._service,x)},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"name",{get:function(){return J(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"parent",{get:function(){var x=function K(k){if(0===k.length)return null;var x=k.lastIndexOf("/");return-1===x?"":k.slice(0,x)}(this._location.path);if(null===x)return null;var B=new Jr(this._location.bucket,x);return new k(this._service,B)},enumerable:!1,configurable:!0}),k.prototype._throwIfRoot=function(x){if(""===this._location.path)throw te(x)},k}();function sa(k){var x={prefixes:[],items:[]};return xt(k,x).then(function(){return x})}function xt(k,x,B){return(0,S.mG)(this,void 0,void 0,function(){var Q,ne,be;return(0,S.Jh)(this,function(fe){switch(fe.label){case 0:return[4,aa(k,{pageToken:B})];case 1:return Q=fe.sent(),(ne=x.prefixes).push.apply(ne,Q.prefixes),(be=x.items).push.apply(be,Q.items),null==Q.nextPageToken?[3,3]:[4,xt(k,x,Q.nextPageToken)];case 2:fe.sent(),fe.label=3;case 3:return[2]}})})}function aa(k,x){return(0,S.mG)(this,void 0,void 0,function(){var B,H;return(0,S.Jh)(this,function(Q){switch(Q.label){case 0:return null!=x&&"number"==typeof x.maxResults&&Ra("options.maxResults",1,1e3,x.maxResults),H=Yu(k.storage,k._location,"/",(B=x||{}).pageToken,B.maxResults),[4,k.storage.makeRequestWithTokens(H)];case 1:return[2,Q.sent().getPromise()]}})})}function Jc(k){return(0,S.mG)(this,void 0,void 0,function(){var x;return(0,S.Jh)(this,function(B){switch(B.label){case 0:return k._throwIfRoot("getDownloadURL"),x=function Xc(k,x,B){var Q=ss(x.fullServerUrl(),k.host),be=k.maxOperationRetryTime,fe=new oa(Q,"GET",function zl(k,x){return function B(H,Q){var ne=Zr(k,Q,x);return gr(null!==ne),function Zt(k,x,B){var H=Oa(x);if(null===H||!mr(H.downloadTokens))return null;var Q=H.downloadTokens;if(0===Q.length)return null;var ne=encodeURIComponent;return Q.split(",").map(function(Fe){var lt=k.fullPath;return ss("/b/"+ne(k.bucket)+"/o/"+ne(lt),B)+Zh({alt:"media",token:Fe})})[0]}(ne,Q,k.host)}}(k,B),be);return fe.errorHandler=cu(x),fe}(k.storage,k._location,Jt()),[4,k.storage.makeRequestWithTokens(x)];case 1:return[2,B.sent().getPromise().then(function(H){if(null===H)throw function at(){return new se("no-download-url","The given file does not have any download URLs.")}();return H})]}})})}function Or(k,x){var B=function $(k,x){var B=x.split("/").filter(function(H){return H.length>0}).join("/");return 0===k.length?B:k+"/"+B}(k._location.path,x),H=new Jr(k._location.bucket,B);return new Vo(k.storage,H)}function us(k){return/^[A-Za-z]+:\/\//.test(k)}function Zu(k,x){if(k instanceof tc){var B=k;if(null==B._bucket)throw function Ci(){return new se("no-default-bucket","No default bucket found. Did you set the '"+Fo+"' property when initializing the app?")}();var H=new Vo(B,B._bucket);return null!=x?Zu(H,x):H}return void 0!==x?Or(k,x):k}function ec(k,x){if(x&&us(x)){if(k instanceof tc)return function zf(k,x){return new Vo(k,x)}(k,x);throw dn("To use ref(service, url), the first argument must be a Storage instance.")}return Zu(k,x)}function Br(k,x){var B=null==x?void 0:x[Fo];return null==B?null:Jr.makeFromBucketSpec(B,k)}var tc=function(){function k(x,B,H,Q,ne,be){this.app=x,this._authProvider=B,this._appCheckProvider=H,this._pool=Q,this._url=ne,this._firebaseVersion=be,this._bucket=null,this._host=At,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=ne?Jr.makeFromBucketSpec(ne,this._host):Br(this._host,this.app.options)}return Object.defineProperty(k.prototype,"host",{get:function(){return this._host},set:function(x){this._host=x,this._bucket=null!=this._url?Jr.makeFromBucketSpec(this._url,x):Br(x,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(x){Ra("time",0,Number.POSITIVE_INFINITY,x),this._maxUploadRetryTime=x},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(x){Ra("time",0,Number.POSITIVE_INFINITY,x),this._maxOperationRetryTime=x},enumerable:!1,configurable:!0}),k.prototype._getAuthToken=function(){return(0,S.mG)(this,void 0,void 0,function(){var x,B;return(0,S.Jh)(this,function(H){switch(H.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(x=this._authProvider.getImmediate({optional:!0}))?[4,x.getToken()]:[3,2];case 1:if(null!==(B=H.sent()))return[2,B.accessToken];H.label=2;case 2:return[2,null]}})})},k.prototype._getAppCheckToken=function(){return(0,S.mG)(this,void 0,void 0,function(){var x;return(0,S.Jh)(this,function(H){switch(H.label){case 0:return(x=this._appCheckProvider.getImmediate({optional:!0}))?[4,x.getToken()]:[3,2];case 1:return[2,H.sent().token];case 2:return[2,null]}})})},k.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(x){return x.cancel()}),this._requests.clear()),Promise.resolve()},k.prototype._makeStorageReference=function(x){return new Vo(this,x)},k.prototype._makeRequest=function(x,B,H){var Q=this;if(this._deleted)return new Jh(Ji());var ne=function Rs(k,x,B,H,Q,ne){var be=Zh(k.urlParams),fe=k.url+be,Fe=Object.assign({},k.headers);return function qf(k,x){x&&(k["X-Firebase-GMPID"]=x)}(Fe,x),function Km(k,x){null!==x&&x.length>0&&(k.Authorization="Firebase "+x)}(Fe,B),function Kc(k,x){k["X-Firebase-Storage-Version"]="webjs/"+(null!=x?x:"AppManager")}(Fe,ne),function Ln(k,x){null!==x&&(k["X-Firebase-AppCheck"]=x)}(Fe,H),new Di(fe,k.method,Fe,k.body,k.successCodes,k.additionalRetryCodes,k.handler,k.errorHandler,k.timeout,k.progressCallback,Q)}(x,this._appId,B,H,this._pool,this._firebaseVersion);return this._requests.add(ne),ne.getPromise().then(function(){return Q._requests.delete(ne)},function(){return Q._requests.delete(ne)}),ne},k.prototype.makeRequestWithTokens=function(x){return(0,S.mG)(this,void 0,void 0,function(){var B;return(0,S.Jh)(this,function(ne){switch(ne.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return B=ne.sent(),[2,this._makeRequest(x,B[0],B[1])]}})})},k}();function tl(k,x){return ec(k=(0,Ze.m9)(k),x)}var ft=function(){function k(x,B,H){this._delegate=x,this.task=B,this.ref=H}return Object.defineProperty(k.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),k}(),pn=function(){function k(x,B){this._delegate=x,this._ref=B,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(k.prototype,"snapshot",{get:function(){return new ft(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),k.prototype.then=function(x,B){var H=this;return this._delegate.then(function(Q){if(x)return x(new ft(Q,H,H._ref))},B)},k.prototype.on=function(x,B,H,Q){var ne=this,be=void 0;return B&&(be="function"==typeof B?function(fe){return B(new ft(fe,ne,ne._ref))}:{next:B.next?function(fe){return B.next(new ft(fe,ne,ne._ref))}:void 0,complete:B.complete||void 0,error:B.error||void 0}),this._delegate.on(x,be,H||void 0,Q||void 0)},k}(),ua=function(){function k(x,B){this._delegate=x,this._service=B}return Object.defineProperty(k.prototype,"prefixes",{get:function(){var x=this;return this._delegate.prefixes.map(function(B){return new _o(B,x._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"items",{get:function(){var x=this;return this._delegate.items.map(function(B){return new _o(B,x._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),k}(),_o=function(){function k(x,B){this._delegate=x,this.storage=B}return Object.defineProperty(k.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),k.prototype.toString=function(){return this._delegate.toString()},k.prototype.child=function(x){var B=function ad(k,x){return Or(k,x)}(this._delegate,x);return new k(B,this.storage)},Object.defineProperty(k.prototype,"root",{get:function(){return new k(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"parent",{get:function(){var x=this._delegate.parent;return null==x?null:new k(x,this.storage)},enumerable:!1,configurable:!0}),k.prototype.put=function(x,B){return this._throwIfRoot("put"),new pn(function Zc(k,x,B){return function id(k,x,B){return k._throwIfRoot("uploadBytesResumable"),new vn(k,new $n(x),B)}(k=(0,Ze.m9)(k),x,B)}(this._delegate,x,B),this)},k.prototype.putString=function(x,B,H){void 0===B&&(B=Pe.RAW),this._throwIfRoot("putString");var Q=nt(B,x),ne=(0,S.pi)({},H);return null==ne.contentType&&null!=Q.contentType&&(ne.contentType=Q.contentType),new pn(new vn(this._delegate,new $n(Q.data,!0),ne),this)},k.prototype.listAll=function(){var x=this;return function sd(k){return sa(k=(0,Ze.m9)(k))}(this._delegate).then(function(B){return new ua(B,x.storage)})},k.prototype.list=function(x){var B=this;return function Wm(k,x){return aa(k=(0,Ze.m9)(k),x)}(this._delegate,x||void 0).then(function(H){return new ua(H,B.storage)})},k.prototype.getMetadata=function(){return function vo(k){return function od(k){return(0,S.mG)(this,void 0,void 0,function(){var x;return(0,S.Jh)(this,function(B){switch(B.label){case 0:return k._throwIfRoot("getMetadata"),x=Yc(k.storage,k._location,Jt()),[4,k.storage.makeRequestWithTokens(x)];case 1:return[2,B.sent().getPromise()]}})})}(k=(0,Ze.m9)(k))}(this._delegate)},k.prototype.updateMetadata=function(x){return function nc(k,x){return function Mt(k,x){return(0,S.mG)(this,void 0,void 0,function(){var B;return(0,S.Jh)(this,function(H){switch(H.label){case 0:return k._throwIfRoot("updateMetadata"),B=function Pa(k,x,B,H){var ne=ss(x.fullServerUrl(),k.host),fe=Ht(B,H),it=k.maxOperationRetryTime,lt=new oa(ne,"PATCH",Na(k,H),it);return lt.headers={"Content-Type":"application/json; charset=utf-8"},lt.body=fe,lt.errorHandler=cu(x),lt}(k.storage,k._location,x,Jt()),[4,k.storage.makeRequestWithTokens(B)];case 1:return[2,H.sent().getPromise()]}})})}(k=(0,Ze.m9)(k),x)}(this._delegate,x)},k.prototype.getDownloadURL=function(){return function el(k){return Jc(k=(0,Ze.m9)(k))}(this._delegate)},k.prototype.delete=function(){return this._throwIfRoot("delete"),function Gl(k){return function yt(k){return(0,S.mG)(this,void 0,void 0,function(){var x;return(0,S.Jh)(this,function(B){switch(B.label){case 0:return k._throwIfRoot("deleteObject"),x=function ed(k,x){var H=ss(x.fullServerUrl(),k.host),fe=new oa(H,"DELETE",function be(Fe,it){},k.maxOperationRetryTime);return fe.successCodes=[200,204],fe.errorHandler=cu(x),fe}(k.storage,k._location),[4,k.storage.makeRequestWithTokens(x)];case 1:return[2,B.sent().getPromise()]}})})}(k=(0,Ze.m9)(k))}(this._delegate)},k.prototype._throwIfRoot=function(x){if(""===this._delegate._location.path)throw te(x)},k}(),$l=function(){function k(x,B){this.app=x,this._delegate=B}return Object.defineProperty(k.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),k.prototype.ref=function(x){if(us(x))throw dn("ref() expected a child path but got a URL, use refFromURL instead.");return new _o(tl(this._delegate,x),this)},k.prototype.refFromURL=function(x){if(!us(x))throw dn("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Jr.makeFromUrl(x,this._delegate.host)}catch(B){throw dn("refFromUrl() expected a valid full URL but got an invalid one.")}return new _o(tl(this._delegate,x),this)},k.prototype.setMaxUploadRetryTime=function(x){this._delegate.maxUploadRetryTime=x},k.prototype.setMaxOperationRetryTime=function(x){this._delegate.maxOperationRetryTime=x},k.prototype.useEmulator=function(x,B,H){void 0===H&&(H={}),function $f(k,x,B,H){void 0===H&&(H={}),function Gf(k,x,B,H){void 0===H&&(H={}),k.host="http://"+x+":"+B;var Q=H.mockUserToken;Q&&(k._overrideAuthToken="string"==typeof Q?Q:(0,Ze.Sg)(Q,k.app.options.projectId))}(k,x,B,H)}(this._delegate,x,B,H)},k}();function Kn(k,x){var B=x.instanceIdentifier,H=k.getProvider("app").getImmediate(),Q=k.getProvider("auth-internal"),ne=k.getProvider("app-check-internal");return new $l(H,new tc(H,Q,ne,new Mn,B,me.Z.SDK_VERSION))}!function nl(k){var x={TaskState:wn,TaskEvent:xn,StringFormat:Pe,Storage:tc,Reference:_o};k.INTERNAL.registerComponent(new dt.wA("storage",Kn,"PUBLIC").setServiceProps(x).setMultipleInstances(!0)),k.registerVersion("@firebase/storage","0.7.1")}(me.Z)},655:($u,Ni,$t)=>{$t.d(Ni,{ZT:()=>S,pi:()=>Ze,mG:()=>Xi,Jh:()=>se,XA:()=>Me,CR:()=>ke,ev:()=>Gt});var me=function(te,_e){return(me=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(V,de){V.__proto__=de}||function(V,de){for(var Pe in de)Object.prototype.hasOwnProperty.call(de,Pe)&&(V[Pe]=de[Pe])})(te,_e)};function S(te,_e){if("function"!=typeof _e&&null!==_e)throw new TypeError("Class extends value "+String(_e)+" is not a constructor or null");function V(){this.constructor=te}me(te,_e),te.prototype=null===_e?Object.create(_e):(V.prototype=_e.prototype,new V)}var Ze=function(){return Ze=Object.assign||function(_e){for(var V,de=1,Pe=arguments.length;de<Pe;de++)for(var Oe in V=arguments[de])Object.prototype.hasOwnProperty.call(V,Oe)&&(_e[Oe]=V[Oe]);return _e},Ze.apply(this,arguments)};function Xi(te,_e,V,de){return new(V||(V=Promise))(function(Oe,nt){function Qt(un){try{wt(de.next(un))}catch(Ge){nt(Ge)}}function et(un){try{wt(de.throw(un))}catch(Ge){nt(Ge)}}function wt(un){un.done?Oe(un.value):function Pe(Oe){return Oe instanceof V?Oe:new V(function(nt){nt(Oe)})}(un.value).then(Qt,et)}wt((de=de.apply(te,_e||[])).next())})}function se(te,_e){var de,Pe,Oe,nt,V={label:0,sent:function(){if(1&Oe[0])throw Oe[1];return Oe[1]},trys:[],ops:[]};return nt={next:Qt(0),throw:Qt(1),return:Qt(2)},"function"==typeof Symbol&&(nt[Symbol.iterator]=function(){return this}),nt;function Qt(wt){return function(un){return function et(wt){if(de)throw new TypeError("Generator is already executing.");for(;V;)try{if(de=1,Pe&&(Oe=2&wt[0]?Pe.return:wt[0]?Pe.throw||((Oe=Pe.return)&&Oe.call(Pe),0):Pe.next)&&!(Oe=Oe.call(Pe,wt[1])).done)return Oe;switch(Pe=0,Oe&&(wt=[2&wt[0],Oe.value]),wt[0]){case 0:case 1:Oe=wt;break;case 4:return V.label++,{value:wt[1],done:!1};case 5:V.label++,Pe=wt[1],wt=[0];continue;case 7:wt=V.ops.pop(),V.trys.pop();continue;default:if(!(Oe=(Oe=V.trys).length>0&&Oe[Oe.length-1])&&(6===wt[0]||2===wt[0])){V=0;continue}if(3===wt[0]&&(!Oe||wt[1]>Oe[0]&&wt[1]<Oe[3])){V.label=wt[1];break}if(6===wt[0]&&V.label<Oe[1]){V.label=Oe[1],Oe=wt;break}if(Oe&&V.label<Oe[2]){V.label=Oe[2],V.ops.push(wt);break}Oe[2]&&V.ops.pop(),V.trys.pop();continue}wt=_e.call(te,V)}catch(un){wt=[6,un],Pe=0}finally{de=Oe=0}if(5&wt[0])throw wt[1];return{value:wt[0]?wt[1]:void 0,done:!0}}([wt,un])}}}function Me(te){var _e="function"==typeof Symbol&&Symbol.iterator,V=_e&&te[_e],de=0;if(V)return V.call(te);if(te&&"number"==typeof te.length)return{next:function(){return te&&de>=te.length&&(te=void 0),{value:te&&te[de++],done:!te}}};throw new TypeError(_e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ke(te,_e){var V="function"==typeof Symbol&&te[Symbol.iterator];if(!V)return te;var Pe,nt,de=V.call(te),Oe=[];try{for(;(void 0===_e||_e-- >0)&&!(Pe=de.next()).done;)Oe.push(Pe.value)}catch(Qt){nt={error:Qt}}finally{try{Pe&&!Pe.done&&(V=de.return)&&V.call(de)}finally{if(nt)throw nt.error}}return Oe}function Gt(te,_e,V){if(V||2===arguments.length)for(var Oe,de=0,Pe=_e.length;de<Pe;de++)(Oe||!(de in _e))&&(Oe||(Oe=Array.prototype.slice.call(_e,0,de)),Oe[de]=_e[de]);return te.concat(Oe||Array.prototype.slice.call(_e))}}},$u=>{$u($u.s=787)}]);